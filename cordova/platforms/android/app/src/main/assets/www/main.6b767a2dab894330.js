(self.webpackChunkpetterinary=self.webpackChunkpetterinary||[]).push([[179],{9058:(bn,gt,A)=>{"use strict";A.d(gt,{BH:()=>he,G6:()=>ue,L:()=>je,LL:()=>Oe,Pz:()=>Re,Sg:()=>Fe,UG:()=>Lt,ZB:()=>Me,ZR:()=>ut,aH:()=>Te,b$:()=>gn,eu:()=>W,hl:()=>G,jU:()=>Ge,m9:()=>hi,ne:()=>Kn,pd:()=>zn,r3:()=>nn,ru:()=>qt,tV:()=>ye,uI:()=>Ze,vZ:()=>We,w1:()=>it,xO:()=>pr,xb:()=>Wt,z$:()=>st,zd:()=>Hn});const M=function(ct){const fe=[];let Ce=0;for(let ge=0;ge<ct.length;ge++){let ve=ct.charCodeAt(ge);ve<128?fe[Ce++]=ve:ve<2048?(fe[Ce++]=ve>>6|192,fe[Ce++]=63&ve|128):55296==(64512&ve)&&ge+1<ct.length&&56320==(64512&ct.charCodeAt(ge+1))?(ve=65536+((1023&ve)<<10)+(1023&ct.charCodeAt(++ge)),fe[Ce++]=ve>>18|240,fe[Ce++]=ve>>12&63|128,fe[Ce++]=ve>>6&63|128,fe[Ce++]=63&ve|128):(fe[Ce++]=ve>>12|224,fe[Ce++]=ve>>6&63|128,fe[Ce++]=63&ve|128)}return fe},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ct,fe){if(!Array.isArray(ct))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let ve=0;ve<ct.length;ve+=3){const wt=ct[ve],tn=ve+1<ct.length,kn=tn?ct[ve+1]:0,xn=ve+2<ct.length,yr=xn?ct[ve+2]:0;let dr=(15&kn)<<2|yr>>6,Ct=63&yr;xn||(Ct=64,tn||(dr=64)),ge.push(Ce[wt>>2],Ce[(3&wt)<<4|kn>>4],Ce[dr],Ce[Ct])}return ge.join("")},encodeString(ct,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(ct):this.encodeByteArray(M(ct),fe)},decodeString(ct,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(ct):function(ct){const fe=[];let Ce=0,ge=0;for(;Ce<ct.length;){const ve=ct[Ce++];if(ve<128)fe[ge++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const wt=ct[Ce++];fe[ge++]=String.fromCharCode((31&ve)<<6|63&wt)}else if(ve>239&&ve<365){const xn=((7&ve)<<18|(63&ct[Ce++])<<12|(63&ct[Ce++])<<6|63&ct[Ce++])-65536;fe[ge++]=String.fromCharCode(55296+(xn>>10)),fe[ge++]=String.fromCharCode(56320+(1023&xn))}else{const wt=ct[Ce++],tn=ct[Ce++];fe[ge++]=String.fromCharCode((15&ve)<<12|(63&wt)<<6|63&tn)}}return fe.join("")}(this.decodeStringToByteArray(ct,fe))},decodeStringToByteArray(ct,fe){this.init_();const Ce=fe?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let ve=0;ve<ct.length;){const wt=Ce[ct.charAt(ve++)],kn=ve<ct.length?Ce[ct.charAt(ve)]:0;++ve;const yr=ve<ct.length?Ce[ct.charAt(ve)]:64;++ve;const Qn=ve<ct.length?Ce[ct.charAt(ve)]:64;if(++ve,null==wt||null==kn||null==yr||null==Qn)throw new pe;ge.push(wt<<2|kn>>4),64!==yr&&(ge.push(kn<<4&240|yr>>2),64!==Qn&&ge.push(yr<<6&192|Qn))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ct=0;ct<this.ENCODED_VALS.length;ct++)this.byteToCharMap_[ct]=this.ENCODED_VALS.charAt(ct),this.charToByteMap_[this.byteToCharMap_[ct]]=ct,this.byteToCharMapWebSafe_[ct]=this.ENCODED_VALS_WEBSAFE.charAt(ct),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ct]]=ct,ct>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ct)]=ct,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ct)]=ct)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(ct){return function(ct){const fe=M(ct);return Ee.encodeByteArray(fe,!0)}(ct).replace(/\./g,"")},ye=function(ct){try{return Ee.decodeString(ct,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function Me(ct,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===ct&&(ct={});break;case Array:ct=[];break;default:return fe}for(const Ce in fe)!fe.hasOwnProperty(Ce)||!Ve(Ce)||(ct[Ce]=Me(ct[Ce],fe[Ce]));return ct}function Ve(ct){return"__proto__"!==ct}const xe=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ct=process.env.__FIREBASE_DEFAULTS__;return ct?JSON.parse(ct):void 0})()||(()=>{if(typeof document>"u")return;let ct;try{ct=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const fe=ct&&ye(ct[1]);return fe&&JSON.parse(fe)})()}catch(ct){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ct}`)}},Te=()=>{var ct;return null===(ct=xe())||void 0===ct?void 0:ct.config},Re=ct=>{var fe;return null===(fe=xe())||void 0===fe?void 0:fe[`_${ct}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Ce)=>{this.resolve=fe,this.reject=Ce})}wrapCallback(fe){return(Ce,ge)=>{Ce?this.reject(Ce):this.resolve(ge),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Ce):fe(Ce,ge))}}}function Fe(ct,fe){if(ct.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=fe||"demo-project",ve=ct.iat||0,wt=ct.sub||ct.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:ve,exp:ve+3600,auth_time:ve,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},ct);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(tn)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function Lt(){var ct;const fe=null===(ct=xe())||void 0===ct?void 0:ct.forceEnvironment;if("node"===fe)return!0;if("browser"===fe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function qt(){const ct="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ct&&void 0!==ct.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){const ct=st();return ct.indexOf("MSIE ")>=0||ct.indexOf("Trident/")>=0}function ue(){return!Lt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){try{return"object"==typeof indexedDB}catch{return!1}}function W(){return new Promise((ct,fe)=>{try{let Ce=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(ge);ve.onsuccess=()=>{ve.result.close(),Ce||self.indexedDB.deleteDatabase(ge),ct(!0)},ve.onupgradeneeded=()=>{Ce=!1},ve.onerror=()=>{var wt;fe((null===(wt=ve.error)||void 0===wt?void 0:wt.message)||"")}}catch(Ce){fe(Ce)}})}class ut extends Error{constructor(fe,Ce,ge){super(Ce),this.code=fe,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(fe,Ce,ge){this.service=fe,this.serviceName=Ce,this.errors=ge}create(fe,...Ce){const ge=Ce[0]||{},ve=`${this.service}/${fe}`,wt=this.errors[fe],tn=wt?function Tt(ct,fe){return ct.replace(xt,(Ce,ge)=>{const ve=fe[ge];return null!=ve?String(ve):`<${ge}?>`})}(wt,ge):"Error";return new ut(ve,`${this.serviceName}: ${tn} (${ve}).`,ge)}}const xt=/\{\$([^}]+)}/g;function nn(ct,fe){return Object.prototype.hasOwnProperty.call(ct,fe)}function Wt(ct){for(const fe in ct)if(Object.prototype.hasOwnProperty.call(ct,fe))return!1;return!0}function We(ct,fe){if(ct===fe)return!0;const Ce=Object.keys(ct),ge=Object.keys(fe);for(const ve of Ce){if(!ge.includes(ve))return!1;const wt=ct[ve],tn=fe[ve];if(Ut(wt)&&Ut(tn)){if(!We(wt,tn))return!1}else if(wt!==tn)return!1}for(const ve of ge)if(!Ce.includes(ve))return!1;return!0}function Ut(ct){return null!==ct&&"object"==typeof ct}function pr(ct){const fe=[];for(const[Ce,ge]of Object.entries(ct))Array.isArray(ge)?ge.forEach(ve=>{fe.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ve))}):fe.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ge));return fe.length?"&"+fe.join("&"):""}function Hn(ct){const fe={};return ct.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[ve,wt]=ge.split("=");fe[decodeURIComponent(ve)]=decodeURIComponent(wt)}}),fe}function zn(ct){const fe=ct.indexOf("?");if(!fe)return"";const Ce=ct.indexOf("#",fe);return ct.substring(fe,Ce>0?Ce:void 0)}function Kn(ct,fe){const Ce=new Cr(ct,fe);return Ce.subscribe.bind(Ce)}class Cr{constructor(fe,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{fe(this)}).catch(ge=>{this.error(ge)})}next(fe){this.forEachObserver(Ce=>{Ce.next(fe)})}error(fe){this.forEachObserver(Ce=>{Ce.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Ce,ge){let ve;if(void 0===fe&&void 0===Ce&&void 0===ge)throw new Error("Missing Observer.");ve=function mr(ct,fe){if("object"!=typeof ct||null===ct)return!1;for(const Ce of fe)if(Ce in ct&&"function"==typeof ct[Ce])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Ce,complete:ge},void 0===ve.next&&(ve.next=ni),void 0===ve.error&&(ve.error=ni),void 0===ve.complete&&(ve.complete=ni);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),wt}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,fe)}sendOne(fe,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Ce(this.observers[fe])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ni(){}function hi(ct){return ct&&ct._delegate?ct._delegate:ct}},9612:(bn,gt,A)=>{"use strict";A.d(gt,{r:()=>M});var a=A(7582),$=A(5879),se=A(7863),M=function(Ne){function Ee(){var pe=null!==Ne&&Ne.apply(this,arguments)||this;return pe.PERMISSION={ACCESS_CHECKIN_PROPERTIES:"android.permission.ACCESS_CHECKIN_PROPERTIES",ACCESS_COARSE_LOCATION:"android.permission.ACCESS_COARSE_LOCATION",ACCESS_FINE_LOCATION:"android.permission.ACCESS_FINE_LOCATION",ACCESS_LOCATION_EXTRA_COMMANDS:"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS",ACCESS_MOCK_LOCATION:"android.permission.ACCESS_MOCK_LOCATION",ACCESS_NETWORK_STATE:"android.permission.ACCESS_NETWORK_STATE",ACCESS_SURFACE_FLINGER:"android.permission.ACCESS_SURFACE_FLINGER",ACCESS_WIFI_STATE:"android.permission.ACCESS_WIFI_STATE",ACCOUNT_MANAGER:"android.permission.ACCOUNT_MANAGER",ADD_VOICEMAIL:"com.android.voicemail.permission.ADD_VOICEMAIL",AUTHENTICATE_ACCOUNTS:"android.permission.AUTHENTICATE_ACCOUNTS",BATTERY_STATS:"android.permission.BATTERY_STATS",BIND_ACCESSIBILITY_SERVICE:"android.permission.BIND_ACCESSIBILITY_SERVICE",BIND_APPWIDGET:"android.permission.BIND_APPWIDGET",BIND_CARRIER_MESSAGING_SERVICE:"android.permission.BIND_CARRIER_MESSAGING_SERVICE",BIND_DEVICE_ADMIN:"android.permission.BIND_DEVICE_ADMIN",BIND_DREAM_SERVICE:"android.permission.BIND_DREAM_SERVICE",BIND_INPUT_METHOD:"android.permission.BIND_INPUT_METHOD",BIND_NFC_SERVICE:"android.permission.BIND_NFC_SERVICE",BIND_NOTIFICATION_LISTENER_SERVICE:"android.permission.BIND_NOTIFICATION_LISTENER_SERVICE",BIND_PRINT_SERVICE:"android.permission.BIND_PRINT_SERVICE",BIND_REMOTEVIEWS:"android.permission.BIND_REMOTEVIEWS",BIND_TEXT_SERVICE:"android.permission.BIND_TEXT_SERVICE",BIND_TV_INPUT:"android.permission.BIND_TV_INPUT",BIND_VOICE_INTERACTION:"android.permission.BIND_VOICE_INTERACTION",BIND_VPN_SERVICE:"android.permission.BIND_VPN_SERVICE",BIND_WALLPAPER:"android.permission.BIND_WALLPAPER",BLUETOOTH:"android.permission.BLUETOOTH",BLUETOOTH_ADMIN:"android.permission.BLUETOOTH_ADMIN",BLUETOOTH_PRIVILEGED:"android.permission.BLUETOOTH_PRIVILEGED",BODY_SENSORS:"android.permission.BODY_SENSORS",BRICK:"android.permission.BRICK",BROADCAST_PACKAGE_REMOVED:"android.permission.BROADCAST_PACKAGE_REMOVED",BROADCAST_SMS:"android.permission.BROADCAST_SMS",BROADCAST_STICKY:"android.permission.BROADCAST_STICKY",BROADCAST_WAP_PUSH:"android.permission.BROADCAST_WAP_PUSH",CALL_PHONE:"android.permission.CALL_PHONE",CALL_PRIVILEGED:"android.permission.CALL_PRIVILEGED",CAMERA:"android.permission.CAMERA",CAPTURE_AUDIO_OUTPUT:"android.permission.CAPTURE_AUDIO_OUTPUT",CAPTURE_SECURE_VIDEO_OUTPUT:"android.permission.CAPTURE_SECURE_VIDEO_OUTPUT",CAPTURE_VIDEO_OUTPUT:"android.permission.CAPTURE_VIDEO_OUTPUT",CHANGE_COMPONENT_ENABLED_STATE:"android.permission.CHANGE_COMPONENT_ENABLED_STATE",CHANGE_CONFIGURATION:"android.permission.CHANGE_CONFIGURATION",CHANGE_NETWORK_STATE:"android.permission.CHANGE_NETWORK_STATE",CHANGE_WIFI_MULTICAST_STATE:"android.permission.CHANGE_WIFI_MULTICAST_STATE",CHANGE_WIFI_STATE:"android.permission.CHANGE_WIFI_STATE",CLEAR_APP_CACHE:"android.permission.CLEAR_APP_CACHE",CLEAR_APP_USER_DATA:"android.permission.CLEAR_APP_USER_DATA",CONTROL_LOCATION_UPDATES:"android.permission.CONTROL_LOCATION_UPDATES",DELETE_CACHE_FILES:"android.permission.DELETE_CACHE_FILES",DELETE_PACKAGES:"android.permission.DELETE_PACKAGES",DEVICE_POWER:"android.permission.DEVICE_POWER",DIAGNOSTIC:"android.permission.DIAGNOSTIC",DISABLE_KEYGUARD:"android.permission.DISABLE_KEYGUARD",DUMP:"android.permission.DUMP",EXPAND_STATUS_BAR:"android.permission.EXPAND_STATUS_BAR",FACTORY_TEST:"android.permission.FACTORY_TEST",FLASHLIGHT:"android.permission.FLASHLIGHT",FORCE_BACK:"android.permission.FORCE_BACK",GET_ACCOUNTS:"android.permission.GET_ACCOUNTS",GET_PACKAGE_SIZE:"android.permission.GET_PACKAGE_SIZE",GET_TASKS:"android.permission.GET_TASKS",GET_TOP_ACTIVITY_INFO:"android.permission.GET_TOP_ACTIVITY_INFO",GLOBAL_SEARCH:"android.permission.GLOBAL_SEARCH",HARDWARE_TEST:"android.permission.HARDWARE_TEST",INJECT_EVENTS:"android.permission.INJECT_EVENTS",INSTALL_LOCATION_PROVIDER:"android.permission.INSTALL_LOCATION_PROVIDER",INSTALL_PACKAGES:"android.permission.INSTALL_PACKAGES",INSTALL_SHORTCUT:"com.android.launcher.permission.INSTALL_SHORTCUT",INTERNAL_SYSTEM_WINDOW:"android.permission.INTERNAL_SYSTEM_WINDOW",INTERNET:"android.permission.INTERNET",KILL_BACKGROUND_PROCESSES:"android.permission.KILL_BACKGROUND_PROCESSES",LOCATION_HARDWARE:"android.permission.LOCATION_HARDWARE",MANAGE_ACCOUNTS:"android.permission.MANAGE_ACCOUNTS",MANAGE_APP_TOKENS:"android.permission.MANAGE_APP_TOKENS",MANAGE_DOCUMENTS:"android.permission.MANAGE_DOCUMENTS",MASTER_CLEAR:"android.permission.MASTER_CLEAR",MEDIA_CONTENT_CONTROL:"android.permission.MEDIA_CONTENT_CONTROL",MODIFY_AUDIO_SETTINGS:"android.permission.MODIFY_AUDIO_SETTINGS",MODIFY_PHONE_STATE:"android.permission.MODIFY_PHONE_STATE",MOUNT_FORMAT_FILESYSTEMS:"android.permission.MOUNT_FORMAT_FILESYSTEMS",MOUNT_UNMOUNT_FILESYSTEMS:"android.permission.MOUNT_UNMOUNT_FILESYSTEMS",NFC:"android.permission.NFC",PERSISTENT_ACTIVITY:"android.permission.PERSISTENT_ACTIVITY",PROCESS_OUTGOING_CALLS:"android.permission.PROCESS_OUTGOING_CALLS",READ_CALENDAR:"android.permission.READ_CALENDAR",READ_CALL_LOG:"android.permission.READ_CALL_LOG",READ_CONTACTS:"android.permission.READ_CONTACTS",READ_EXTERNAL_STORAGE:"android.permission.READ_EXTERNAL_STORAGE",READ_FRAME_BUFFER:"android.permission.READ_FRAME_BUFFER",READ_HISTORY_BOOKMARKS:"com.android.browser.permission.READ_HISTORY_BOOKMARKS",READ_INPUT_STATE:"android.permission.READ_INPUT_STATE",READ_LOGS:"android.permission.READ_LOGS",READ_PHONE_STATE:"android.permission.READ_PHONE_STATE",READ_PROFILE:"android.permission.READ_PROFILE",READ_SMS:"android.permission.READ_SMS",READ_SOCIAL_STREAM:"android.permission.READ_SOCIAL_STREAM",READ_SYNC_SETTINGS:"android.permission.READ_SYNC_SETTINGS",READ_SYNC_STATS:"android.permission.READ_SYNC_STATS",READ_USER_DICTIONARY:"android.permission.READ_USER_DICTIONARY",READ_VOICEMAIL:"com.android.voicemail.permission.READ_VOICEMAIL",REBOOT:"android.permission.REBOOT",RECEIVE_BOOT_COMPLETED:"android.permission.RECEIVE_BOOT_COMPLETED",RECEIVE_MMS:"android.permission.RECEIVE_MMS",RECEIVE_SMS:"android.permission.RECEIVE_SMS",RECEIVE_WAP_PUSH:"android.permission.RECEIVE_WAP_PUSH",RECORD_AUDIO:"android.permission.RECORD_AUDIO",REORDER_TASKS:"android.permission.REORDER_TASKS",RESTART_PACKAGES:"android.permission.RESTART_PACKAGES",SEND_RESPOND_VIA_MESSAGE:"android.permission.SEND_RESPOND_VIA_MESSAGE",SEND_SMS:"android.permission.SEND_SMS",SET_ACTIVITY_WATCHER:"android.permission.SET_ACTIVITY_WATCHER",SET_ALARM:"com.android.alarm.permission.SET_ALARM",SET_ALWAYS_FINISH:"android.permission.SET_ALWAYS_FINISH",SET_ANIMATION_SCALE:"android.permission.SET_ANIMATION_SCALE",SET_DEBUG_APP:"android.permission.SET_DEBUG_APP",SET_ORIENTATION:"android.permission.SET_ORIENTATION",SET_POINTER_SPEED:"android.permission.SET_POINTER_SPEED",SET_PREFERRED_APPLICATIONS:"android.permission.SET_PREFERRED_APPLICATIONS",SET_PROCESS_LIMIT:"android.permission.SET_PROCESS_LIMIT",SET_TIME:"android.permission.SET_TIME",SET_TIME_ZONE:"android.permission.SET_TIME_ZONE",SET_WALLPAPER:"android.permission.SET_WALLPAPER",SET_WALLPAPER_HINTS:"android.permission.SET_WALLPAPER_HINTS",SIGNAL_PERSISTENT_PROCESSES:"android.permission.SIGNAL_PERSISTENT_PROCESSES",STATUS_BAR:"android.permission.STATUS_BAR",SUBSCRIBED_FEEDS_READ:"android.permission.SUBSCRIBED_FEEDS_READ",SUBSCRIBED_FEEDS_WRITE:"android.permission.SUBSCRIBED_FEEDS_WRITE",SYSTEM_ALERT_WINDOW:"android.permission.SYSTEM_ALERT_WINDOW",TRANSMIT_IR:"android.permission.TRANSMIT_IR",UNINSTALL_SHORTCUT:"com.android.launcher.permission.UNINSTALL_SHORTCUT",UPDATE_DEVICE_STATS:"android.permission.UPDATE_DEVICE_STATS",USE_CREDENTIALS:"android.permission.USE_CREDENTIALS",USE_SIP:"android.permission.USE_SIP",VIBRATE:"android.permission.VIBRATE",WAKE_LOCK:"android.permission.WAKE_LOCK",WRITE_APN_SETTINGS:"android.permission.WRITE_APN_SETTINGS",WRITE_CALENDAR:"android.permission.WRITE_CALENDAR",WRITE_CALL_LOG:"android.permission.WRITE_CALL_LOG",WRITE_CONTACTS:"android.permission.WRITE_CONTACTS",WRITE_EXTERNAL_STORAGE:"android.permission.WRITE_EXTERNAL_STORAGE",WRITE_GSERVICES:"android.permission.WRITE_GSERVICES",WRITE_HISTORY_BOOKMARKS:"com.android.browser.permission.WRITE_HISTORY_BOOKMARKS",WRITE_PROFILE:"android.permission.WRITE_PROFILE",WRITE_SECURE_SETTINGS:"android.permission.WRITE_SECURE_SETTINGS",WRITE_SETTINGS:"android.permission.WRITE_SETTINGS",WRITE_SMS:"android.permission.WRITE_SMS",WRITE_SOCIAL_STREAM:"android.permission.WRITE_SOCIAL_STREAM",WRITE_SYNC_SETTINGS:"android.permission.WRITE_SYNC_SETTINGS",WRITE_USER_DICTIONARY:"android.permission.WRITE_USER_DICTIONARY",WRITE_VOICEMAIL:"com.android.voicemail.permission.WRITE_VOICEMAIL"},pe}return(0,a.ZT)(Ee,Ne),Ee.prototype.checkPermission=function(pe){return(0,se.DM)(this,"checkPermission",{},arguments)},Ee.prototype.requestPermission=function(pe){return(0,se.DM)(this,"requestPermission",{},arguments)},Ee.prototype.requestPermissions=function(pe){return(0,se.DM)(this,"requestPermissions",{},arguments)},Ee.prototype.hasPermission=function(pe){return(0,se.DM)(this,"hasPermission",{},arguments)},Ee.pluginName="AndroidPermissions",Ee.plugin="cordova-plugin-android-permissions",Ee.pluginRef="cordova.plugins.permissions",Ee.repo="https://github.com/NeoLSN/cordova-plugin-android-permissions",Ee.platforms=["Android"],Ee.decorators=[{type:$.GSi}],Ee}(se.KY)},7863:(bn,gt,A)=>{"use strict";A.d(gt,{KY:()=>Fe,DM:()=>st});var $=A(5592),se=A(2438),M={error:"cordova_not_available"},Ne={error:"plugin_not_installed"};function Ee(It){if(typeof window<"u"&&window.angular){var Pt=window.document,Ue=window.angular.element(Pt.querySelector("[ng-app]")||Pt.body).injector();if(Ue)return Ue.get("$q")(function(G,W){It(G,W)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(G,W){It(G,W)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function ne(It,it,Pt){var Ue,ue,G;return"string"==typeof It?Ue=It:(Ue=It.constructor.getPluginRef(),Pt=It.constructor.getPluginName(),G=It.constructor.getPluginInstallName()),!(!(ue=He(Ue))||it&&typeof ue[it]>"u")||(typeof window>"u"||!window.cordova?(function Et(It,it){typeof process>"u"&&console.warn(it?"Native: tried calling "+It+"."+it+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+It+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Pt,it),M):(function xe(It,it,Pt){console.warn(Pt?"Native: tried calling "+It+"."+Pt+", but the "+It+" plugin is not installed.":"Native: tried accessing the "+It+" plugin but it's not installed."),it&&console.warn("Install the "+It+" plugin: 'ionic cordova plugin add "+it+"'")}(Pt,G,it),Ne))}function Be(It,it,Pt,Ue,ue,G){void 0===Ue&&(Ue={}),Pt=function Ve(It,it,Pt,Ue){if(void 0===it&&(it={}),it.sync)return It;if("reverse"===it.callbackOrder)It.unshift(Ue),It.unshift(Pt);else if("node"===it.callbackStyle)It.push(function(ie,Ae){ie?Ue(ie):Pt(Ae)});else if("object"===it.callbackStyle&&it.successName&&it.errorName){var ue={};ue[it.successName]=Pt,ue[it.errorName]=Ue,It.push(ue)}else if(typeof it.successIndex<"u"||typeof it.errorIndex<"u"){var G=function(){it.successIndex>It.length?It[it.successIndex]=Pt:It.splice(it.successIndex,0,Pt)},W=function(){it.errorIndex>It.length?It[it.errorIndex]=Ue:It.splice(it.errorIndex,0,Ue)};it.successIndex>it.errorIndex?(W(),G()):(G(),W())}else It.push(Pt),It.push(Ue);return It}(Pt,Ue,ue,G);var W=ne(It,it);if(!0===W){var ie=He(It.constructor.getPluginRef());return ie[it].apply(ie,Pt)}return W}function He(It){return typeof window<"u"?lt(window,It):null}function lt(It,it){for(var Pt=it.split("."),Ue=It,ue=0;ue<Pt.length;ue++){if(!Ue)return null;Ue=Ue[Pt[ue]]}return Ue}var De=function(It,it,Pt){return void 0===Pt&&(Pt={}),function(){for(var Ue=[],ue=0;ue<arguments.length;ue++)Ue[ue]=arguments[ue];return Pt.sync?Be(It,it,Ue,Pt):Pt.observable?function je(It,it,Pt,Ue){return void 0===Ue&&(Ue={}),new $.y(function(ue){var G;return G=Ue.destruct?Be(It,it,Pt,Ue,function(){for(var W=[],ie=0;ie<arguments.length;ie++)W[ie]=arguments[ie];return ue.next(W)},function(){for(var W=[],ie=0;ie<arguments.length;ie++)W[ie]=arguments[ie];return ue.error(W)}):Be(It,it,Pt,Ue,ue.next.bind(ue),ue.error.bind(ue)),G&&G.error&&(ue.error(G.error),ue.complete()),function(){try{if(Ue.clearFunction)return Ue.clearWithArgs?Be(It,Ue.clearFunction,Pt,Ue,ue.next.bind(ue),ue.error.bind(ue)):Be(It,Ue.clearFunction,[])}catch(W){console.warn("Unable to clear the previous observable watch for",It.constructor.getPluginName(),it),console.warn(W)}}})}(It,it,Ue,Pt):Pt.eventObservable&&Pt.event?function ye(It,it){return it=typeof window<"u"&&it?lt(window,it):it||(typeof window<"u"?window:{}),(0,se.R)(it,It)}(Pt.event,Pt.element):Pt.otherPromise?function Le(It,it,Pt,Ue){return void 0===Ue&&(Ue={}),Ee(function(ue,G){var W=Be(It,it,Pt,Ue);W?W.error?G(W.error):W.then&&W.then(ue).catch(G):G({error:"unexpected_error"})})}(It,it,Ue,Pt):function pe(It,it,Pt,Ue){void 0===Ue&&(Ue={});var ue,G,W=Ee(function(ie,Ae){ue=Ue.destruct?Be(It,it,Pt,Ue,function(){for(var ut=[],Oe=0;Oe<arguments.length;Oe++)ut[Oe]=arguments[Oe];return ie(ut)},function(){for(var ut=[],Oe=0;Oe<arguments.length;Oe++)ut[Oe]=arguments[Oe];return Ae(ut)}):Be(It,it,Pt,Ue,ie,Ae),G=Ae});return ue&&ue.error&&(W.catch(function(){}),"function"==typeof G&&G(ue.error)),W}(It,it,Ue,Pt)}},Fe=function(){function It(){}return It.installed=function(){return!0===ne(this.pluginRef)},It.getPlugin=function(){return typeof window<"u"?function Re(It,it){for(var Pt=it.split("."),Ue=It,ue=0;ue<Pt.length;ue++){if(!Ue)return null;Ue=Ue[Pt[ue]]}return Ue}(window,this.pluginRef):null},It.getPluginName=function(){return this.pluginName},It.getPluginRef=function(){return this.pluginRef},It.getPluginInstallName=function(){return this.plugin},It.getSupportedPlatforms=function(){return this.platforms},It.pluginName="",It.pluginRef="",It.plugin="",It.repo="",It.platforms=[],It.install="",It}();function st(It,it,Pt,Ue){return De(It,it,Pt).apply(this,Ue)}!function a(){if(typeof process>"u"){var It=typeof window<"u"?window:{},Pt=Date.now(),Ue=!1;It.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Pt)+" ms"),Ue=!0}),setTimeout(function(){!Ue&&It.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},8662:(bn,gt,A)=>{"use strict";A.d(gt,{b:()=>Ne});var a=A(7582),$=A(5879),se=A(7863),M=A(5592),Ne=function(Ee){function pe(){return null!==Ee&&Ee.apply(this,arguments)||this}return(0,a.ZT)(pe,Ee),pe.prototype.getCurrentPosition=function(Le){return(0,se.DM)(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},pe.prototype.watchPosition=function(Le){return new M.y(function(je){var ye=navigator.geolocation.watchPosition(je.next.bind(je),je.next.bind(je),Le);return function(){return navigator.geolocation.clearWatch(ye)}})},pe.pluginName="Geolocation",pe.plugin="cordova-plugin-geolocation",pe.pluginRef="navigator.geolocation",pe.repo="https://github.com/apache/cordova-plugin-geolocation",pe.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',pe.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],pe.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],pe.decorators=[{type:$.GSi}],pe}(se.KY)},2923:(bn,gt,A)=>{"use strict";A.d(gt,{E:()=>M});var a=A(7582),$=A(5879),se=A(7863),M=function(Ne){function Ee(){var pe=null!==Ne&&Ne.apply(this,arguments)||this;return pe.REQUEST_PRIORITY_NO_POWER=0,pe.REQUEST_PRIORITY_LOW_POWER=1,pe.REQUEST_PRIORITY_BALANCED_POWER_ACCURACY=2,pe.REQUEST_PRIORITY_HIGH_ACCURACY=3,pe.SUCCESS_SETTINGS_SATISFIED=0,pe.SUCCESS_USER_AGREED=1,pe.ERROR_ALREADY_REQUESTING=-1,pe.ERROR_INVALID_ACTION=0,pe.ERROR_INVALID_ACCURACY=1,pe.ERROR_EXCEPTION=1,pe.ERROR_CANNOT_CHANGE_ACCURACY=3,pe.ERROR_USER_DISAGREED=4,pe.ERROR_GOOGLE_API_CONNECTION_FAILED=4,pe}return(0,a.ZT)(Ee,Ne),Ee.prototype.canRequest=function(){return(0,se.DM)(this,"canRequest",{},arguments)},Ee.prototype.isRequesting=function(){return(0,se.DM)(this,"isRequesting",{},arguments)},Ee.prototype.request=function(pe){return(0,se.DM)(this,"request",{callbackOrder:"reverse"},arguments)},Ee.pluginName="LocationAccuracy",Ee.plugin="cordova-plugin-request-location-accuracy",Ee.pluginRef="cordova.plugins.locationAccuracy",Ee.repo="https://github.com/dpa99c/cordova-plugin-request-location-accuracy",Ee.platforms=["Android","iOS"],Ee.decorators=[{type:$.GSi}],Ee}(se.KY)},2762:(bn,gt,A)=>{"use strict";A.d(gt,{L:()=>Ne,a:()=>Ee,b:()=>pe,c:()=>Le,d:()=>je,g:()=>Ue}),A(3162);const Ne="ionViewWillEnter",Ee="ionViewDidEnter",pe="ionViewWillLeave",Le="ionViewDidLeave",je="ionViewWillUnload",Ue=ue=>ue.classList.contains("ion-page")?ue:ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ue},3162:(bn,gt,A)=>{"use strict";A.d(gt,{a:()=>ye,c:()=>$,g:()=>je});class a{constructor(){this.m=new Map}reset(ue){this.m=new Map(Object.entries(ue))}get(ue,G){const W=this.m.get(ue);return void 0!==W?W:G}getBoolean(ue,G=!1){const W=this.m.get(ue);return void 0===W?G:"string"==typeof W?"true"===W:!!W}getNumber(ue,G){const W=parseFloat(this.m.get(ue));return isNaN(W)?void 0!==G?G:NaN:W}set(ue,G){this.m.set(ue,G)}}const $=new a,je=Ue=>ne(Ue),ye=(Ue,ue)=>("string"==typeof Ue&&(ue=Ue,Ue=void 0),je(Ue).includes(ue)),ne=(Ue=window)=>{if(typeof Ue>"u")return[];Ue.Ionic=Ue.Ionic||{};let ue=Ue.Ionic.platforms;return null==ue&&(ue=Ue.Ionic.platforms=Me(Ue),ue.forEach(G=>Ue.document.documentElement.classList.add(`plt-${G}`))),ue},Me=Ue=>{const ue=$.get("platform");return Object.keys(gn).filter(G=>{const W=ue?.[G];return"function"==typeof W?W(Ue):gn[G](Ue)})},Be=Ue=>!!(Ge(Ue,/iPad/i)||Ge(Ue,/Macintosh/i)&&Te(Ue)),lt=Ue=>Ge(Ue,/android|sink/i),Te=Ue=>qt(Ue,"(any-pointer:coarse)"),he=Ue=>Fe(Ue)||st(Ue),Fe=Ue=>!!(Ue.cordova||Ue.phonegap||Ue.PhoneGap),st=Ue=>{const ue=Ue.Capacitor;return!!ue?.isNative},Ge=(Ue,ue)=>ue.test(Ue.navigator.userAgent),qt=(Ue,ue)=>{var G;return null===(G=Ue.matchMedia)||void 0===G?void 0:G.call(Ue,ue).matches},gn={ipad:Be,iphone:Ue=>Ge(Ue,/iPhone/i),ios:Ue=>Ge(Ue,/iPhone|iPod/i)||Be(Ue),android:lt,phablet:Ue=>{const ue=Ue.innerWidth,G=Ue.innerHeight,W=Math.min(ue,G),ie=Math.max(ue,G);return W>390&&W<520&&ie>620&&ie<800},tablet:Ue=>{const ue=Ue.innerWidth,G=Ue.innerHeight,W=Math.min(ue,G),ie=Math.max(ue,G);return Be(Ue)||(Ue=>lt(Ue)&&!Ge(Ue,/mobile/i))(Ue)||W>460&&W<820&&ie>780&&ie<1400},cordova:Fe,capacitor:st,electron:Ue=>Ge(Ue,/electron/i),pwa:Ue=>{var ue;return!!(null!==(ue=Ue.matchMedia)&&void 0!==ue&&ue.call(Ue,"(display-mode: standalone)").matches||Ue.navigator.standalone)},mobile:Te,mobileweb:Ue=>Te(Ue)&&!he(Ue),desktop:Ue=>!Te(Ue),hybrid:he}},2282:(bn,gt,A)=>{"use strict";A.d(gt,{c:()=>Ee});var a=A(1848);let $;const M=(pe,Le,je)=>{const ye=Le.startsWith("animation")?(pe=>(void 0===$&&($=void 0===pe.style.animationName&&void 0!==pe.style.webkitAnimationName?"-webkit-":""),$))(pe):"";pe.style.setProperty(ye+Le,je)},Ne=(pe=[],Le)=>{if(void 0!==Le){const je=Array.isArray(Le)?Le:[Le];return[...pe,...je]}return pe},Ee=pe=>{let Le,je,ye,ne,Me,Ve,xe,Ze,Lt,Ge,it,Be=[],Je=[],He=[],lt=!1,Et={},De=[],Te=[],Re={},he=0,Fe=!1,st=!1,qt=!0,gn=!1,It=!0,Pt=!1;const Ue=pe,ue=[],G=[],W=[],ie=[],Ae=[],ut=[],Oe=[],Tt=[],xt=[],fn=[],Rn=[],Nt="function"==typeof AnimationEffect||void 0!==a.w&&"function"==typeof a.w.AnimationEffect,vn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Nt,Yn=()=>Rn,Wt=(Pe,ft)=>{const $t=ft.findIndex(In=>In.c===Pe);$t>-1&&ft.splice($t,1)},We=(Pe,ft)=>((ft?.oneTimeCallback?G:ue).push({c:Pe,o:ft}),it),Ln=()=>{vn&&(Rn.forEach(Pe=>{Pe.cancel()}),Rn.length=0)},pr=()=>{ut.forEach(Pe=>{Pe?.parentNode&&Pe.parentNode.removeChild(Pe)}),ut.length=0},Nr=()=>void 0!==Me?Me:xe?xe.getFill():"both",Fn=()=>void 0!==Ze?Ze:void 0!==Ve?Ve:xe?xe.getDirection():"normal",Ii=()=>Fe?"linear":void 0!==ye?ye:xe?xe.getEasing():"linear",qn=()=>st?0:void 0!==Lt?Lt:void 0!==je?je:xe?xe.getDuration():0,ei=()=>void 0!==ne?ne:xe?xe.getIterations():1,ur=()=>void 0!==Ge?Ge:void 0!==Le?Le:xe?xe.getDelay():0,xn=()=>{0!==he&&(he--,0===he&&((()=>{xt.forEach(Jn=>Jn()),fn.forEach(Jn=>Jn());const Pe=qt?1:0,ft=De,$t=Te,In=Re;ie.forEach(Jn=>{const hr=Jn.classList;ft.forEach(jr=>hr.add(jr)),$t.forEach(jr=>hr.remove(jr));for(const jr in In)In.hasOwnProperty(jr)&&M(Jn,jr,In[jr])}),Lt=void 0,Ze=void 0,Ge=void 0,ue.forEach(Jn=>Jn.c(Pe,it)),G.forEach(Jn=>Jn.c(Pe,it)),G.length=0,It=!0,qt&&(gn=!0),qt=!0})(),xe&&xe.animationFinish()))},tt=()=>{(()=>{Oe.forEach(In=>In()),Tt.forEach(In=>In());const Pe=Je,ft=He,$t=Et;ie.forEach(In=>{const Jn=In.classList;Pe.forEach(hr=>Jn.add(hr)),ft.forEach(hr=>Jn.remove(hr));for(const hr in $t)$t.hasOwnProperty(hr)&&M(In,hr,$t[hr])})})(),Be.length>0&&vn&&(ie.forEach(Pe=>{const ft=Pe.animate(Be,{id:Ue,delay:ur(),duration:qn(),easing:Ii(),iterations:ei(),fill:Nr(),direction:Fn()});ft.pause(),Rn.push(ft)}),Rn.length>0&&(Rn[0].onfinish=()=>{xn()})),lt=!0},Qn=Pe=>{Pe=Math.min(Math.max(Pe,0),.9999),vn&&Rn.forEach(ft=>{ft.currentTime=ft.effect.getComputedTiming().delay+qn()*Pe,ft.pause()})},dr=Pe=>{Rn.forEach(ft=>{ft.effect.updateTiming({delay:ur(),duration:qn(),easing:Ii(),iterations:ei(),fill:Nr(),direction:Fn()})}),void 0!==Pe&&Qn(Pe)},Ct=(Pe=!1,ft=!0,$t)=>(Pe&&Ae.forEach(In=>{In.update(Pe,ft,$t)}),vn&&dr($t),it),En=()=>{lt&&(vn?Rn.forEach(Pe=>{Pe.pause()}):ie.forEach(Pe=>{M(Pe,"animation-play-state","paused")}),Pt=!0)},oe=Pe=>new Promise(ft=>{Pe?.sync&&(st=!0,We(()=>st=!1,{oneTimeCallback:!0})),lt||tt(),gn&&(vn&&(Qn(0),dr()),gn=!1),It&&(he=Ae.length+1,It=!1);const $t=()=>{Wt(In,G),ft()},In=()=>{Wt($t,W),ft()};We(In,{oneTimeCallback:!0}),((Pe,ft)=>{W.push({c:Pe,o:{oneTimeCallback:!0}})})($t),Ae.forEach(Jn=>{Jn.play()}),vn?(Rn.forEach(Pe=>{Pe.play()}),(0===Be.length||0===ie.length)&&xn()):xn(),Pt=!1}),j=(Pe,ft)=>{const $t=Be[0];return void 0===$t||void 0!==$t.offset&&0!==$t.offset?Be=[{offset:0,[Pe]:ft},...Be]:$t[Pe]=ft,it};return it={parentAnimation:xe,elements:ie,childAnimations:Ae,id:Ue,animationFinish:xn,from:j,to:(Pe,ft)=>{const $t=Be[Be.length-1];return void 0===$t||void 0!==$t.offset&&1!==$t.offset?Be=[...Be,{offset:1,[Pe]:ft}]:$t[Pe]=ft,it},fromTo:(Pe,ft,$t)=>j(Pe,ft).to(Pe,$t),parent:Pe=>(xe=Pe,it),play:oe,pause:()=>(Ae.forEach(Pe=>{Pe.pause()}),En(),it),stop:()=>{Ae.forEach(Pe=>{Pe.stop()}),lt&&(Ln(),lt=!1),Fe=!1,st=!1,It=!0,Ze=void 0,Lt=void 0,Ge=void 0,he=0,gn=!1,qt=!0,Pt=!1,W.forEach(Pe=>Pe.c(0,it)),W.length=0},destroy:Pe=>(Ae.forEach(ft=>{ft.destroy(Pe)}),(Pe=>{Ln(),Pe&&pr()})(Pe),ie.length=0,Ae.length=0,Be.length=0,ue.length=0,G.length=0,lt=!1,It=!0,it),keyframes:Pe=>{const ft=Be!==Pe;return Be=Pe,ft&&(Pe=>{vn&&Yn().forEach(ft=>{const $t=ft.effect;if($t.setKeyframes)$t.setKeyframes(Pe);else{const In=new KeyframeEffect($t.target,Pe,$t.getTiming());ft.effect=In}})})(Be),it},addAnimation:Pe=>{if(null!=Pe)if(Array.isArray(Pe))for(const ft of Pe)ft.parent(it),Ae.push(ft);else Pe.parent(it),Ae.push(Pe);return it},addElement:Pe=>{if(null!=Pe)if(1===Pe.nodeType)ie.push(Pe);else if(Pe.length>=0)for(let ft=0;ft<Pe.length;ft++)ie.push(Pe[ft]);else console.error("Invalid addElement value");return it},update:Ct,fill:Pe=>(Me=Pe,Ct(!0),it),direction:Pe=>(Ve=Pe,Ct(!0),it),iterations:Pe=>(ne=Pe,Ct(!0),it),duration:Pe=>(!vn&&0===Pe&&(Pe=1),je=Pe,Ct(!0),it),easing:Pe=>(ye=Pe,Ct(!0),it),delay:Pe=>(Le=Pe,Ct(!0),it),getWebAnimations:Yn,getKeyframes:()=>Be,getFill:Nr,getDirection:Fn,getDelay:ur,getIterations:ei,getEasing:Ii,getDuration:qn,afterAddRead:Pe=>(xt.push(Pe),it),afterAddWrite:Pe=>(fn.push(Pe),it),afterClearStyles:(Pe=[])=>{for(const ft of Pe)Re[ft]="";return it},afterStyles:(Pe={})=>(Re=Pe,it),afterRemoveClass:Pe=>(Te=Ne(Te,Pe),it),afterAddClass:Pe=>(De=Ne(De,Pe),it),beforeAddRead:Pe=>(Oe.push(Pe),it),beforeAddWrite:Pe=>(Tt.push(Pe),it),beforeClearStyles:(Pe=[])=>{for(const ft of Pe)Et[ft]="";return it},beforeStyles:(Pe={})=>(Et=Pe,it),beforeRemoveClass:Pe=>(He=Ne(He,Pe),it),beforeAddClass:Pe=>(Je=Ne(Je,Pe),it),onFinish:We,isRunning:()=>0!==he&&!Pt,progressStart:(Pe=!1,ft)=>(Ae.forEach($t=>{$t.progressStart(Pe,ft)}),En(),Fe=Pe,lt||tt(),Ct(!1,!0,ft),it),progressStep:Pe=>(Ae.forEach(ft=>{ft.progressStep(Pe)}),Qn(Pe),it),progressEnd:(Pe,ft,$t)=>(Fe=!1,Ae.forEach(In=>{In.progressEnd(Pe,ft,$t)}),void 0!==$t&&(Lt=$t),gn=!1,qt=!0,0===Pe?(Ze="reverse"===Fn()?"normal":"reverse","reverse"===Ze&&(qt=!1),vn?(Ct(),Qn(1-ft)):(Ge=(1-ft)*qn()*-1,Ct(!1,!1))):1===Pe&&(vn?(Ct(),Qn(ft)):(Ge=ft*qn()*-1,Ct(!1,!1))),void 0!==Pe&&!xe&&oe(),it)}}},8958:(bn,gt,A)=>{"use strict";A.d(gt,{E:()=>ye,a:()=>a,s:()=>Le});const a=ne=>{try{if(ne instanceof pe)return ne.value;if(!M()||"string"!=typeof ne||""===ne)return ne;if(ne.includes("onload="))return"";const Me=document.createDocumentFragment(),Ve=document.createElement("div");Me.appendChild(Ve),Ve.innerHTML=ne,Ee.forEach(lt=>{const xe=Me.querySelectorAll(lt);for(let Et=xe.length-1;Et>=0;Et--){const De=xe[Et];De.parentNode?De.parentNode.removeChild(De):Me.removeChild(De);const Te=se(De);for(let Re=0;Re<Te.length;Re++)$(Te[Re])}});const Be=se(Me);for(let lt=0;lt<Be.length;lt++)$(Be[lt]);const Je=document.createElement("div");Je.appendChild(Me);const He=Je.querySelector("div");return null!==He?He.innerHTML:Je.innerHTML}catch(Me){return console.error(Me),""}},$=ne=>{if(ne.nodeType&&1!==ne.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ne.attributes instanceof NamedNodeMap))return void ne.remove();for(let Ve=ne.attributes.length-1;Ve>=0;Ve--){const Be=ne.attributes.item(Ve),Je=Be.name;if(!Ne.includes(Je.toLowerCase())){ne.removeAttribute(Je);continue}const He=Be.value,lt=ne[Je];(null!=He&&He.toLowerCase().includes("javascript:")||null!=lt&&lt.toLowerCase().includes("javascript:"))&&ne.removeAttribute(Je)}const Me=se(ne);for(let Ve=0;Ve<Me.length;Ve++)$(Me[Ve])},se=ne=>null!=ne.children?ne.children:ne.childNodes,M=()=>{var ne;const Me=window,Ve=null===(ne=Me?.Ionic)||void 0===ne?void 0:ne.config;return!Ve||(Ve.get?Ve.get("sanitizerEnabled",!0):!0===Ve.sanitizerEnabled||void 0===Ve.sanitizerEnabled)},Ne=["class","id","href","src","name","slot"],Ee=["script","style","iframe","meta","link","object","embed"];class pe{constructor(Me){this.value=Me}}const Le=ne=>{const Me=window,Ve=Me.Ionic;if(!Ve||!Ve.config||"Object"===Ve.config.constructor.name)return Me.Ionic=Me.Ionic||{},Me.Ionic.config=Object.assign(Object.assign({},Me.Ionic.config),ne),Me.Ionic.config},ye=!1},4813:(bn,gt,A)=>{"use strict";A.d(gt,{C:()=>Ne,a:()=>se,d:()=>M});var a=A(5861),$=A(4298);const se=function(){var Ee=(0,a.Z)(function*(pe,Le,je,ye,ne,Me){var Ve;if(pe)return pe.attachViewToDom(Le,je,ne,ye);if(!(Me||"string"==typeof je||je instanceof HTMLElement))throw new Error("framework delegate is missing");const Be="string"==typeof je?null===(Ve=Le.ownerDocument)||void 0===Ve?void 0:Ve.createElement(je):je;return ye&&ye.forEach(Je=>Be.classList.add(Je)),ne&&Object.assign(Be,ne),Le.appendChild(Be),yield new Promise(Je=>(0,$.c)(Be,Je)),Be});return function(Le,je,ye,ne,Me,Ve){return Ee.apply(this,arguments)}}(),M=(Ee,pe)=>{if(pe){if(Ee)return Ee.removeViewFromDom(pe.parentElement,pe);pe.remove()}return Promise.resolve()},Ne=()=>{let Ee,pe;return{attachViewToDom:function(){var ye=(0,a.Z)(function*(ne,Me,Ve={},Be=[]){var Je,He;let lt;if(Ee=ne,Me){const Et="string"==typeof Me?null===(Je=Ee.ownerDocument)||void 0===Je?void 0:Je.createElement(Me):Me;Be.forEach(De=>Et.classList.add(De)),Object.assign(Et,Ve),Ee.appendChild(Et),lt=Et,yield new Promise(De=>(0,$.c)(Et,De))}else if(Ee.children.length>0&&("ION-MODAL"===Ee.tagName||"ION-POPOVER"===Ee.tagName)&&!(lt=Ee.children[0]).classList.contains("ion-delegate-host")){const De=null===(He=Ee.ownerDocument)||void 0===He?void 0:He.createElement("div");De.classList.add("ion-delegate-host"),Be.forEach(Te=>De.classList.add(Te)),De.append(...Ee.children),Ee.appendChild(De),lt=De}const xe=document.querySelector("ion-app")||document.body;return pe=document.createComment("ionic teleport"),Ee.parentNode.insertBefore(pe,Ee),xe.appendChild(Ee),lt??Ee});return function(Me,Ve){return ye.apply(this,arguments)}}(),removeViewFromDom:()=>(Ee&&pe&&(pe.parentNode.insertBefore(Ee,pe),pe.remove()),Promise.resolve())}}},4089:(bn,gt,A)=>{"use strict";A.d(gt,{B:()=>M,G:()=>Ne});class ${constructor(pe,Le,je,ye,ne){this.id=Le,this.name=je,this.disableScroll=ne,this.priority=1e6*ye+Le,this.ctrl=pe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const pe=this.ctrl.capture(this.name,this.id,this.priority);return pe&&this.disableScroll&&this.ctrl.disableScroll(this.id),pe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class se{constructor(pe,Le,je,ye){this.id=Le,this.disable=je,this.disableScroll=ye,this.ctrl=pe}block(){if(this.ctrl){if(this.disable)for(const pe of this.disable)this.ctrl.disableGesture(pe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const pe of this.disable)this.ctrl.enableGesture(pe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const M="backdrop-no-scroll",Ne=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(pe){var Le;return new $(this,this.newID(),pe.name,null!==(Le=pe.priority)&&void 0!==Le?Le:0,!!pe.disableScroll)}createBlocker(pe={}){return new se(this,this.newID(),pe.disable,!!pe.disableScroll)}start(pe,Le,je){return this.canStart(pe)?(this.requestedStart.set(Le,je),!0):(this.requestedStart.delete(Le),!1)}capture(pe,Le,je){if(!this.start(pe,Le,je))return!1;const ye=this.requestedStart;let ne=-1e4;if(ye.forEach(Me=>{ne=Math.max(ne,Me)}),ne===je){this.capturedId=Le,ye.clear();const Me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:pe}});return document.dispatchEvent(Me),!0}return ye.delete(Le),!1}release(pe){this.requestedStart.delete(pe),this.capturedId===pe&&(this.capturedId=void 0)}disableGesture(pe,Le){let je=this.disabledGestures.get(pe);void 0===je&&(je=new Set,this.disabledGestures.set(pe,je)),je.add(Le)}enableGesture(pe,Le){const je=this.disabledGestures.get(pe);void 0!==je&&je.delete(Le)}disableScroll(pe){this.disabledScroll.add(pe),1===this.disabledScroll.size&&document.body.classList.add(M)}enableScroll(pe){this.disabledScroll.delete(pe),0===this.disabledScroll.size&&document.body.classList.remove(M)}canStart(pe){return!(void 0!==this.capturedId||this.isDisabled(pe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(pe){const Le=this.disabledGestures.get(pe);return!!(Le&&Le.size>0)}newID(){return this.gestureId++,this.gestureId}}},283:(bn,gt,A)=>{"use strict";A.r(gt),A.d(gt,{MENU_BACK_BUTTON_PRIORITY:()=>je,OVERLAY_BACK_BUTTON_PRIORITY:()=>Le,blockHardwareBackButton:()=>Ee,shouldUseCloseWatcher:()=>Ne,startHardwareBackButton:()=>pe});var a=A(5861),$=A(1848),se=A(5731);A(2315);const Ne=()=>se.c.get("experimentalCloseWatcher",!1)&&void 0!==$.w&&"CloseWatcher"in $.w,Ee=()=>{document.addEventListener("backbutton",()=>{})},pe=()=>{const ye=document;let ne=!1;const Me=()=>{if(ne)return;let Ve=0,Be=[];const Je=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(xe,Et){Be.push({priority:xe,handler:Et,id:Ve++})}}});ye.dispatchEvent(Je);const He=function(){var xe=(0,a.Z)(function*(Et){try{if(Et?.handler){const De=Et.handler(lt);null!=De&&(yield De)}}catch(De){console.error(De)}});return function(De){return xe.apply(this,arguments)}}(),lt=()=>{if(Be.length>0){let xe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Be.forEach(Et=>{Et.priority>=xe.priority&&(xe=Et)}),ne=!0,Be=Be.filter(Et=>Et.id!==xe.id),He(xe).then(()=>ne=!1)}};lt()};if(Ne()){let Ve;const Be=()=>{Ve?.destroy(),Ve=new $.w.CloseWatcher,Ve.onclose=()=>{Me(),Be()}};Be()}else ye.addEventListener("backbutton",Me)},Le=100,je=99},4298:(bn,gt,A)=>{"use strict";A.d(gt,{a:()=>Le,b:()=>je,c:()=>se,d:()=>Be,e:()=>Et,f:()=>Ve,g:()=>ye,h:()=>Ne,i:()=>pe,j:()=>Je,k:()=>M,l:()=>Me,m:()=>He,n:()=>xe,o:()=>De,p:()=>lt,r:()=>ne,s:()=>Te,t:()=>a});const a=(Re,he=0)=>new Promise(Fe=>{$(Re,he,Fe)}),$=(Re,he=0,Fe)=>{let st,Ze;const Lt={passive:!0},qt=()=>{st&&st()},gn=It=>{(void 0===It||Re===It.target)&&(qt(),Fe(It))};return Re&&(Re.addEventListener("webkitTransitionEnd",gn,Lt),Re.addEventListener("transitionend",gn,Lt),Ze=setTimeout(gn,he+500),st=()=>{void 0!==Ze&&(clearTimeout(Ze),Ze=void 0),Re.removeEventListener("webkitTransitionEnd",gn,Lt),Re.removeEventListener("transitionend",gn,Lt)}),qt},se=(Re,he)=>{Re.componentOnReady?Re.componentOnReady().then(Fe=>he(Fe)):ne(()=>he(Re))},M=Re=>void 0!==Re.componentOnReady,Ne=(Re,he=[])=>{const Fe={};return he.forEach(st=>{Re.hasAttribute(st)&&(null!==Re.getAttribute(st)&&(Fe[st]=Re.getAttribute(st)),Re.removeAttribute(st))}),Fe},Ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],pe=(Re,he)=>{let Fe=Ee;return he&&he.length>0&&(Fe=Fe.filter(st=>!he.includes(st))),Ne(Re,Fe)},Le=(Re,he,Fe,st)=>{var Ze;if(typeof window<"u"){const Lt=window,Ge=null===(Ze=Lt?.Ionic)||void 0===Ze?void 0:Ze.config;if(Ge){const qt=Ge.get("_ael");if(qt)return qt(Re,he,Fe,st);if(Ge._ael)return Ge._ael(Re,he,Fe,st)}}return Re.addEventListener(he,Fe,st)},je=(Re,he,Fe,st)=>{var Ze;if(typeof window<"u"){const Lt=window,Ge=null===(Ze=Lt?.Ionic)||void 0===Ze?void 0:Ze.config;if(Ge){const qt=Ge.get("_rel");if(qt)return qt(Re,he,Fe,st);if(Ge._rel)return Ge._rel(Re,he,Fe,st)}}return Re.removeEventListener(he,Fe,st)},ye=(Re,he=Re)=>Re.shadowRoot||he,ne=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re),Me=Re=>!!Re.shadowRoot&&!!Re.attachShadow,Ve=Re=>{if(Re.focus(),Re.classList.contains("ion-focusable")){const he=Re.closest("ion-app");he&&he.setFocus([Re])}},Be=(Re,he,Fe,st,Ze)=>{if(Re||Me(he)){let Lt=he.querySelector("input.aux-input");Lt||(Lt=he.ownerDocument.createElement("input"),Lt.type="hidden",Lt.classList.add("aux-input"),he.appendChild(Lt)),Lt.disabled=Ze,Lt.name=Fe,Lt.value=st||""}},Je=(Re,he,Fe)=>Math.max(Re,Math.min(he,Fe)),He=(Re,he)=>{if(!Re){const Fe="ASSERT: "+he;throw console.error(Fe),new Error(Fe)}},lt=Re=>{if(Re){const he=Re.changedTouches;if(he&&he.length>0){const Fe=he[0];return{x:Fe.clientX,y:Fe.clientY}}if(void 0!==Re.pageX)return{x:Re.pageX,y:Re.pageY}}return{x:0,y:0}},xe=Re=>{const he="rtl"===document.dir;switch(Re){case"start":return he;case"end":return!he;default:throw new Error(`"${Re}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Et=(Re,he)=>{const Fe=Re._original||Re;return{_original:Re,emit:De(Fe.emit.bind(Fe),he)}},De=(Re,he=0)=>{let Fe;return(...st)=>{clearTimeout(Fe),Fe=setTimeout(Re,he,...st)}},Te=(Re,he)=>{if(Re??(Re={}),he??(he={}),Re===he)return!0;const Fe=Object.keys(Re);if(Fe.length!==Object.keys(he).length)return!1;for(const st of Fe)if(!(st in he)||Re[st]!==he[st])return!1;return!0}},1981:(bn,gt,A)=>{"use strict";A.r(gt),A.d(gt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>je});var a=A(4089);const $=(Ve,Be,Je,He)=>{const lt=se(Ve)?{capture:!!He.capture,passive:!!He.passive}:!!He.capture;let xe,Et;return Ve.__zone_symbol__addEventListener?(xe="__zone_symbol__addEventListener",Et="__zone_symbol__removeEventListener"):(xe="addEventListener",Et="removeEventListener"),Ve[xe](Be,Je,lt),()=>{Ve[Et](Be,Je,lt)}},se=Ve=>{if(void 0===M)try{const Be=Object.defineProperty({},"passive",{get:()=>{M=!0}});Ve.addEventListener("optsTest",()=>{},Be)}catch{M=!1}return!!M};let M;const pe=Ve=>Ve instanceof Document?Ve:Ve.ownerDocument,je=Ve=>{let Be=!1,Je=!1,He=!0,lt=!1;const xe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ve),Et=xe.canStart,De=xe.onWillStart,Te=xe.onStart,Re=xe.onEnd,he=xe.notCaptured,Fe=xe.onMove,st=xe.threshold,Ze=xe.passive,Lt=xe.blurOnStart,Ge={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},qt=((Ve,Be,Je)=>{const He=Je*(Math.PI/180),lt="x"===Ve,xe=Math.cos(He),Et=Be*Be;let De=0,Te=0,Re=!1,he=0;return{start(Fe,st){De=Fe,Te=st,he=0,Re=!0},detect(Fe,st){if(!Re)return!1;const Ze=Fe-De,Lt=st-Te,Ge=Ze*Ze+Lt*Lt;if(Ge<Et)return!1;const qt=Math.sqrt(Ge),gn=(lt?Ze:Lt)/qt;return he=gn>xe?1:gn<-xe?-1:0,Re=!1,!0},isGesture:()=>0!==he,getDirection:()=>he}})(xe.direction,xe.threshold,xe.maxAngle),gn=a.G.createGesture({name:Ve.gestureName,priority:Ve.gesturePriority,disableScroll:Ve.disableScroll}),Pt=()=>{Be&&(lt=!1,Fe&&Fe(Ge))},Ue=()=>!!gn.capture()&&(Be=!0,He=!1,Ge.startX=Ge.currentX,Ge.startY=Ge.currentY,Ge.startTime=Ge.currentTime,De?De(Ge).then(G):G(),!0),G=()=>{Lt&&(()=>{if(typeof document<"u"){const Oe=document.activeElement;Oe?.blur&&Oe.blur()}})(),Te&&Te(Ge),He=!0},W=()=>{Be=!1,Je=!1,lt=!1,He=!0,gn.release()},ie=Oe=>{const Tt=Be,xt=He;if(W(),xt){if(ye(Ge,Oe),Tt)return void(Re&&Re(Ge));he&&he(Ge)}},Ae=((Ve,Be,Je,He,lt)=>{let xe,Et,De,Te,Re,he,Fe,st=0;const Ze=ue=>{st=Date.now()+2e3,Be(ue)&&(!Et&&Je&&(Et=$(Ve,"touchmove",Je,lt)),De||(De=$(ue.target,"touchend",Ge,lt)),Te||(Te=$(ue.target,"touchcancel",Ge,lt)))},Lt=ue=>{st>Date.now()||Be(ue)&&(!he&&Je&&(he=$(pe(Ve),"mousemove",Je,lt)),Fe||(Fe=$(pe(Ve),"mouseup",qt,lt)))},Ge=ue=>{gn(),He&&He(ue)},qt=ue=>{It(),He&&He(ue)},gn=()=>{Et&&Et(),De&&De(),Te&&Te(),Et=De=Te=void 0},It=()=>{he&&he(),Fe&&Fe(),he=Fe=void 0},it=()=>{gn(),It()},Pt=(ue=!0)=>{ue?(xe||(xe=$(Ve,"touchstart",Ze,lt)),Re||(Re=$(Ve,"mousedown",Lt,lt))):(xe&&xe(),Re&&Re(),xe=Re=void 0,it())};return{enable:Pt,stop:it,destroy:()=>{Pt(!1),He=Je=Be=void 0}}})(xe.el,Oe=>{const Tt=Me(Oe);return!(Je||!He||(ne(Oe,Ge),Ge.startX=Ge.currentX,Ge.startY=Ge.currentY,Ge.startTime=Ge.currentTime=Tt,Ge.velocityX=Ge.velocityY=Ge.deltaX=Ge.deltaY=0,Ge.event=Oe,Et&&!1===Et(Ge))||(gn.release(),!gn.start()))&&(Je=!0,0===st?Ue():(qt.start(Ge.startX,Ge.startY),!0))},Oe=>{Be?!lt&&He&&(lt=!0,ye(Ge,Oe),requestAnimationFrame(Pt)):(ye(Ge,Oe),qt.detect(Ge.currentX,Ge.currentY)&&(!qt.isGesture()||!Ue())&&ut())},ie,{capture:!1,passive:Ze}),ut=()=>{W(),Ae.stop(),he&&he(Ge)};return{enable(Oe=!0){Oe||(Be&&ie(void 0),W()),Ae.enable(Oe)},destroy(){gn.destroy(),Ae.destroy()}}},ye=(Ve,Be)=>{if(!Be)return;const Je=Ve.currentX,He=Ve.currentY,lt=Ve.currentTime;ne(Be,Ve);const xe=Ve.currentX,Et=Ve.currentY,Te=(Ve.currentTime=Me(Be))-lt;if(Te>0&&Te<100){const he=(Et-He)/Te;Ve.velocityX=(xe-Je)/Te*.7+.3*Ve.velocityX,Ve.velocityY=.7*he+.3*Ve.velocityY}Ve.deltaX=xe-Ve.startX,Ve.deltaY=Et-Ve.startY,Ve.event=Be},ne=(Ve,Be)=>{let Je=0,He=0;if(Ve){const lt=Ve.changedTouches;if(lt&&lt.length>0){const xe=lt[0];Je=xe.clientX,He=xe.clientY}else void 0!==Ve.pageX&&(Je=Ve.pageX,He=Ve.pageY)}Be.currentX=Je,Be.currentY=He},Me=Ve=>Ve.timeStamp||Date.now()},2186:(bn,gt,A)=>{"use strict";A.d(gt,{m:()=>Ve});var a=A(5861),$=A(1848),se=A(283),M=A(2400),Ne=A(4298),Ee=A(5731),pe=A(2282);const Le=Be=>(0,pe.c)().duration(Be?400:300),je=Be=>{let Je,He;const lt=Be.width+8,xe=(0,pe.c)(),Et=(0,pe.c)();Be.isEndSide?(Je=lt+"px",He="0px"):(Je=-lt+"px",He="0px"),xe.addElement(Be.menuInnerEl).fromTo("transform",`translateX(${Je})`,`translateX(${He})`);const Te="ios"===(0,Ee.b)(Be),Re=Te?.2:.25;return Et.addElement(Be.backdropEl).fromTo("opacity",.01,Re),Le(Te).addAnimation([xe,Et])},ye=Be=>{let Je,He;const lt=(0,Ee.b)(Be),xe=Be.width;Be.isEndSide?(Je=-xe+"px",He=xe+"px"):(Je=xe+"px",He=-xe+"px");const Et=(0,pe.c)().addElement(Be.menuInnerEl).fromTo("transform",`translateX(${He})`,"translateX(0px)"),De=(0,pe.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Je})`),Te=(0,pe.c)().addElement(Be.backdropEl).fromTo("opacity",.01,.32);return Le("ios"===lt).addAnimation([Et,De,Te])},ne=Be=>{const Je=(0,Ee.b)(Be),He=Be.width*(Be.isEndSide?-1:1)+"px",lt=(0,pe.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${He})`);return Le("ios"===Je).addAnimation(lt)},Ve=(()=>{const Be=new Map,Je=[],He=function(){var W=(0,a.Z)(function*(ie){const Ae=yield he(ie,!0);return!!Ae&&Ae.open()});return function(Ae){return W.apply(this,arguments)}}(),lt=function(){var W=(0,a.Z)(function*(ie){const Ae=yield void 0!==ie?he(ie,!0):Fe();return void 0!==Ae&&Ae.close()});return function(Ae){return W.apply(this,arguments)}}(),xe=function(){var W=(0,a.Z)(function*(ie){const Ae=yield he(ie,!0);return!!Ae&&Ae.toggle()});return function(Ae){return W.apply(this,arguments)}}(),Et=function(){var W=(0,a.Z)(function*(ie,Ae){const ut=yield he(Ae);return ut&&(ut.disabled=!ie),ut});return function(Ae,ut){return W.apply(this,arguments)}}(),De=function(){var W=(0,a.Z)(function*(ie,Ae){const ut=yield he(Ae);return ut&&(ut.swipeGesture=ie),ut});return function(Ae,ut){return W.apply(this,arguments)}}(),Te=function(){var W=(0,a.Z)(function*(ie){if(null!=ie){const Ae=yield he(ie);return void 0!==Ae&&Ae.isOpen()}return void 0!==(yield Fe())});return function(Ae){return W.apply(this,arguments)}}(),Re=function(){var W=(0,a.Z)(function*(ie){const Ae=yield he(ie);return!!Ae&&!Ae.disabled});return function(Ae){return W.apply(this,arguments)}}(),he=function(){var W=(0,a.Z)(function*(ie,Ae=!1){if(yield G(),"start"===ie||"end"===ie){const Oe=Je.filter(xt=>xt.side===ie&&!xt.disabled);if(Oe.length>=1)return Oe.length>1&&Ae&&(0,M.p)(`menuController queried for a menu on the "${ie}" side, but ${Oe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Oe.map(xt=>xt.el)),Oe[0].el;const Tt=Je.filter(xt=>xt.side===ie);if(Tt.length>=1)return Tt.length>1&&Ae&&(0,M.p)(`menuController queried for a menu on the "${ie}" side, but ${Tt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Tt.map(xt=>xt.el)),Tt[0].el}else if(null!=ie)return ue(Oe=>Oe.menuId===ie);return ue(Oe=>!Oe.disabled)||(Je.length>0?Je[0].el:void 0)});return function(Ae){return W.apply(this,arguments)}}(),Fe=function(){var W=(0,a.Z)(function*(){return yield G(),it()});return function(){return W.apply(this,arguments)}}(),st=function(){var W=(0,a.Z)(function*(){return yield G(),Pt()});return function(){return W.apply(this,arguments)}}(),Ze=function(){var W=(0,a.Z)(function*(){return yield G(),Ue()});return function(){return W.apply(this,arguments)}}(),Lt=(W,ie)=>{Be.set(W,ie)},gn=function(){var W=(0,a.Z)(function*(ie,Ae,ut){if(Ue())return!1;if(Ae){const Oe=yield Fe();Oe&&ie.el!==Oe&&(yield Oe.setOpen(!1,!1))}return ie._setOpen(Ae,ut)});return function(Ae,ut,Oe){return W.apply(this,arguments)}}(),it=()=>ue(W=>W._isOpen),Pt=()=>Je.map(W=>W.el),Ue=()=>Je.some(W=>W.isAnimating),ue=W=>{const ie=Je.find(W);if(void 0!==ie)return ie.el},G=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(W=>new Promise(ie=>(0,Ne.c)(W,ie))));return Lt("reveal",ne),Lt("push",ye),Lt("overlay",je),null==$.d||$.d.addEventListener("ionBackButton",W=>{const ie=it();ie&&W.detail.register(se.MENU_BACK_BUTTON_PRIORITY,()=>ie.close())}),{registerAnimation:Lt,get:he,getMenus:st,getOpen:Fe,isEnabled:Re,swipeGesture:De,isAnimating:Ze,isOpen:Te,enable:Et,toggle:xe,close:lt,open:He,_getOpenSync:it,_createAnimation:(W,ie)=>{const Ae=Be.get(W);if(!Ae)throw new Error("animation not registered");return Ae(ie)},_register:W=>{Je.indexOf(W)<0&&Je.push(W)},_unregister:W=>{const ie=Je.indexOf(W);ie>-1&&Je.splice(ie,1)},_setOpen:gn}})()},6862:(bn,gt,A)=>{"use strict";A.d(gt,{b:()=>Le,c:()=>je,d:()=>ye,e:()=>it,g:()=>ue,l:()=>gn,s:()=>Pt,t:()=>xe,w:()=>It});var a=A(5861),$=A(5731),se=A(2315),M=A(2400),Ne=A(4298);const Le="ionViewWillLeave",je="ionViewDidLeave",ye="ionViewWillUnload",ne=G=>{G.tabIndex=-1,G.focus()},Me=G=>null!==G.offsetParent,Be="ion-last-focus",lt_saveViewFocus=ie=>{if($.c.get("focusManagerPriority",!1)){const ut=document.activeElement;null!==ut&&ie?.contains(ut)&&ut.setAttribute(Be,"true")}},lt_setViewFocus=ie=>{const Ae=$.c.get("focusManagerPriority",!1);if(Array.isArray(Ae)&&!ie.contains(document.activeElement)){const ut=ie.querySelector(`[${Be}]`);if(ut&&Me(ut))return void ne(ut);for(const Oe of Ae)switch(Oe){case"content":const Tt=ie.querySelector('main, [role="main"]');if(Tt&&Me(Tt))return void ne(Tt);break;case"heading":const xt=ie.querySelector('h1, [role="heading"][aria-level="1"]');if(xt&&Me(xt))return void ne(xt);break;case"banner":const fn=ie.querySelector('header, [role="banner"]');if(fn&&Me(fn))return void ne(fn);break;default:(0,M.p)(`Unrecognized focus manager priority value ${Oe}`)}ne(ie)}},xe=G=>new Promise((W,ie)=>{(0,se.w)(()=>{Et(G),De(G).then(Ae=>{Ae.animation&&Ae.animation.destroy(),Te(G),W(Ae)},Ae=>{Te(G),ie(Ae)})})}),Et=G=>{const W=G.enteringEl,ie=G.leavingEl;lt_saveViewFocus(ie),Ue(W,ie,G.direction),G.showGoBack?W.classList.add("can-go-back"):W.classList.remove("can-go-back"),Pt(W,!1),W.style.setProperty("pointer-events","none"),ie&&(Pt(ie,!1),ie.style.setProperty("pointer-events","none"))},De=function(){var G=(0,a.Z)(function*(W){const ie=yield Re(W);return ie&&se.B.isBrowser?he(ie,W):Fe(W)});return function(ie){return G.apply(this,arguments)}}(),Te=G=>{const W=G.enteringEl,ie=G.leavingEl;W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"),void 0!==ie&&(ie.classList.remove("ion-page-invisible"),ie.style.removeProperty("pointer-events")),lt_setViewFocus(W)},Re=function(){var G=(0,a.Z)(function*(W){return W.leavingEl&&W.animated&&0!==W.duration?W.animationBuilder?W.animationBuilder:"ios"===W.mode?(yield Promise.resolve().then(A.bind(A,240))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,4047))).mdTransitionAnimation:void 0});return function(ie){return G.apply(this,arguments)}}(),he=function(){var G=(0,a.Z)(function*(W,ie){yield st(ie,!0);const Ae=W(ie.baseEl,ie);Ge(ie.enteringEl,ie.leavingEl);const ut=yield Lt(Ae,ie);return ie.progressCallback&&ie.progressCallback(void 0),ut&&qt(ie.enteringEl,ie.leavingEl),{hasCompleted:ut,animation:Ae}});return function(ie,Ae){return G.apply(this,arguments)}}(),Fe=function(){var G=(0,a.Z)(function*(W){const ie=W.enteringEl,Ae=W.leavingEl,ut=$.c.get("focusManagerPriority",!1);return yield st(W,ut),Ge(ie,Ae),qt(ie,Ae),{hasCompleted:!0}});return function(ie){return G.apply(this,arguments)}}(),st=function(){var G=(0,a.Z)(function*(W,ie){(void 0!==W.deepWait?W.deepWait:ie)&&(yield Promise.all([it(W.enteringEl),it(W.leavingEl)])),yield Ze(W.viewIsReady,W.enteringEl)});return function(ie,Ae){return G.apply(this,arguments)}}(),Ze=function(){var G=(0,a.Z)(function*(W,ie){W&&(yield W(ie))});return function(ie,Ae){return G.apply(this,arguments)}}(),Lt=(G,W)=>{const ie=W.progressCallback,Ae=new Promise(ut=>{G.onFinish(Oe=>ut(1===Oe))});return ie?(G.progressStart(!0),ie(G)):G.play(),Ae},Ge=(G,W)=>{gn(W,Le),gn(G,"ionViewWillEnter")},qt=(G,W)=>{gn(G,"ionViewDidEnter"),gn(W,je)},gn=(G,W)=>{if(G){const ie=new CustomEvent(W,{bubbles:!1,cancelable:!1});G.dispatchEvent(ie)}},It=()=>new Promise(G=>(0,Ne.r)(()=>(0,Ne.r)(()=>G()))),it=function(){var G=(0,a.Z)(function*(W){const ie=W;if(ie){if(null!=ie.componentOnReady){if(null!=(yield ie.componentOnReady()))return}else if(null!=ie.__registerHost)return void(yield new Promise(ut=>(0,Ne.r)(ut)));yield Promise.all(Array.from(ie.children).map(it))}});return function(ie){return G.apply(this,arguments)}}(),Pt=(G,W)=>{W?(G.setAttribute("aria-hidden","true"),G.classList.add("ion-page-hidden")):(G.hidden=!1,G.removeAttribute("aria-hidden"),G.classList.remove("ion-page-hidden"))},Ue=(G,W,ie)=>{void 0!==G&&(G.style.zIndex="back"===ie?"99":"101"),void 0!==W&&(W.style.zIndex="100")},ue=G=>G.classList.contains("ion-page")?G:G.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||G},2315:(bn,gt,A)=>{"use strict";A.d(gt,{B:()=>Ee,a:()=>po,b:()=>At,c:()=>xt,d:()=>vn,e:()=>be,f:()=>Ue,g:()=>fn,h:()=>it,i:()=>Nt,j:()=>tt,k:()=>pe,r:()=>or,w:()=>mn});var a=A(5861);var M=Object.defineProperty,Ee={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},pe=B=>{const re=new URL(B,Hr.$resourcesUrl$);return re.origin!==Do.location.origin?re.href:re.pathname},Le={},Me=B=>"object"==(B=typeof B)||"function"===B;function Ve(B){var re,Ye,rt;return null!=(rt=null==(Ye=null==(re=B.head)?void 0:re.querySelector('meta[name="csp-nonce"]'))?void 0:Ye.getAttribute("content"))?rt:void 0}((B,re)=>{for(var Ye in re)M(B,Ye,{get:re[Ye],enumerable:!0})})({},{err:()=>He,map:()=>lt,ok:()=>Je,unwrap:()=>xe,unwrapErr:()=>Et});var Je=B=>({isOk:!0,isErr:!1,value:B}),He=B=>({isOk:!1,isErr:!0,value:B});function lt(B,re){if(B.isOk){const Ye=re(B.value);return Ye instanceof Promise?Ye.then(rt=>Je(rt)):Je(Ye)}if(B.isErr)return He(B.value);throw"should never get here"}var xe=B=>{if(B.isOk)return B.value;throw B.value},Et=B=>{if(B.isErr)return B.value;throw B.value},Ze="s-id",Lt="sty-id",gn="slot-fb{display:contents}slot-fb[hidden]{display:none}",It="http://www.w3.org/1999/xlink",it=(B,re,...Ye)=>{let rt=null,bt=null,St=null,Kt=!1,rn=!1;const an=[],Ht=$n=>{for(let rr=0;rr<$n.length;rr++)rt=$n[rr],Array.isArray(rt)?Ht(rt):null!=rt&&"boolean"!=typeof rt&&((Kt="function"!=typeof B&&!Me(rt))&&(rt=String(rt)),Kt&&rn?an[an.length-1].$text$+=rt:an.push(Kt?Pt(null,rt):rt),rn=Kt)};if(Ht(Ye),re){re.key&&(bt=re.key),re.name&&(St=re.name);{const $n=re.className||re.class;$n&&(re.class="object"!=typeof $n?$n:Object.keys($n).filter(rr=>$n[rr]).join(" "))}}if("function"==typeof B)return B(null===re?{}:re,an,G);const Vn=Pt(B,null);return Vn.$attrs$=re,an.length>0&&(Vn.$children$=an),Vn.$key$=bt,Vn.$name$=St,Vn},Pt=(B,re)=>({$flags$:0,$tag$:B,$text$:re,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ue={},G={forEach:(B,re)=>B.map(W).forEach(re),map:(B,re)=>B.map(W).map(re).map(ie)},W=B=>({vattrs:B.$attrs$,vchildren:B.$children$,vkey:B.$key$,vname:B.$name$,vtag:B.$tag$,vtext:B.$text$}),ie=B=>{if("function"==typeof B.vtag){const Ye={...B.vattrs};return B.vkey&&(Ye.key=B.vkey),B.vname&&(Ye.name=B.vname),it(B.vtag,Ye,...B.vchildren||[])}const re=Pt(B.vtag,B.vtext);return re.$attrs$=B.vattrs,re.$children$=B.vchildren,re.$key$=B.vkey,re.$name$=B.vname,re},ut=(B,re,Ye,rt,bt,St,Kt)=>{let rn,an,Ht,Vn;if(1===St.nodeType){for(rn=St.getAttribute("c-id"),rn&&(an=rn.split("."),(an[0]===Kt||"0"===an[0])&&(Ht={$flags$:0,$hostId$:an[0],$nodeId$:an[1],$depth$:an[2],$index$:an[3],$tag$:St.tagName.toLowerCase(),$elm$:St,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},re.push(Ht),St.removeAttribute("c-id"),B.$children$||(B.$children$=[]),B.$children$[Ht.$index$]=Ht,B=Ht,rt&&"0"===Ht.$depth$&&(rt[Ht.$index$]=Ht.$elm$))),Vn=St.childNodes.length-1;Vn>=0;Vn--)ut(B,re,Ye,rt,bt,St.childNodes[Vn],Kt);if(St.shadowRoot)for(Vn=St.shadowRoot.childNodes.length-1;Vn>=0;Vn--)ut(B,re,Ye,rt,bt,St.shadowRoot.childNodes[Vn],Kt)}else if(8===St.nodeType)an=St.nodeValue.split("."),(an[1]===Kt||"0"===an[1])&&(rn=an[0],Ht={$flags$:0,$hostId$:an[1],$nodeId$:an[2],$depth$:an[3],$index$:an[4],$elm$:St,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===rn?(Ht.$elm$=St.nextSibling,Ht.$elm$&&3===Ht.$elm$.nodeType&&(Ht.$text$=Ht.$elm$.textContent,re.push(Ht),St.remove(),B.$children$||(B.$children$=[]),B.$children$[Ht.$index$]=Ht,rt&&"0"===Ht.$depth$&&(rt[Ht.$index$]=Ht.$elm$))):Ht.$hostId$===Kt&&("s"===rn?(Ht.$tag$="slot",St["s-sn"]=an[5]?Ht.$name$=an[5]:"",St["s-sr"]=!0,rt&&(Ht.$elm$=bi.createElement(Ht.$tag$),Ht.$name$&&Ht.$elm$.setAttribute("name",Ht.$name$),St.parentNode.insertBefore(Ht.$elm$,St),St.remove(),"0"===Ht.$depth$&&(rt[Ht.$index$]=Ht.$elm$)),Ye.push(Ht),B.$children$||(B.$children$=[]),B.$children$[Ht.$index$]=Ht):"r"===rn&&(rt?St.remove():(bt["s-cr"]=St,St["s-cn"]=!0))));else if(B&&"style"===B.$tag$){const $n=Pt(null,St.textContent);$n.$elm$=St,$n.$index$="0",B.$children$=[$n]}},Oe=(B,re)=>{if(1===B.nodeType){let Ye=0;for(;Ye<B.childNodes.length;Ye++)Oe(B.childNodes[Ye],re);if(B.shadowRoot)for(Ye=0;Ye<B.shadowRoot.childNodes.length;Ye++)Oe(B.shadowRoot.childNodes[Ye],re)}else if(8===B.nodeType){const Ye=B.nodeValue.split(".");"o"===Ye[0]&&(re.set(Ye[1]+"."+Ye[2],B),B.nodeValue="",B["s-en"]=Ye[3])}},xt=B=>bo.push(B),fn=B=>Sn(B).$modeName$,Nt=B=>Sn(B).$hostElement$,vn=(B,re,Ye)=>{const rt=Nt(B);return{emit:bt=>Yn(rt,re,{bubbles:!!(4&Ye),composed:!!(2&Ye),cancelable:!!(1&Ye),detail:bt})}},Yn=(B,re,Ye)=>{const rt=Hr.ce(re,Ye);return B.dispatchEvent(rt),rt},Ir=new WeakMap,on=(B,re,Ye)=>{let rt=Li.get(B);$i&&Ye?(rt=rt||new CSSStyleSheet,"string"==typeof rt?rt=re:rt.replaceSync(re)):rt=re,Li.set(B,rt)},nn=(B,re,Ye)=>{var rt;const bt=Wt(re,Ye),St=Li.get(bt);if(B=11===B.nodeType?B:bi,St)if("string"==typeof St){let rn,Kt=Ir.get(B=B.head||B);if(Kt||Ir.set(B,Kt=new Set),!Kt.has(bt)){if(B.host&&(rn=B.querySelector(`[${Lt}="${bt}"]`)))rn.innerHTML=St;else{rn=bi.createElement("style"),rn.innerHTML=St;const an=null!=(rt=Hr.$nonce$)?rt:Ve(bi);null!=an&&rn.setAttribute("nonce",an),B.insertBefore(rn,B.querySelector("link"))}4&re.$flags$&&(rn.innerHTML+=gn),Kt&&Kt.add(bt)}}else B.adoptedStyleSheets.includes(St)||(B.adoptedStyleSheets=[...B.adoptedStyleSheets,St]);return bt},Wt=(B,re)=>"sc-"+(re&&32&B.$flags$?B.$tagName$+"-"+re:B.$tagName$),Ke=B=>B.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),We=(B,re,Ye,rt,bt,St)=>{if(Ye!==rt){let Kt=qr(B,re),rn=re.toLowerCase();if("class"===re){const an=B.classList,Ht=Ln(Ye),Vn=Ln(rt);an.remove(...Ht.filter($n=>$n&&!Vn.includes($n))),an.add(...Vn.filter($n=>$n&&!Ht.includes($n)))}else if("style"===re){for(const an in Ye)(!rt||null==rt[an])&&(an.includes("-")?B.style.removeProperty(an):B.style[an]="");for(const an in rt)(!Ye||rt[an]!==Ye[an])&&(an.includes("-")?B.style.setProperty(an,rt[an]):B.style[an]=rt[an])}else if("key"!==re)if("ref"===re)rt&&rt(B);else if(Kt||"o"!==re[0]||"n"!==re[1]){const an=Me(rt);if((Kt||an&&null!==rt)&&!bt)try{if(B.tagName.includes("-"))B[re]=rt;else{const Vn=rt??"";"list"===re?Kt=!1:(null==Ye||B[re]!=Vn)&&(B[re]=Vn)}}catch{}let Ht=!1;rn!==(rn=rn.replace(/^xlink\:?/,""))&&(re=rn,Ht=!0),null==rt||!1===rt?(!1!==rt||""===B.getAttribute(re))&&(Ht?B.removeAttributeNS(It,re):B.removeAttribute(re)):(!Kt||4&St||bt)&&!an&&(rt=!0===rt?"":rt,Ht?B.setAttributeNS(It,re,rt):B.setAttribute(re,rt))}else if(re="-"===re[2]?re.slice(3):qr(Do,rn)?rn.slice(2):rn[2]+re.slice(3),Ye||rt){const an=re.endsWith(pr);re=re.replace(Hn,""),Ye&&Hr.rel(B,re,Ye,an),rt&&Hr.ael(B,re,rt,an)}}},Ut=/\s/,Ln=B=>B?B.split(Ut):[],pr="Capture",Hn=new RegExp(pr+"$"),zn=(B,re,Ye)=>{const rt=11===re.$elm$.nodeType&&re.$elm$.host?re.$elm$.host:re.$elm$,bt=B&&B.$attrs$||Le,St=re.$attrs$||Le;for(const Kt of Gn(Object.keys(bt)))Kt in St||We(rt,Kt,bt[Kt],void 0,Ye,re.$flags$);for(const Kt of Gn(Object.keys(St)))We(rt,Kt,bt[Kt],St[Kt],Ye,re.$flags$)};function Gn(B){return B.includes("ref")?[...B.filter(re=>"ref"!==re),"ref"]:B}var Kn,Cr,Wn,mr=!1,ni=!1,Ci=!1,sn=!1,di=(B,re,Ye,rt)=>{var bt;const St=re.$children$[Ye];let rn,an,Ht,Kt=0;if(mr||(Ci=!0,"slot"===St.$tag$&&(Kn&&rt.classList.add(Kn+"-s"),St.$flags$|=St.$children$?2:1)),null!==St.$text$)rn=St.$elm$=bi.createTextNode(St.$text$);else if(1&St.$flags$)rn=St.$elm$=bi.createTextNode("");else{if(sn||(sn="svg"===St.$tag$),rn=St.$elm$=bi.createElementNS(sn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&St.$flags$?"slot-fb":St.$tag$),sn&&"foreignObject"===St.$tag$&&(sn=!1),zn(null,St,sn),(B=>null!=B)(Kn)&&rn["s-si"]!==Kn&&rn.classList.add(rn["s-si"]=Kn),St.$children$)for(Kt=0;Kt<St.$children$.length;++Kt)an=di(B,St,Kt,rn),an&&rn.appendChild(an);"svg"===St.$tag$?sn=!1:"foreignObject"===rn.tagName&&(sn=!0)}return rn["s-hn"]=Wn,3&St.$flags$&&(rn["s-sr"]=!0,rn["s-cr"]=Cr,rn["s-sn"]=St.$name$||"",rn["s-rf"]=null==(bt=St.$attrs$)?void 0:bt.ref,Ht=B&&B.$children$&&B.$children$[Ye],Ht&&Ht.$tag$===St.$tag$&&B.$elm$&&Dr(B.$elm$)),rn},Dr=B=>{Hr.$flags$|=1;const re=B.closest(Wn.toLowerCase());if(null!=re){const Ye=Array.from(re.childNodes).find(bt=>bt["s-cr"]),rt=Array.from(B.childNodes);for(const bt of Ye?rt.reverse():rt)null!=bt["s-sh"]&&(re.insertBefore(bt,Ye??null),bt["s-sh"]=void 0,Ci=!0)}Hr.$flags$&=-2},Nr=(B,re)=>{Hr.$flags$|=1;const Ye=Array.from(B.childNodes);if(B["s-sr"]){let rt=B;for(;rt=rt.nextSibling;)rt&&rt["s-sn"]===B["s-sn"]&&rt["s-sh"]===Wn&&Ye.push(rt)}for(let rt=Ye.length-1;rt>=0;rt--){const bt=Ye[rt];bt["s-hn"]!==Wn&&bt["s-ol"]&&(Dn(bt).insertBefore(bt,ur(bt)),bt["s-ol"].remove(),bt["s-ol"]=void 0,bt["s-sh"]=void 0,Ci=!0),re&&Nr(bt,re)}Hr.$flags$&=-2},Fn=(B,re,Ye,rt,bt,St)=>{let rn,Kt=B["s-cr"]&&B["s-cr"].parentNode||B;for(Kt.shadowRoot&&Kt.tagName===Wn&&(Kt=Kt.shadowRoot);bt<=St;++bt)rt[bt]&&(rn=di(null,Ye,bt,B),rn&&(rt[bt].$elm$=rn,Kt.insertBefore(rn,ur(re))))},Ii=(B,re,Ye)=>{for(let rt=re;rt<=Ye;++rt){const bt=B[rt];if(bt){const St=bt.$elm$;ct(bt),St&&(ni=!0,St["s-ol"]?St["s-ol"].remove():Nr(St,!0),St.remove())}}},ei=(B,re,Ye=!1)=>B.$tag$===re.$tag$&&("slot"===B.$tag$?B.$name$===re.$name$:!!Ye||B.$key$===re.$key$),ur=B=>B&&B["s-ol"]||B,Dn=B=>(B["s-ol"]?B["s-ol"]:B).parentNode,ai=(B,re,Ye=!1)=>{const rt=re.$elm$=B.$elm$,bt=B.$children$,St=re.$children$,Kt=re.$tag$,rn=re.$text$;let an;null===rn?(sn="svg"===Kt||"foreignObject"!==Kt&&sn,"slot"!==Kt||mr?zn(B,re,sn):B.$name$!==re.$name$&&(re.$elm$["s-sn"]=re.$name$||"",Dr(re.$elm$.parentElement)),null!==bt&&null!==St?((B,re,Ye,rt,bt=!1)=>{let xi,kr,St=0,Kt=0,rn=0,an=0,Ht=re.length-1,Vn=re[0],$n=re[Ht],rr=rt.length-1,Bn=rt[0],ri=rt[rr];for(;St<=Ht&&Kt<=rr;)if(null==Vn)Vn=re[++St];else if(null==$n)$n=re[--Ht];else if(null==Bn)Bn=rt[++Kt];else if(null==ri)ri=rt[--rr];else if(ei(Vn,Bn,bt))ai(Vn,Bn,bt),Vn=re[++St],Bn=rt[++Kt];else if(ei($n,ri,bt))ai($n,ri,bt),$n=re[--Ht],ri=rt[--rr];else if(ei(Vn,ri,bt))("slot"===Vn.$tag$||"slot"===ri.$tag$)&&Nr(Vn.$elm$.parentNode,!1),ai(Vn,ri,bt),B.insertBefore(Vn.$elm$,$n.$elm$.nextSibling),Vn=re[++St],ri=rt[--rr];else if(ei($n,Bn,bt))("slot"===Vn.$tag$||"slot"===ri.$tag$)&&Nr($n.$elm$.parentNode,!1),ai($n,Bn,bt),B.insertBefore($n.$elm$,Vn.$elm$),$n=re[--Ht],Bn=rt[++Kt];else{for(rn=-1,an=St;an<=Ht;++an)if(re[an]&&null!==re[an].$key$&&re[an].$key$===Bn.$key$){rn=an;break}rn>=0?(kr=re[rn],kr.$tag$!==Bn.$tag$?xi=di(re&&re[Kt],Ye,rn,B):(ai(kr,Bn,bt),re[rn]=void 0,xi=kr.$elm$),Bn=rt[++Kt]):(xi=di(re&&re[Kt],Ye,Kt,B),Bn=rt[++Kt]),xi&&Dn(Vn.$elm$).insertBefore(xi,ur(Vn.$elm$))}St>Ht?Fn(B,null==rt[rr+1]?null:rt[rr+1].$elm$,Ye,rt,Kt,rr):Kt>rr&&Ii(re,St,Ht)})(rt,bt,re,St,Ye):null!==St?(null!==B.$text$&&(rt.textContent=""),Fn(rt,null,re,St,0,St.length-1)):null!==bt&&Ii(bt,0,bt.length-1),sn&&"svg"===Kt&&(sn=!1)):(an=rt["s-cr"])?an.parentNode.textContent=rn:B.$text$!==rn&&(rt.data=rn)},Ti=B=>{const re=B.childNodes;for(const Ye of re)if(1===Ye.nodeType){if(Ye["s-sr"]){const rt=Ye["s-sn"];Ye.hidden=!1;for(const bt of re)if(bt!==Ye)if(bt["s-hn"]!==Ye["s-hn"]||""!==rt){if(1===bt.nodeType&&(rt===bt.getAttribute("slot")||rt===bt["s-sn"])||3===bt.nodeType&&rt===bt["s-sn"]){Ye.hidden=!0;break}}else if(1===bt.nodeType||3===bt.nodeType&&""!==bt.textContent.trim()){Ye.hidden=!0;break}}Ti(Ye)}},Kr=[],Fi=B=>{let re,Ye,rt;for(const bt of B.childNodes){if(bt["s-sr"]&&(re=bt["s-cr"])&&re.parentNode){Ye=re.parentNode.childNodes;const St=bt["s-sn"];for(rt=Ye.length-1;rt>=0;rt--)if(re=Ye[rt],!(re["s-cn"]||re["s-nr"]||re["s-hn"]===bt["s-hn"]||re["s-sh"]&&re["s-sh"]===bt["s-hn"]))if(hi(re,St)){let Kt=Kr.find(rn=>rn.$nodeToRelocate$===re);ni=!0,re["s-sn"]=re["s-sn"]||St,Kt?(Kt.$nodeToRelocate$["s-sh"]=bt["s-hn"],Kt.$slotRefNode$=bt):(re["s-sh"]=bt["s-hn"],Kr.push({$slotRefNode$:bt,$nodeToRelocate$:re})),re["s-sr"]&&Kr.map(rn=>{hi(rn.$nodeToRelocate$,re["s-sn"])&&(Kt=Kr.find(an=>an.$nodeToRelocate$===re),Kt&&!rn.$slotRefNode$&&(rn.$slotRefNode$=Kt.$slotRefNode$))})}else Kr.some(Kt=>Kt.$nodeToRelocate$===re)||Kr.push({$nodeToRelocate$:re})}1===bt.nodeType&&Fi(bt)}},hi=(B,re)=>1===B.nodeType?null===B.getAttribute("slot")&&""===re||B.getAttribute("slot")===re:B["s-sn"]===re||""===re,ct=B=>{B.$attrs$&&B.$attrs$.ref&&B.$attrs$.ref(null),B.$children$&&B.$children$.map(ct)},Ce=(B,re)=>{re&&!B.$onRenderResolve$&&re["s-p"]&&re["s-p"].push(new Promise(Ye=>B.$onRenderResolve$=Ye))},ge=(B,re)=>{if(B.$flags$|=16,!(4&B.$flags$))return Ce(B,B.$ancestorComponent$),mn(()=>ve(B,re));B.$flags$|=512},ve=(B,re)=>{const rt=B.$lazyInstance$;let bt;return re&&(B.$flags$|=256,B.$queuedListeners$&&(B.$queuedListeners$.map(([St,Kt])=>dr(rt,St,Kt)),B.$queuedListeners$=void 0),bt=dr(rt,"componentWillLoad")),bt=wt(bt,()=>dr(rt,"componentWillRender")),wt(bt,()=>kn(B,rt,re))},wt=(B,re)=>tn(B)?B.then(re):re(),tn=B=>B instanceof Promise||B&&B.then&&"function"==typeof B.then,kn=function(){var B=(0,a.Z)(function*(re,Ye,rt){var bt;const St=re.$hostElement$,rn=St["s-rc"];rt&&(B=>{const re=B.$cmpMeta$,Ye=B.$hostElement$,rt=re.$flags$,St=nn(Ye.shadowRoot?Ye.shadowRoot:Ye.getRootNode(),re,B.$modeName$);10&rt&&(Ye["s-sc"]=St,Ye.classList.add(St+"-h"),2&rt&&Ye.classList.add(St+"-s"))})(re);xn(re,Ye,St,rt),rn&&(rn.map(Ht=>Ht()),St["s-rc"]=void 0);{const Ht=null!=(bt=St["s-p"])?bt:[],Vn=()=>yr(re);0===Ht.length?Vn():(Promise.all(Ht).then(Vn),re.$flags$|=4,Ht.length=0)}});return function(Ye,rt,bt){return B.apply(this,arguments)}}(),xn=(B,re,Ye,rt)=>{try{re=re.render&&re.render(),B.$flags$&=-17,B.$flags$|=2,((B,re,Ye=!1)=>{var rt,bt,St,Kt,rn;const an=B.$hostElement$,Ht=B.$cmpMeta$,Vn=B.$vnode$||Pt(null,null),$n=(B=>B&&B.$tag$===Ue)(re)?re:it(null,null,re);if(Wn=an.tagName,Ht.$attrsToReflect$&&($n.$attrs$=$n.$attrs$||{},Ht.$attrsToReflect$.map(([rr,Bn])=>$n.$attrs$[Bn]=an[rr])),Ye&&$n.$attrs$)for(const rr of Object.keys($n.$attrs$))an.hasAttribute(rr)&&!["key","ref","style","class"].includes(rr)&&($n.$attrs$[rr]=an[rr]);if($n.$tag$=null,$n.$flags$|=4,B.$vnode$=$n,$n.$elm$=Vn.$elm$=an.shadowRoot||an,Kn=an["s-sc"],mr=0!=(1&Ht.$flags$),Cr=an["s-cr"],ni=!1,ai(Vn,$n,Ye),Hr.$flags$|=1,Ci){Fi($n.$elm$);for(const rr of Kr){const Bn=rr.$nodeToRelocate$;if(!Bn["s-ol"]){const ri=bi.createTextNode("");ri["s-nr"]=Bn,Bn.parentNode.insertBefore(Bn["s-ol"]=ri,Bn)}}for(const rr of Kr){const Bn=rr.$nodeToRelocate$,ri=rr.$slotRefNode$;if(ri){const xi=ri.parentNode;let kr=ri.nextSibling;if(kr&&1===kr.nodeType){let Qi=null==(rt=Bn["s-ol"])?void 0:rt.previousSibling;for(;Qi;){let Si=null!=(bt=Qi["s-nr"])?bt:null;if(Si&&Si["s-sn"]===Bn["s-sn"]&&xi===Si.parentNode){for(Si=Si.nextSibling;Si===Bn||Si?.["s-sr"];)Si=Si?.nextSibling;if(!Si||!Si["s-nr"]){kr=Si;break}}Qi=Qi.previousSibling}}(!kr&&xi!==Bn.parentNode||Bn.nextSibling!==kr)&&Bn!==kr&&(xi.insertBefore(Bn,kr),1===Bn.nodeType&&(Bn.hidden=null!=(St=Bn["s-ih"])&&St)),Bn&&"function"==typeof ri["s-rf"]&&ri["s-rf"](Bn)}else 1===Bn.nodeType&&(Ye&&(Bn["s-ih"]=null!=(Kt=Bn.hidden)&&Kt),Bn.hidden=!0)}}if(ni&&Ti($n.$elm$),Hr.$flags$&=-2,Kr.length=0,2&Ht.$flags$)for(const rr of $n.$elm$.childNodes)rr["s-hn"]!==Wn&&!rr["s-sh"]&&(Ye&&null==rr["s-ih"]&&(rr["s-ih"]=null!=(rn=rr.hidden)&&rn),rr.hidden=!0);Cr=void 0})(B,re,rt)}catch(bt){Tr(bt,B.$hostElement$)}return null},yr=B=>{const Ye=B.$hostElement$,bt=B.$lazyInstance$,St=B.$ancestorComponent$;dr(bt,"componentDidRender"),64&B.$flags$?dr(bt,"componentDidUpdate"):(B.$flags$|=64,Ct(Ye),dr(bt,"componentDidLoad"),B.$onReadyResolve$(Ye),St||Qn()),B.$onInstanceResolve$(Ye),B.$onRenderResolve$&&(B.$onRenderResolve$(),B.$onRenderResolve$=void 0),512&B.$flags$&&N(()=>ge(B,!1)),B.$flags$&=-517},tt=B=>{{const re=Sn(B),Ye=re.$hostElement$.isConnected;return Ye&&2==(18&re.$flags$)&&ge(re,!1),Ye}},Qn=B=>{Ct(bi.documentElement),N(()=>Yn(Do,"appload",{detail:{namespace:"ionic"}}))},dr=(B,re,Ye)=>{if(B&&B[re])try{return B[re](Ye)}catch(rt){Tr(rt)}},Ct=B=>B.classList.add("hydrated"),Qt=(B,re,Ye)=>{var rt;const bt=B.prototype;if(re.$members$){B.watchers&&(re.$watchers$=B.watchers);const St=Object.entries(re.$members$);if(St.map(([Kt,[rn]])=>{31&rn||2&Ye&&32&rn?Object.defineProperty(bt,Kt,{get(){return((B,re)=>Sn(this).$instanceValues$.get(re))(0,Kt)},set(an){((B,re,Ye,rt)=>{const bt=Sn(B),St=bt.$hostElement$,Kt=bt.$instanceValues$.get(re),rn=bt.$flags$,an=bt.$lazyInstance$;Ye=((B,re)=>null==B||Me(B)?B:4&re?"false"!==B&&(""===B||!!B):2&re?parseFloat(B):1&re?String(B):B)(Ye,rt.$members$[re][0]);const Ht=Number.isNaN(Kt)&&Number.isNaN(Ye);if((!(8&rn)||void 0===Kt)&&Ye!==Kt&&!Ht&&(bt.$instanceValues$.set(re,Ye),an)){if(rt.$watchers$&&128&rn){const $n=rt.$watchers$[re];$n&&$n.map(rr=>{try{an[rr](Ye,Kt,re)}catch(Bn){Tr(Bn,St)}})}2==(18&rn)&&ge(bt,!1)}})(this,Kt,an,re)},configurable:!0,enumerable:!0}):1&Ye&&64&rn&&Object.defineProperty(bt,Kt,{value(...an){var Ht;const Vn=Sn(this);return null==(Ht=Vn?.$onInstancePromise$)?void 0:Ht.then(()=>{var $n;return null==($n=Vn.$lazyInstance$)?void 0:$n[Kt](...an)})}})}),1&Ye){const Kt=new Map;bt.attributeChangedCallback=function(rn,an,Ht){Hr.jmp(()=>{var Vn;const $n=Kt.get(rn);if(this.hasOwnProperty($n))Ht=this[$n],delete this[$n];else{if(bt.hasOwnProperty($n)&&"number"==typeof this[$n]&&this[$n]==Ht)return;if(null==$n){const rr=Sn(this),Bn=rr?.$flags$;if(Bn&&!(8&Bn)&&128&Bn&&Ht!==an){const ri=rr.$lazyInstance$,xi=null==(Vn=re.$watchers$)?void 0:Vn[rn];xi?.forEach(kr=>{null!=ri[kr]&&ri[kr].call(ri,Ht,an,rn)})}return}}this[$n]=(null!==Ht||"boolean"!=typeof this[$n])&&Ht})},B.observedAttributes=Array.from(new Set([...Object.keys(null!=(rt=re.$watchers$)?rt:{}),...St.filter(([rn,an])=>15&an[0]).map(([rn,an])=>{var Ht;const Vn=an[1]||rn;return Kt.set(Vn,rn),512&an[0]&&(null==(Ht=re.$attrsToReflect$)||Ht.push([rn,Vn])),Vn})]))}}return B},En=function(){var B=(0,a.Z)(function*(re,Ye,rt,bt){let St;if(!(32&Ye.$flags$)){if(Ye.$flags$|=32,rt.$lazyBundleId$){if(St=mi(rt),St.then){const Vn=()=>{};St=yield St,Vn()}St.isProxied||(rt.$watchers$=St.watchers,Qt(St,rt,2),St.isProxied=!0);const Ht=()=>{};Ye.$flags$|=8;try{new St(Ye)}catch(Vn){Tr(Vn)}Ye.$flags$&=-9,Ye.$flags$|=128,Ht(),wn(Ye.$lazyInstance$)}else St=re.constructor,customElements.whenDefined(rt.$tagName$).then(()=>Ye.$flags$|=128);if(St.style){let Ht=St.style;"string"!=typeof Ht&&(Ht=Ht[Ye.$modeName$=(B=>bo.map(re=>re(B)).find(re=>!!re))(re)]);const Vn=Wt(rt,Ye.$modeName$);if(!Li.has(Vn)){const $n=()=>{};on(Vn,Ht,!!(1&rt.$flags$)),$n()}}}const Kt=Ye.$ancestorComponent$,rn=()=>ge(Ye,!0);Kt&&Kt["s-rc"]?Kt["s-rc"].push(rn):rn()});return function(Ye,rt,bt,St){return B.apply(this,arguments)}}(),wn=B=>{dr(B,"connectedCallback")},Ar=B=>{const re=B["s-cr"]=bi.createComment("");re["s-cn"]=!0,B.insertBefore(re,B.firstChild)},Nn=B=>{dr(B,"disconnectedCallback")},oe=function(){var B=(0,a.Z)(function*(re){if(!(1&Hr.$flags$)){const Ye=Sn(re);Ye.$rmListeners$&&(Ye.$rmListeners$.map(rt=>rt()),Ye.$rmListeners$=void 0),Ye?.$lazyInstance$?Nn(Ye.$lazyInstance$):Ye?.$onReadyPromise$&&Ye.$onReadyPromise$.then(()=>Nn(Ye.$lazyInstance$))}});return function(Ye){return B.apply(this,arguments)}}(),j=B=>{const re=B.cloneNode;B.cloneNode=function(Ye){const rt=this,bt=rt.shadowRoot&&go,St=re.call(rt,!!bt&&Ye);if(!bt&&Ye){let rn,an,Kt=0;const Ht=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf"];for(;Kt<rt.childNodes.length;Kt++)rn=rt.childNodes[Kt]["s-nr"],an=Ht.every(Vn=>!rt.childNodes[Kt][Vn]),rn&&(St.__appendChild?St.__appendChild(rn.cloneNode(!0)):St.appendChild(rn.cloneNode(!0))),an&&St.appendChild(rt.childNodes[Kt].cloneNode(!0))}return St}},le=B=>{B.__appendChild=B.appendChild,B.appendChild=function(re){const Ye=re["s-sn"]=we(re),rt=nt(this.childNodes,Ye,this.tagName);if(rt){const bt=$e(rt,Ye),St=bt[bt.length-1],Kt=St.parentNode.insertBefore(re,St.nextSibling);return Ti(this),Kt}return this.__appendChild(re)}},Qe=B=>{B.__removeChild=B.removeChild,B.removeChild=function(re){if(re&&typeof re["s-sn"]<"u"){const Ye=nt(this.childNodes,re["s-sn"],this.tagName);if(Ye){const bt=$e(Ye,re["s-sn"]).find(St=>St===re);if(bt)return bt.remove(),void Ti(this)}}return this.__removeChild(re)}},Pe=B=>{const re=B.prepend;B.prepend=function(...Ye){Ye.forEach(rt=>{"string"==typeof rt&&(rt=this.ownerDocument.createTextNode(rt));const bt=rt["s-sn"]=we(rt),St=nt(this.childNodes,bt,this.tagName);if(St){const Kt=document.createTextNode("");Kt["s-nr"]=rt,St["s-cr"].parentNode.__appendChild(Kt),rt["s-ol"]=Kt;const an=$e(St,bt)[0];return an.parentNode.insertBefore(rt,an.nextSibling)}return 1===rt.nodeType&&rt.getAttribute("slot")&&(rt.hidden=!0),re.call(this,rt)})}},ft=B=>{B.append=function(...re){re.forEach(Ye=>{"string"==typeof Ye&&(Ye=this.ownerDocument.createTextNode(Ye)),this.appendChild(Ye)})}},$t=B=>{const re=B.insertAdjacentHTML;B.insertAdjacentHTML=function(Ye,rt){if("afterbegin"!==Ye&&"beforeend"!==Ye)return re.call(this,Ye,rt);const bt=this.ownerDocument.createElement("_");let St;if(bt.innerHTML=rt,"afterbegin"===Ye)for(;St=bt.firstChild;)this.prepend(St);else if("beforeend"===Ye)for(;St=bt.firstChild;)this.append(St)}},In=B=>{B.insertAdjacentText=function(re,Ye){this.insertAdjacentHTML(re,Ye)}},Jn=B=>{const re=B.insertAdjacentElement;B.insertAdjacentElement=function(Ye,rt){return"afterbegin"!==Ye&&"beforeend"!==Ye?re.call(this,Ye,rt):"afterbegin"===Ye?(this.prepend(rt),rt):("beforeend"===Ye&&this.append(rt),rt)}},hr=B=>{const re=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(B,"__textContent",re),Object.defineProperty(B,"textContent",{get(){return" "+ar(this.childNodes).map(bt=>{var St,Kt;const rn=[];let an=bt.nextSibling;for(;an&&an["s-sn"]===bt["s-sn"];)(3===an.nodeType||1===an.nodeType)&&rn.push(null!=(Kt=null==(St=an.textContent)?void 0:St.trim())?Kt:""),an=an.nextSibling;return rn.filter(Ht=>""!==Ht).join(" ")}).filter(bt=>""!==bt).join(" ")+" "},set(Ye){ar(this.childNodes).forEach(bt=>{let St=bt.nextSibling;for(;St&&St["s-sn"]===bt["s-sn"];){const Kt=St;St=St.nextSibling,Kt.remove()}if(""===bt["s-sn"]){const Kt=this.ownerDocument.createTextNode(Ye);Kt["s-sn"]="",bt.parentElement.insertBefore(Kt,bt.nextSibling)}else bt.remove()})}})},jr=(B,re)=>{class Ye extends Array{item(bt){return this[bt]}}if(8&re.$flags$){const rt=B.__lookupGetter__("childNodes");Object.defineProperty(B,"children",{get(){return this.childNodes.map(bt=>1===bt.nodeType)}}),Object.defineProperty(B,"childElementCount",{get:()=>B.children.length}),Object.defineProperty(B,"childNodes",{get(){const bt=rt.call(this);if(!(1&Hr.$flags$)&&2&Sn(this).$flags$){const St=new Ye;for(let Kt=0;Kt<bt.length;Kt++){const rn=bt[Kt]["s-nr"];rn&&St.push(rn)}return St}return Ye.from(bt)}})}},ar=B=>{const re=[];for(const Ye of Array.from(B))Ye["s-sr"]&&re.push(Ye),re.push(...ar(Ye.childNodes));return re},we=B=>B["s-sn"]||1===B.nodeType&&B.getAttribute("slot")||"",nt=(B,re,Ye)=>{let bt,rt=0;for(;rt<B.length;rt++)if(bt=B[rt],bt["s-sr"]&&bt["s-sn"]===re&&bt["s-hn"]===Ye||(bt=nt(bt.childNodes,re,Ye),bt))return bt;return null},$e=(B,re)=>{const Ye=[B];for(;(B=B.nextSibling)&&B["s-sn"]===re;)Ye.push(B);return Ye},At=(B,re={})=>{var Ye;const bt=[],St=re.exclude||[],Kt=Do.customElements,rn=bi.head,an=rn.querySelector("meta[charset]"),Ht=bi.createElement("style"),Vn=[],$n=bi.querySelectorAll(`[${Lt}]`);let rr,Bn=!0,ri=0;for(Object.assign(Hr,re),Hr.$resourcesUrl$=new URL(re.resourcesUrl||"./",bi.baseURI).href,Hr.$flags$|=2;ri<$n.length;ri++)on($n[ri].getAttribute(Lt),Ke($n[ri].innerHTML),!0);let xi=!1;if(B.map(kr=>{kr[1].map(Qi=>{var Si;const Ui={$flags$:Qi[0],$tagName$:Qi[1],$members$:Qi[2],$listeners$:Qi[3]};4&Ui.$flags$&&(xi=!0),Ui.$members$=Qi[2],Ui.$listeners$=Qi[3],Ui.$attrsToReflect$=[],Ui.$watchers$=null!=(Si=Qi[4])?Si:{};const Ni=Ui.$tagName$,Mo=class extends HTMLElement{constructor(yo){super(yo),Sr(yo=this,Ui),1&Ui.$flags$&&yo.attachShadow({mode:"open",delegatesFocus:!!(16&Ui.$flags$)})}connectedCallback(){rr&&(clearTimeout(rr),rr=null),Bn?Vn.push(this):Hr.jmp(()=>(B=>{if(!(1&Hr.$flags$)){const re=Sn(B),Ye=re.$cmpMeta$,rt=()=>{};if(1&re.$flags$)Ot(B,re,Ye.$listeners$),re?.$lazyInstance$?wn(re.$lazyInstance$):re?.$onReadyPromise$&&re.$onReadyPromise$.then(()=>wn(re.$lazyInstance$));else{let bt;if(re.$flags$|=1,bt=B.getAttribute(Ze),bt){if(1&Ye.$flags$){const St=nn(B.shadowRoot,Ye,B.getAttribute("s-mode"));B.classList.remove(St+"-h",St+"-s")}((B,re,Ye,rt)=>{const St=B.shadowRoot,Kt=[],an=St?[]:null,Ht=rt.$vnode$=Pt(re,null);Hr.$orgLocNodes$||Oe(bi.body,Hr.$orgLocNodes$=new Map),B[Ze]=Ye,B.removeAttribute(Ze),ut(Ht,Kt,[],an,B,B,Ye),Kt.map(Vn=>{const $n=Vn.$hostId$+"."+Vn.$nodeId$,rr=Hr.$orgLocNodes$.get($n),Bn=Vn.$elm$;rr&&go&&""===rr["s-en"]&&rr.parentNode.insertBefore(Bn,rr.nextSibling),St||(Bn["s-hn"]=re,rr&&(Bn["s-ol"]=rr,Bn["s-ol"]["s-nr"]=Bn)),Hr.$orgLocNodes$.delete($n)}),St&&an.map(Vn=>{Vn&&St.appendChild(Vn)})})(B,Ye.$tagName$,bt,re)}bt||12&Ye.$flags$&&Ar(B);{let St=B;for(;St=St.parentNode||St.host;)if(1===St.nodeType&&St.hasAttribute("s-id")&&St["s-p"]||St["s-p"]){Ce(re,re.$ancestorComponent$=St);break}}Ye.$members$&&Object.entries(Ye.$members$).map(([St,[Kt]])=>{if(31&Kt&&B.hasOwnProperty(St)){const rn=B[St];delete B[St],B[St]=rn}}),En(B,re,Ye)}rt()}})(this))}disconnectedCallback(){Hr.jmp(()=>oe(this))}componentOnReady(){return Sn(this).$onReadyPromise$}};2&Ui.$flags$&&((B,re)=>{j(B),le(B),ft(B),Pe(B),Jn(B),$t(B),In(B),hr(B),jr(B,re),Qe(B)})(Mo.prototype,Ui),Ui.$lazyBundleId$=kr[0],!St.includes(Ni)&&!Kt.get(Ni)&&(bt.push(Ni),Kt.define(Ni,Qt(Mo,Ui,1)))})}),bt.length>0&&(xi&&(Ht.textContent+=gn),Ht.textContent+=bt+"{visibility:hidden}.hydrated{visibility:inherit}",Ht.innerHTML.length)){Ht.setAttribute("data-styles","");const kr=null!=(Ye=Hr.$nonce$)?Ye:Ve(bi);null!=kr&&Ht.setAttribute("nonce",kr),rn.insertBefore(Ht,an?an.nextSibling:rn.firstChild)}Bn=!1,Vn.length?Vn.map(kr=>kr.connectedCallback()):Hr.jmp(()=>rr=setTimeout(Qn,30))},Ot=(B,re,Ye,rt)=>{Ye&&Ye.map(([bt,St,Kt])=>{const rn=un(B,bt),an=vt(re,Kt),Ht=_n(bt);Hr.ael(rn,St,an,Ht),(re.$rmListeners$=re.$rmListeners$||[]).push(()=>Hr.rel(rn,St,an,Ht))})},vt=(B,re)=>Ye=>{try{256&B.$flags$?B.$lazyInstance$[re](Ye):(B.$queuedListeners$=B.$queuedListeners$||[]).push([re,Ye])}catch(rt){Tr(rt)}},un=(B,re)=>4&re?bi:8&re?Do:16&re?bi.body:B,_n=B=>Pr?{passive:0!=(1&B),capture:0!=(2&B)}:0!=(2&B),Tn=new WeakMap,Sn=B=>Tn.get(B),or=(B,re)=>Tn.set(re.$lazyInstance$=B,re),Sr=(B,re)=>{const Ye={$flags$:0,$hostElement$:B,$cmpMeta$:re,$instanceValues$:new Map};return Ye.$onInstancePromise$=new Promise(rt=>Ye.$onInstanceResolve$=rt),Ye.$onReadyPromise$=new Promise(rt=>Ye.$onReadyResolve$=rt),B["s-p"]=[],B["s-rc"]=[],Ot(B,Ye,re.$listeners$),Tn.set(B,Ye)},qr=(B,re)=>re in B,Tr=(B,re)=>(0,console.error)(B,re),Ai=new Map,mi=(B,re,Ye)=>{const rt=B.$tagName$.replace(/-/g,"_"),bt=B.$lazyBundleId$,St=Ai.get(bt);return St?St[rt]:A(863)(`./${bt}.entry.js`).then(Kt=>(Ai.set(bt,Kt),Kt[rt]),Tr)},Li=new Map,bo=[],Do=typeof window<"u"?window:{},bi=Do.document||{head:{}},Hr={$flags$:0,$resourcesUrl$:"",jmp:B=>B(),raf:B=>requestAnimationFrame(B),ael:(B,re,Ye,rt)=>B.addEventListener(re,Ye,rt),rel:(B,re,Ye,rt)=>B.removeEventListener(re,Ye,rt),ce:(B,re)=>new CustomEvent(B,re)},po=B=>{Object.assign(Hr,B)},go=!0,Pr=(()=>{let B=!1;try{bi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){B=!0}}))}catch{}return B})(),$i=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),wi=!1,Or=[],mo=[],q=(B,re)=>Ye=>{B.push(Ye),wi||(wi=!0,re&&4&Hr.$flags$?N(Q):Hr.raf(Q))},fr=B=>{for(let re=0;re<B.length;re++)try{B[re](performance.now())}catch(Ye){Tr(Ye)}B.length=0},Q=()=>{fr(Or),fr(mo),(wi=Or.length>0)&&Hr.raf(Q)},N=B=>Promise.resolve(void 0).then(B),be=q(Or,!1),mn=q(mo,!0)},2400:(bn,gt,A)=>{"use strict";A.d(gt,{a:()=>$,b:()=>se,p:()=>a});const a=(M,...Ne)=>console.warn(`[Ionic Warning]: ${M}`,...Ne),$=(M,...Ne)=>console.error(`[Ionic Error]: ${M}`,...Ne),se=(M,...Ne)=>console.error(`<${M.tagName.toLowerCase()}> must be used inside ${Ne.join(" or ")}.`)},1848:(bn,gt,A)=>{"use strict";A.d(gt,{d:()=>$,w:()=>a});const a=typeof window<"u"?window:void 0,$=typeof document<"u"?document:void 0},5731:(bn,gt,A)=>{"use strict";A.d(gt,{a:()=>ne,b:()=>Pt,c:()=>se,i:()=>Ue});var a=A(2315);class ${constructor(){this.m=new Map}reset(G){this.m=new Map(Object.entries(G))}get(G,W){const ie=this.m.get(G);return void 0!==ie?ie:W}getBoolean(G,W=!1){const ie=this.m.get(G);return void 0===ie?W:"string"==typeof ie?"true"===ie:!!ie}getNumber(G,W){const ie=parseFloat(this.m.get(G));return isNaN(ie)?void 0!==W?W:NaN:ie}set(G,W){this.m.set(G,W)}}const se=new $,je="ionic-persist-config",ne=(ue,G)=>("string"==typeof ue&&(G=ue,ue=void 0),(ue=>Me(ue))(ue).includes(G)),Me=(ue=window)=>{if(typeof ue>"u")return[];ue.Ionic=ue.Ionic||{};let G=ue.Ionic.platforms;return null==G&&(G=ue.Ionic.platforms=Ve(ue),G.forEach(W=>ue.document.documentElement.classList.add(`plt-${W}`))),G},Ve=ue=>{const G=se.get("platform");return Object.keys(It).filter(W=>{const ie=G?.[W];return"function"==typeof ie?ie(ue):It[W](ue)})},Je=ue=>!!(qt(ue,/iPad/i)||qt(ue,/Macintosh/i)&&Re(ue)),xe=ue=>qt(ue,/android|sink/i),Re=ue=>gn(ue,"(any-pointer:coarse)"),Fe=ue=>st(ue)||Ze(ue),st=ue=>!!(ue.cordova||ue.phonegap||ue.PhoneGap),Ze=ue=>{const G=ue.Capacitor;return!!G?.isNative},qt=(ue,G)=>G.test(ue.navigator.userAgent),gn=(ue,G)=>{var W;return null===(W=ue.matchMedia)||void 0===W?void 0:W.call(ue,G).matches},It={ipad:Je,iphone:ue=>qt(ue,/iPhone/i),ios:ue=>qt(ue,/iPhone|iPod/i)||Je(ue),android:xe,phablet:ue=>{const G=ue.innerWidth,W=ue.innerHeight,ie=Math.min(G,W),Ae=Math.max(G,W);return ie>390&&ie<520&&Ae>620&&Ae<800},tablet:ue=>{const G=ue.innerWidth,W=ue.innerHeight,ie=Math.min(G,W),Ae=Math.max(G,W);return Je(ue)||(ue=>xe(ue)&&!qt(ue,/mobile/i))(ue)||ie>460&&ie<820&&Ae>780&&Ae<1400},cordova:st,capacitor:Ze,electron:ue=>qt(ue,/electron/i),pwa:ue=>{var G;return!!(null!==(G=ue.matchMedia)&&void 0!==G&&G.call(ue,"(display-mode: standalone)").matches||ue.navigator.standalone)},mobile:Re,mobileweb:ue=>Re(ue)&&!Fe(ue),desktop:ue=>!Re(ue),hybrid:Fe};let it;const Pt=ue=>ue&&(0,a.g)(ue)||it,Ue=(ue={})=>{if(typeof window>"u")return;const G=window.document,W=window,ie=W.Ionic=W.Ionic||{},Ae={};ue._ael&&(Ae.ael=ue._ael),ue._rel&&(Ae.rel=ue._rel),ue._ce&&(Ae.ce=ue._ce),(0,a.a)(Ae);const ut=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ue=>{try{const G=ue.sessionStorage.getItem(je);return null!==G?JSON.parse(G):{}}catch{return{}}})(W)),{persistConfig:!1}),ie.config),(ue=>{const G={};return ue.location.search.slice(1).split("&").map(W=>W.split("=")).map(([W,ie])=>[decodeURIComponent(W),decodeURIComponent(ie)]).filter(([W])=>((ue,G)=>ue.substr(0,G.length)===G)(W,"ionic:")).map(([W,ie])=>[W.slice(6),ie]).forEach(([W,ie])=>{G[W]=ie}),G})(W)),ue);se.reset(ut),se.getBoolean("persistConfig")&&((ue,G)=>{try{ue.sessionStorage.setItem(je,JSON.stringify(G))}catch{return}})(W,ut),Me(W),ie.config=se,ie.mode=it=se.get("mode",G.documentElement.getAttribute("mode")||(ne(W,"ios")?"ios":"md")),se.set("mode",it),G.documentElement.setAttribute("mode",it),G.documentElement.classList.add(it),se.getBoolean("_testing")&&se.set("animated",!1);const Oe=xt=>{var fn;return null===(fn=xt.tagName)||void 0===fn?void 0:fn.startsWith("ION-")},Tt=xt=>["ios","md"].includes(xt);(0,a.c)(xt=>{for(;xt;){const fn=xt.mode||xt.getAttribute("mode");if(fn){if(Tt(fn))return fn;Oe(xt)&&console.warn('Invalid ionic mode: "'+fn+'", expected: "ios" or "md"')}xt=xt.parentElement}return it})}},240:(bn,gt,A)=>{"use strict";A.r(gt),A.d(gt,{iosTransitionAnimation:()=>Be,shadow:()=>Le});var a=A(2282),$=A(6862);A(1848),A(5731),A(2315);const pe=He=>document.querySelector(`${He}.ion-cloned-element`),Le=He=>He.shadowRoot||He,je=He=>{const lt="ION-TABS"===He.tagName?He:He.querySelector("ion-tabs"),xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=lt){const Et=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Et?Et.querySelector(xe):null}return He.querySelector(xe)},ye=(He,lt)=>{const xe="ION-TABS"===He.tagName?He:He.querySelector("ion-tabs");let Et=[];if(null!=xe){const De=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=De&&(Et=De.querySelectorAll("ion-buttons"))}else Et=He.querySelectorAll("ion-buttons");for(const De of Et){const Te=De.closest("ion-header"),Re=Te&&!Te.classList.contains("header-collapse-condense-inactive"),he=De.querySelector("ion-back-button"),Fe=De.classList.contains("buttons-collapse");if(null!==he&&("start"===De.slot||""===De.slot)&&(Fe&&Re&&lt||!Fe))return he}return null},Me=(He,lt,xe,Et,De,Te,Re,he,Fe)=>{var st,Ze;const Lt=lt?`calc(100% - ${De.right+4}px)`:De.left-4+"px",Ge=lt?"right":"left",qt=lt?"left":"right",gn=lt?"right":"left";let It=1,it=1,Pt=`scale(${it})`;const Ue="scale(1)";if(Te&&Re){const Ut=(null===(st=Te.textContent)||void 0===st?void 0:st.trim())===(null===(Ze=he.textContent)||void 0===Ze?void 0:Ze.trim());It=Fe.width/Re.width,it=(Fe.height-Je)/Re.height,Pt=Ut?`scale(${It}, ${it})`:`scale(${it})`}const G=Le(Et).querySelector("ion-icon").getBoundingClientRect(),W=lt?G.width/2-(G.right-De.right)+"px":De.left-G.width/2+"px",ie=lt?`-${window.innerWidth-De.right}px`:`${De.left}px`,Ae=`${Fe.top}px`,ut=`${De.top}px`,xt=xe?[{offset:0,transform:`translate3d(${ie}, ${ut}, 0)`},{offset:1,transform:`translate3d(${W}, ${Ae}, 0)`}]:[{offset:0,transform:`translate3d(${W}, ${Ae}, 0)`},{offset:1,transform:`translate3d(${ie}, ${ut}, 0)`}],Nt=xe?[{offset:0,opacity:1,transform:Ue},{offset:1,opacity:0,transform:Pt}]:[{offset:0,opacity:0,transform:Pt},{offset:1,opacity:1,transform:Ue}],Ir=xe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],on=(0,a.c)(),nn=(0,a.c)(),xr=(0,a.c)(),Wt=pe("ion-back-button"),Ke=Le(Wt).querySelector(".button-text"),We=Le(Wt).querySelector("ion-icon");Wt.text=Et.text,Wt.mode=Et.mode,Wt.icon=Et.icon,Wt.color=Et.color,Wt.disabled=Et.disabled,Wt.style.setProperty("display","block"),Wt.style.setProperty("position","fixed"),nn.addElement(We),on.addElement(Ke),xr.addElement(Wt),xr.beforeStyles({position:"absolute",top:"0px",[gn]:"0px"}).beforeAddWrite(()=>{Et.style.setProperty("display","none"),Wt.style.setProperty(Ge,Lt)}).afterAddWrite(()=>{Et.style.setProperty("display",""),Wt.style.setProperty("display","none"),Wt.style.removeProperty(Ge)}).keyframes(xt),on.beforeStyles({"transform-origin":`${Ge} top`}).keyframes(Nt),nn.beforeStyles({"transform-origin":`${qt} center`}).keyframes(Ir),He.addAnimation([on,nn,xr])},Ve=(He,lt,xe,Et,De,Te,Re,he,Fe)=>{var st,Ze;const Lt=lt?"right":"left",Ge=lt?`calc(100% - ${De.right}px)`:`${De.left}px`,gn=`${De.top}px`;let it=lt?`-${window.innerWidth-Re.right-8}px`:`${Re.x+8}px`,Pt=.5;const Ue="scale(1)";let ue=`scale(${Pt})`;if(he&&Fe){it=lt?`-${window.innerWidth-Fe.right-8}px`:Fe.x-8+"px";const fn=(null===(st=he.textContent)||void 0===st?void 0:st.trim())===(null===(Ze=Et.textContent)||void 0===Ze?void 0:Ze.trim());Pt=Fe.height/(Te.height-Je),ue=fn?`scale(${Fe.width/Te.width}, ${Pt})`:`scale(${Pt})`}const ie=Re.top+Re.height/2-De.height*Pt/2+"px",Oe=xe?[{offset:0,opacity:0,transform:`translate3d(${it}, ${ie}, 0) ${ue}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${gn}, 0) ${Ue}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${gn}, 0) ${Ue}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${it}, ${ie}, 0) ${ue}`}],Tt=pe("ion-title"),xt=(0,a.c)();Tt.innerText=Et.innerText,Tt.size=Et.size,Tt.color=Et.color,xt.addElement(Tt),xt.beforeStyles({"transform-origin":`${Lt} top`,height:`${De.height}px`,display:"",position:"relative",[Lt]:Ge}).beforeAddWrite(()=>{Et.style.setProperty("opacity","0")}).afterAddWrite(()=>{Et.style.setProperty("opacity",""),Tt.style.setProperty("display","none")}).keyframes(Oe),He.addAnimation(xt)},Be=(He,lt)=>{var xe;try{const Et="cubic-bezier(0.32,0.72,0,1)",De="opacity",Te="transform",Re="0%",Fe="rtl"===He.ownerDocument.dir,st=Fe?"-99.5%":"99.5%",Ze=Fe?"33%":"-33%",Lt=lt.enteringEl,Ge=lt.leavingEl,qt="back"===lt.direction,gn=Lt.querySelector(":scope > ion-content"),It=Lt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),it=Lt.querySelectorAll(":scope > ion-header > ion-toolbar"),Pt=(0,a.c)(),Ue=(0,a.c)();if(Pt.addElement(Lt).duration((null!==(xe=lt.duration)&&void 0!==xe?xe:0)||540).easing(lt.easing||Et).fill("both").beforeRemoveClass("ion-page-invisible"),Ge&&null!=He){const ie=(0,a.c)();ie.addElement(He),Pt.addAnimation(ie)}if(gn||0!==it.length||0!==It.length?(Ue.addElement(gn),Ue.addElement(It)):Ue.addElement(Lt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pt.addAnimation(Ue),qt?Ue.beforeClearStyles([De]).fromTo("transform",`translateX(${Ze})`,`translateX(${Re})`).fromTo(De,.8,1):Ue.beforeClearStyles([De]).fromTo("transform",`translateX(${st})`,`translateX(${Re})`),gn){const ie=Le(gn).querySelector(".transition-effect");if(ie){const Ae=ie.querySelector(".transition-cover"),ut=ie.querySelector(".transition-shadow"),Oe=(0,a.c)(),Tt=(0,a.c)(),xt=(0,a.c)();Oe.addElement(ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(Ae).beforeClearStyles([De]).fromTo(De,0,.1),xt.addElement(ut).beforeClearStyles([De]).fromTo(De,.03,.7),Oe.addAnimation([Tt,xt]),Ue.addAnimation([Oe])}}const ue=Lt.querySelector("ion-header.header-collapse-condense"),{forward:G,backward:W}=((He,lt,xe,Et,De)=>{const Te=ye(Et,xe),Re=je(De),he=je(Et),Fe=ye(De,xe),st=null!==Te&&null!==Re&&!xe,Ze=null!==he&&null!==Fe&&xe;if(st){const Lt=Re.getBoundingClientRect(),Ge=Te.getBoundingClientRect(),qt=Le(Te).querySelector(".button-text"),gn=qt?.getBoundingClientRect(),it=Le(Re).querySelector(".toolbar-title").getBoundingClientRect();Ve(He,lt,xe,Re,Lt,it,Ge,qt,gn),Me(He,lt,xe,Te,Ge,qt,gn,Re,it)}else if(Ze){const Lt=he.getBoundingClientRect(),Ge=Fe.getBoundingClientRect(),qt=Le(Fe).querySelector(".button-text"),gn=qt?.getBoundingClientRect(),it=Le(he).querySelector(".toolbar-title").getBoundingClientRect();Ve(He,lt,xe,he,Lt,it,Ge,qt,gn),Me(He,lt,xe,Fe,Ge,qt,gn,he,it)}return{forward:st,backward:Ze}})(Pt,Fe,qt,Lt,Ge);if(it.forEach(ie=>{const Ae=(0,a.c)();Ae.addElement(ie),Pt.addAnimation(Ae);const ut=(0,a.c)();ut.addElement(ie.querySelector("ion-title"));const Oe=(0,a.c)(),Tt=Array.from(ie.querySelectorAll("ion-buttons,[menuToggle]")),xt=ie.closest("ion-header"),fn=xt?.classList.contains("header-collapse-condense-inactive");let Rn;Rn=Tt.filter(qt?on=>{const nn=on.classList.contains("buttons-collapse");return nn&&!fn||!nn}:on=>!on.classList.contains("buttons-collapse")),Oe.addElement(Rn);const Nt=(0,a.c)();Nt.addElement(ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const vn=(0,a.c)();vn.addElement(Le(ie).querySelector(".toolbar-background"));const Yn=(0,a.c)(),Ir=ie.querySelector("ion-back-button");if(Ir&&Yn.addElement(Ir),Ae.addAnimation([ut,Oe,Nt,vn,Yn]),Oe.fromTo(De,.01,1),Nt.fromTo(De,.01,1),qt)fn||ut.fromTo("transform",`translateX(${Ze})`,`translateX(${Re})`).fromTo(De,.01,1),Nt.fromTo("transform",`translateX(${Ze})`,`translateX(${Re})`),Yn.fromTo(De,.01,1);else if(ue||ut.fromTo("transform",`translateX(${st})`,`translateX(${Re})`).fromTo(De,.01,1),Nt.fromTo("transform",`translateX(${st})`,`translateX(${Re})`),vn.beforeClearStyles([De,"transform"]),xt?.translucent?vn.fromTo("transform",Fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):vn.fromTo(De,.01,"var(--opacity)"),G||Yn.fromTo(De,.01,1),Ir&&!G){const nn=(0,a.c)();nn.addElement(Le(Ir).querySelector(".button-text")).fromTo("transform",Fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ae.addAnimation(nn)}}),Ge){const ie=(0,a.c)(),Ae=Ge.querySelector(":scope > ion-content"),ut=Ge.querySelectorAll(":scope > ion-header > ion-toolbar"),Oe=Ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ae||0!==ut.length||0!==Oe.length?(ie.addElement(Ae),ie.addElement(Oe)):ie.addElement(Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pt.addAnimation(ie),qt){ie.beforeClearStyles([De]).fromTo("transform",`translateX(${Re})`,Fe?"translateX(-100%)":"translateX(100%)");const Tt=(0,$.g)(Ge);Pt.afterAddWrite(()=>{"normal"===Pt.getDirection()&&Tt.style.setProperty("display","none")})}else ie.fromTo("transform",`translateX(${Re})`,`translateX(${Ze})`).fromTo(De,1,.8);if(Ae){const Tt=Le(Ae).querySelector(".transition-effect");if(Tt){const xt=Tt.querySelector(".transition-cover"),fn=Tt.querySelector(".transition-shadow"),Rn=(0,a.c)(),Nt=(0,a.c)(),vn=(0,a.c)();Rn.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Nt.addElement(xt).beforeClearStyles([De]).fromTo(De,.1,0),vn.addElement(fn).beforeClearStyles([De]).fromTo(De,.7,.03),Rn.addAnimation([Nt,vn]),ie.addAnimation([Rn])}}ut.forEach(Tt=>{const xt=(0,a.c)();xt.addElement(Tt);const fn=(0,a.c)();fn.addElement(Tt.querySelector("ion-title"));const Rn=(0,a.c)(),Nt=Tt.querySelectorAll("ion-buttons,[menuToggle]"),vn=Tt.closest("ion-header"),Yn=vn?.classList.contains("header-collapse-condense-inactive"),Ir=Array.from(Nt).filter(We=>{const Ut=We.classList.contains("buttons-collapse");return Ut&&!Yn||!Ut});Rn.addElement(Ir);const on=(0,a.c)(),nn=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");nn.length>0&&on.addElement(nn);const xr=(0,a.c)();xr.addElement(Le(Tt).querySelector(".toolbar-background"));const Wt=(0,a.c)(),Ke=Tt.querySelector("ion-back-button");if(Ke&&Wt.addElement(Ke),xt.addAnimation([fn,Rn,on,Wt,xr]),Pt.addAnimation(xt),Wt.fromTo(De,.99,0),Rn.fromTo(De,.99,0),on.fromTo(De,.99,0),qt){if(Yn||fn.fromTo("transform",`translateX(${Re})`,Fe?"translateX(-100%)":"translateX(100%)").fromTo(De,.99,0),on.fromTo("transform",`translateX(${Re})`,Fe?"translateX(-100%)":"translateX(100%)"),xr.beforeClearStyles([De,"transform"]),vn?.translucent?xr.fromTo("transform","translateX(0px)",Fe?"translateX(-100%)":"translateX(100%)"):xr.fromTo(De,"var(--opacity)",0),Ke&&!W){const Ut=(0,a.c)();Ut.addElement(Le(Ke).querySelector(".button-text")).fromTo("transform",`translateX(${Re})`,`translateX(${(Fe?-124:124)+"px"})`),xt.addAnimation(Ut)}}else Yn||fn.fromTo("transform",`translateX(${Re})`,`translateX(${Ze})`).fromTo(De,.99,0).afterClearStyles([Te,De]),on.fromTo("transform",`translateX(${Re})`,`translateX(${Ze})`).afterClearStyles([Te,De]),Wt.afterClearStyles([De]),fn.afterClearStyles([De]),Rn.afterClearStyles([De])})}return Pt}catch(Et){throw Et}},Je=10},4047:(bn,gt,A)=>{"use strict";A.r(gt),A.d(gt,{mdTransitionAnimation:()=>Ee});var a=A(2282),$=A(6862);A(1848),A(5731),A(2315);const Ee=(pe,Le)=>{var je,ye,ne;const Be="back"===Le.direction,He=Le.leavingEl,lt=(0,$.g)(Le.enteringEl),xe=lt.querySelector("ion-toolbar"),Et=(0,a.c)();if(Et.addElement(lt).fill("both").beforeRemoveClass("ion-page-invisible"),Be?Et.duration((null!==(je=Le.duration)&&void 0!==je?je:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Et.duration((null!==(ye=Le.duration)&&void 0!==ye?ye:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),xe){const De=(0,a.c)();De.addElement(xe),Et.addAnimation(De)}if(He&&Be){Et.duration((null!==(ne=Le.duration)&&void 0!==ne?ne:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const De=(0,a.c)();De.addElement((0,$.g)(He)).onFinish(Te=>{1===Te&&De.elements.length>0&&De.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Et.addAnimation(De)}return Et}},117:(bn,gt,A)=>{"use strict";A.d(gt,{B:()=>Nt,F:()=>Wt,G:()=>vn,O:()=>Yn,a:()=>lt,b:()=>xe,c:()=>Re,d:()=>Ir,e:()=>on,f:()=>G,g:()=>ie,h:()=>Oe,i:()=>xt,j:()=>Fe,k:()=>st,l:()=>Et,m:()=>De,n:()=>ye,o:()=>Ue,q:()=>ne,s:()=>Rn});var a=A(5861),$=A(1848),se=A(4298),M=A(283),Ne=A(5731),Ee=A(4813),pe=A(4089),Le=A(2400);const je='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(Ke,We)=>{const Ut=Ke.querySelector(je);Me(Ut,We??Ke)},ne=(Ke,We)=>{const Ut=Array.from(Ke.querySelectorAll(je));Me(Ut.length>0?Ut[Ut.length-1]:null,We??Ke)},Me=(Ke,We)=>{let Ut=Ke;const Ln=Ke?.shadowRoot;Ln&&(Ut=Ln.querySelector(je)||Ke),Ut?(0,se.f)(Ut):We.focus()};let Ve=0,Be=0;const Je=new WeakMap,He=Ke=>({create:We=>Ze(Ke,We),dismiss:(We,Ut,Ln)=>It(document,We,Ut,Ke,Ln),getTop:()=>(0,a.Z)(function*(){return Ue(document,Ke)})()}),lt=He("ion-alert"),xe=He("ion-action-sheet"),Et=He("ion-loading"),De=He("ion-modal"),Re=He("ion-popover"),Fe=Ke=>{typeof document<"u"&&gn(document);const We=Ve++;Ke.overlayIndex=We},st=Ke=>(Ke.hasAttribute("id")||(Ke.id="ion-overlay-"+ ++Be),Ke.id),Ze=(Ke,We)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ke).then(()=>{const Ut=document.createElement(Ke);return Ut.classList.add("overlay-hidden"),Object.assign(Ut,Object.assign(Object.assign({},We),{hasController:!0})),Ae(document).appendChild(Ut),new Promise(Ln=>(0,se.c)(Ut,Ln))}):Promise.resolve(),Ge=(Ke,We)=>{let Ut=Ke;const Ln=Ke?.shadowRoot;Ln&&(Ut=Ln.querySelector(je)||Ke),Ut?(0,se.f)(Ut):We.focus()},gn=Ke=>{0===Ve&&(Ve=1,Ke.addEventListener("focus",We=>{((Ke,We)=>{const Ut=Ue(We,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Ln=Ke.target;Ut&&Ln&&!Ut.classList.contains(Wt)&&(Ut.shadowRoot?(()=>{if(Ut.contains(Ln))Ut.lastFocus=Ln;else if("ION-TOAST"===Ln.tagName)Ge(Ut.lastFocus,Ut);else{const zn=Ut.lastFocus;ye(Ut),zn===We.activeElement&&ne(Ut),Ut.lastFocus=We.activeElement}})():(()=>{if(Ut===Ln)Ut.lastFocus=void 0;else if("ION-TOAST"===Ln.tagName)Ge(Ut.lastFocus,Ut);else{const zn=(0,se.g)(Ut);if(!zn.contains(Ln))return;const Gn=zn.querySelector(".ion-overlay-wrapper");if(!Gn)return;if(Gn.contains(Ln)||Ln===zn.querySelector("ion-backdrop"))Ut.lastFocus=Ln;else{const Kn=Ut.lastFocus;ye(Gn,Ut),Kn===We.activeElement&&ne(Gn,Ut),Ut.lastFocus=We.activeElement}}})())})(We,Ke)},!0),Ke.addEventListener("ionBackButton",We=>{const Ut=Ue(Ke);Ut?.backdropDismiss&&We.detail.register(M.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ut.dismiss(void 0,Nt)})}),(0,M.shouldUseCloseWatcher)()||Ke.addEventListener("keydown",We=>{if("Escape"===We.key){const Ut=Ue(Ke);Ut?.backdropDismiss&&Ut.dismiss(void 0,Nt)}}))},It=(Ke,We,Ut,Ln,pr)=>{const Hn=Ue(Ke,Ln,pr);return Hn?Hn.dismiss(We,Ut):Promise.reject("overlay does not exist")},Pt=(Ke,We)=>((Ke,We)=>(void 0===We&&(We="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ke.querySelectorAll(We)).filter(Ut=>Ut.overlayIndex>0)))(Ke,We).filter(Ut=>!(Ke=>Ke.classList.contains("overlay-hidden"))(Ut)),Ue=(Ke,We,Ut)=>{const Ln=Pt(Ke,We);return void 0===Ut?Ln[Ln.length-1]:Ln.find(pr=>pr.id===Ut)},ue=(Ke=!1)=>{const Ut=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ut&&(Ke?Ut.setAttribute("aria-hidden","true"):Ut.removeAttribute("aria-hidden"))},G=function(){var Ke=(0,a.Z)(function*(We,Ut,Ln,pr,Hn){var zn,Gn;if(We.presented)return;ue(!0),document.body.classList.add(pe.B),nn(We.el),We.presented=!0,We.willPresent.emit(),null===(zn=We.willPresentShorthand)||void 0===zn||zn.emit();const Kn=(0,Ne.b)(We),Cr=We.enterAnimation?We.enterAnimation:Ne.c.get(Ut,"ios"===Kn?Ln:pr);(yield ut(We,Cr,We.el,Hn))&&(We.didPresent.emit(),null===(Gn=We.didPresentShorthand)||void 0===Gn||Gn.emit()),"ION-TOAST"!==We.el.tagName&&W(We.el),We.keyboardClose&&(null===document.activeElement||!We.el.contains(document.activeElement))&&We.el.focus(),We.el.removeAttribute("aria-hidden")});return function(Ut,Ln,pr,Hn,zn){return Ke.apply(this,arguments)}}(),W=function(){var Ke=(0,a.Z)(function*(We){let Ut=document.activeElement;if(!Ut)return;const Ln=Ut?.shadowRoot;Ln&&(Ut=Ln.querySelector(je)||Ut),yield We.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ut.focus()});return function(Ut){return Ke.apply(this,arguments)}}(),ie=function(){var Ke=(0,a.Z)(function*(We,Ut,Ln,pr,Hn,zn,Gn){var Kn,Cr;if(!We.presented)return!1;void 0!==$.d&&1===Pt($.d).length&&(ue(!1),document.body.classList.remove(pe.B)),We.presented=!1;try{We.el.style.setProperty("pointer-events","none"),We.willDismiss.emit({data:Ut,role:Ln}),null===(Kn=We.willDismissShorthand)||void 0===Kn||Kn.emit({data:Ut,role:Ln});const mr=(0,Ne.b)(We),ni=We.leaveAnimation?We.leaveAnimation:Ne.c.get(pr,"ios"===mr?Hn:zn);Ln!==vn&&(yield ut(We,ni,We.el,Gn)),We.didDismiss.emit({data:Ut,role:Ln}),null===(Cr=We.didDismissShorthand)||void 0===Cr||Cr.emit({data:Ut,role:Ln}),(Je.get(We)||[]).forEach(sn=>sn.destroy()),Je.delete(We),We.el.classList.add("overlay-hidden"),We.el.style.removeProperty("pointer-events"),void 0!==We.el.lastFocus&&(We.el.lastFocus=void 0)}catch(mr){console.error(mr)}return We.el.remove(),xr(),!0});return function(Ut,Ln,pr,Hn,zn,Gn,Kn){return Ke.apply(this,arguments)}}(),Ae=Ke=>Ke.querySelector("ion-app")||Ke.body,ut=function(){var Ke=(0,a.Z)(function*(We,Ut,Ln,pr){Ln.classList.remove("overlay-hidden");const zn=Ut(We.el,pr);(!We.animated||!Ne.c.getBoolean("animated",!0))&&zn.duration(0),We.keyboardClose&&zn.beforeAddWrite(()=>{const Kn=Ln.ownerDocument.activeElement;Kn?.matches("input,ion-input, ion-textarea")&&Kn.blur()});const Gn=Je.get(We)||[];return Je.set(We,[...Gn,zn]),yield zn.play(),!0});return function(Ut,Ln,pr,Hn){return Ke.apply(this,arguments)}}(),Oe=(Ke,We)=>{let Ut;const Ln=new Promise(pr=>Ut=pr);return Tt(Ke,We,pr=>{Ut(pr.detail)}),Ln},Tt=(Ke,We,Ut)=>{const Ln=pr=>{(0,se.b)(Ke,We,Ln),Ut(pr)};(0,se.a)(Ke,We,Ln)},xt=Ke=>"cancel"===Ke||Ke===Nt,fn=Ke=>Ke(),Rn=(Ke,We)=>{if("function"==typeof Ke)return Ne.c.get("_zoneGate",fn)(()=>{try{return Ke(We)}catch(Ln){throw Ln}})},Nt="backdrop",vn="gesture",Yn=39,Ir=Ke=>{let Ut,We=!1;const Ln=(0,Ee.C)(),pr=(Gn=!1)=>{if(Ut&&!Gn)return{delegate:Ut,inline:We};const{el:Kn,hasController:Cr,delegate:Wn}=Ke;return We=null!==Kn.parentNode&&!Cr,Ut=We?Wn||Ln:Wn,{inline:We,delegate:Ut}};return{attachViewToDom:function(){var Gn=(0,a.Z)(function*(Kn){const{delegate:Cr}=pr(!0);if(Cr)return yield Cr.attachViewToDom(Ke.el,Kn);const{hasController:Wn}=Ke;if(Wn&&void 0!==Kn)throw new Error("framework delegate is missing");return null});return function(Cr){return Gn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Gn}=pr();Gn&&void 0!==Ke.el&&Gn.removeViewFromDom(Ke.el.parentElement,Ke.el)}}},on=()=>{let Ke;const We=()=>{Ke&&(Ke(),Ke=void 0)};return{addClickListener:(Ln,pr)=>{We();const Hn=void 0!==pr?document.getElementById(pr):null;Hn?Ke=((Gn,Kn)=>{const Cr=()=>{Kn.present()};return Gn.addEventListener("click",Cr),()=>{Gn.removeEventListener("click",Cr)}})(Hn,Ln):(0,Le.p)(`A trigger element with the ID "${pr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ln)},removeClickListener:We}},nn=Ke=>{var We;if(void 0===$.d)return;const Ut=Pt($.d);for(let Ln=Ut.length-1;Ln>=0;Ln--){const pr=Ut[Ln],Hn=null!==(We=Ut[Ln+1])&&void 0!==We?We:Ke;(Hn.hasAttribute("aria-hidden")||"ION-TOAST"!==Hn.tagName)&&pr.setAttribute("aria-hidden","true")}},xr=()=>{if(void 0===$.d)return;const Ke=Pt($.d);for(let We=Ke.length-1;We>=0;We--){const Ut=Ke[We];if(Ut.removeAttribute("aria-hidden"),"ION-TOAST"!==Ut.tagName)break}},Wt="ion-disable-focus-trap"},2014:(bn,gt,A)=>{"use strict";A.d(gt,{K:()=>Ee});var a=A(5861),$=A(9422),se=A.n($);const M={SecureStorage:"ionicSecureStorage",IndexedDB:se().INDEXEDDB,LocalStorage:se().LOCALSTORAGE},Ne={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[M.SecureStorage,M.IndexedDB,M.LocalStorage]};class Ee{constructor(Le=Ne){this._db=null,this._secureStorageDriver=null;const je=Object.assign({},Ne,Le||{});this._config=je}create(){var Le=this;return(0,a.Z)(function*(){const je=se().createInstance(Le._config);return Le._db=je,yield je.setDriver(Le._config.driverOrder||[]),Le})()}defineDriver(Le){var je=this;return(0,a.Z)(function*(){return Le._driver===M.SecureStorage&&(je._secureStorageDriver=Le),se().defineDriver(Le)})()}get driver(){var Le;return(null===(Le=this._db)||void 0===Le?void 0:Le.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(Le){return this.assertDb().getItem(Le)}set(Le,je){return this.assertDb().setItem(Le,je)}remove(Le){return this.assertDb().removeItem(Le)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(Le){return this.assertDb().iterate(Le)}setEncryptionKey(Le){var je;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(je=this._secureStorageDriver)||void 0===je||je.setEncryptionKey(Le)}}},8339:(bn,gt,A)=>{"use strict";A.d(gt,{N:()=>M});var a=A(6814),$=A(5958),se=A(5879);let M=(()=>{class Ne{static#e=this.\u0275fac=function(Le){return new(Le||Ne)};static#t=this.\u0275mod=se.oAB({type:Ne});static#n=this.\u0275inj=se.cJS({imports:[$.Pc,a.ez]})}return Ne})()},888:(bn,gt,A)=>{"use strict";A.d(gt,{Q:()=>Le});var a=A(5861),$=A(5879),se=A(5514),M=A(5958),Ne=A(6814);function Ee(je,ye){1&je&&($.ynx(0),$.TgZ(1,"div",7),$._UZ(2,"img",8),$.qZA(),$.BQk())}function pe(je,ye){1&je&&($.TgZ(0,"div",7),$._UZ(1,"img",9),$.qZA())}let Le=(()=>{class je{constructor(ne){this.router=ne,this.logoText="",this.imageType="",this.buttonText="",this.directUrl=""}ngOnInit(){}directTo(ne){var Me=this;return(0,a.Z)(function*(){Me.router.navigate([`/${ne}`],{})})()}static#e=this.\u0275fac=function(Me){return new(Me||je)($.Y36(se.F0))};static#t=this.\u0275cmp=$.Xpm({type:je,selectors:[["app-success-failed-component"]],inputs:{logoText:"logoText",imageType:"imageType",buttonText:"buttonText",directUrl:"directUrl"},decls:12,vars:5,consts:[[1,"white-space",3,"fullscreen"],[1,"overall-container"],[4,"ngIf","ngIfElse"],["cross",""],[1,"caption"],[1,"button"],[1,"button-back",3,"click"],[1,"sf-icon"],["src","../../../../assets/logo/success-failed/Button checklist.png"],["src","../../../../assets/logo/success-failed/Button Cross.png"]],template:function(Me,Ve){if(1&Me&&($.TgZ(0,"ion-content",0)(1,"div",1),$.YNc(2,Ee,3,0,"ng-container",2),$.YNc(3,pe,2,0,"ng-template",null,3,$.W1O),$.TgZ(5,"div",4)(6,"h1"),$._uU(7),$.qZA()(),$.TgZ(8,"div",5)(9,"ion-badge",6),$.NdJ("click",function(){return Ve.directTo(Ve.directUrl)}),$.TgZ(10,"ion-text"),$._uU(11),$.qZA()()()()()),2&Me){const Be=$.MAs(4);$.Q6J("fullscreen",!0),$.xp6(2),$.Q6J("ngIf","Check"===Ve.imageType)("ngIfElse",Be),$.xp6(5),$.Oqu(Ve.logoText),$.xp6(4),$.Oqu(Ve.buttonText)}},dependencies:[M.yp,M.W2,M.yW,Ne.O5],styles:["ion-content.white-space[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.overall-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;padding-bottom:68px;height:100%}.overall-container[_ngcontent-%COMP%]   .sf-icon[_ngcontent-%COMP%]{display:flex;justify-content:center}.overall-container[_ngcontent-%COMP%]   .sf-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.overall-container[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.overall-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.overall-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-back[_ngcontent-%COMP%]{padding:15px 10vw;border-radius:15px}.overall-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-back[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{justify-content:center;display:flex}"]})}return je})()},7197:(bn,gt,A)=>{"use strict";A.d(gt,{e:()=>Je});var a=A(5861),$=A(2459),se=A(4664),M=A(7398),Ne=A(8504),Ee=A(5879),pe=A(7213),Le=A(7650),je=A(2014);let ye=(()=>{class He{constructor(xe){this.storage=xe,this._storage=null,this.init()}init(){var xe=this;return(0,a.Z)(function*(){xe._storage=yield xe.storage.create()})()}ensureStorageInitialized(){var xe=this;return(0,a.Z)(function*(){if(xe._storage||(yield xe.init(),xe._storage))return xe._storage;throw new Error("Storage is not initialized")})()}set(xe,Et){var De=this;return(0,a.Z)(function*(){return(yield De.ensureStorageInitialized()).set(xe,Et)})()}get(xe){var Et=this;return(0,a.Z)(function*(){return(yield Et.ensureStorageInitialized()).get(xe)})()}remove(xe){var Et=this;return(0,a.Z)(function*(){return(yield Et.ensureStorageInitialized()).remove(xe)})()}static#e=this.\u0275fac=function(Et){return new(Et||He)(Ee.LFG(je.K))};static#t=this.\u0275prov=Ee.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();var ne=A(8583),Me=A(9862);let Ve=(()=>{class He{constructor(xe){this.http=xe,this.apiUrl=ne.N.apiUrl}getAllAccounts(){return this.http.get(`${this.apiUrl}/accounts`)}getAccountById(xe){return this.http.get(`${this.apiUrl}/accounts/${xe}`)}getDoctorAccountById(xe){return this.http.get(`${this.apiUrl}/accounts/doctor/${xe}`)}getAccountByUid(xe){return this.http.get(`${this.apiUrl}/accounts/uid/${xe}`)}createAccount(xe){return this.http.post(`${this.apiUrl}/accounts/create`,xe)}createDoctorAccount(xe){return this.http.post(`${this.apiUrl}/accounts/createDoctorAccount`,xe)}updateAccount(xe,Et){return this.http.patch(`${this.apiUrl}/accounts/update/${xe}`,Et)}deleteAccount(xe){return this.http.delete(`${this.apiUrl}/accounts/delete/${xe}`)}static#e=this.\u0275fac=function(Et){return new(Et||He)(Ee.LFG(Me.eN))};static#t=this.\u0275prov=Ee.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),Be=(()=>{class He{constructor(xe){this.accountApiService=xe}getAllAccounts(){return this.accountApiService.getAllAccounts()}getAccountById(xe){return this.accountApiService.getAccountById(xe)}getDoctorAccountById(xe){return this.accountApiService.getDoctorAccountById(xe)}getAccountByUid(xe){return this.accountApiService.getAccountByUid(xe)}createAccount(xe){return this.accountApiService.createAccount(xe)}createDoctorAccount(xe){return this.accountApiService.createDoctorAccount(xe)}updateAccount(xe,Et){return this.accountApiService.updateAccount(xe,Et)}deleteAccount(xe){return this.accountApiService.deleteAccount(xe)}static#e=this.\u0275fac=function(Et){return new(Et||He)(Ee.LFG(Ve))};static#t=this.\u0275prov=Ee.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),Je=(()=>{class He{constructor(xe,Et,De,Te){this.auth=xe,this.fireStore=Et,this.storageService=De,this.accountDataService=Te}login(xe,Et){return(0,$.D)(this.auth.signInWithEmailAndPassword(xe,Et)).pipe((0,se.w)(De=>De.user?this.accountDataService.getAccountByUid(De.user.uid).pipe((0,se.w)(Te=>(0,$.D)(this.storageService.set("user",Te)).pipe((0,M.U)(()=>Te)))):(0,Ne._)(new Error("User not found"))))}register(xe,Et,De){return(0,$.D)(this.auth.createUserWithEmailAndPassword(xe,Et)).pipe((0,se.w)(Te=>{if(Te.user){const Re={...De,userType:1,uid:Te.user.uid,email:Te.user.email};return this.accountDataService.createAccount(Re)}throw new Error("User credential is null")}))}registerDoctors(xe,Et,De,Te,Re,he,Fe,st,Ze,Lt,Ge){return(0,$.D)(this.auth.createUserWithEmailAndPassword(xe,Et)).pipe((0,se.w)(qt=>{if(qt.user)return this.accountDataService.createDoctorAccount({email:qt.user.email,username:De,address:Te,doctorSchedule:Re,experience:he,gender:Ze,specialization:Fe,phoneNumber:st,userType:2,uid:qt.user.uid,lat:Lt,lang:Ge});throw new Error("User credential is null")}))}logout(){return(0,$.D)(this.auth.signOut()).pipe((0,se.w)(()=>this.storageService.remove("user")))}getUserData(){var xe=this;return(0,a.Z)(function*(){try{return(yield xe.storageService.get("user"))||null}catch{return null}})()}static#e=this.\u0275fac=function(Et){return new(Et||He)(Ee.LFG(pe.zQ),Ee.LFG(Le.ST),Ee.LFG(ye),Ee.LFG(Be))};static#t=this.\u0275prov=Ee.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})()},8583:(bn,gt,A)=>{"use strict";A.d(gt,{N:()=>a});const a={production:!1,googleMapsApiKey:"",apiUrl:"https://petterinary.onrender.com",firebase:{apiKey:"AIzaSyCJpuZdn5dXqbUYdybDLsbGEv9yptdQ4kU",authDomain:"petterinary-d36f0.firebaseapp.com",projectId:"petterinary-d36f0",storageBucket:"petterinary-d36f0.appspot.com",messagingSenderId:"821654324244",appId:"1:821654324244:web:a131b32e3d5da3d7aad301",measurementId:"G-WJ98JRG696"}}},1115:(bn,gt,A)=>{"use strict";var a=A(6593),$=A(9862),se=A(5514),M=A(5879),Ne=A(888),Ee=A(5958);const Le=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([A.e(8592),A.e(3596)]).then(A.bind(A,3596)).then(V=>V.HomePageModule)},{path:"service-selection/:vetId",loadChildren:()=>A.e(8158).then(A.bind(A,8158)).then(V=>V.ServiceSelectionPageModule)},{path:"profile",loadChildren:()=>A.e(2838).then(A.bind(A,2838)).then(V=>V.ProfilePageModule)},{path:"history",loadChildren:()=>A.e(1915).then(A.bind(A,1915)).then(V=>V.HistoryPageModule)},{path:"form-user-visit/:vetId",loadChildren:()=>Promise.all([A.e(8592),A.e(3427)]).then(A.bind(A,3427)).then(V=>V.FormUserVisitPageModule)},{path:"consultation-info-uv",loadChildren:()=>A.e(6725).then(A.bind(A,6725)).then(V=>V.ConsultationInfoUvPageModule)},{path:"confirmation-page",loadChildren:()=>A.e(979).then(A.bind(A,979)).then(V=>V.ConfirmationPagePageModule)},{path:"uv-live-tracking",loadChildren:()=>A.e(5617).then(A.bind(A,5617)).then(V=>V.UvLiveTrackingPageModule)},{path:"uv-payment",loadChildren:()=>Promise.all([A.e(4542),A.e(9179)]).then(A.bind(A,9179)).then(V=>V.UvPaymentPageModule)},{path:"confirmation-page-payment",loadChildren:()=>A.e(7273).then(A.bind(A,7273)).then(V=>V.ConfirmationPagePaymentPageModule)},{path:"form-vet-visit",loadChildren:()=>A.e(6531).then(A.bind(A,6531)).then(V=>V.FormVetVisitPageModule)},{path:"consultation-info-vv",loadChildren:()=>A.e(7020).then(A.bind(A,7020)).then(V=>V.ConsultationInfoVvPageModule)},{path:"vv-live-tracking",loadChildren:()=>A.e(2454).then(A.bind(A,2454)).then(V=>V.VvLiveTrackingPageModule)},{path:"vv-payment",loadChildren:()=>Promise.all([A.e(4542),A.e(2820)]).then(A.bind(A,2820)).then(V=>V.VvPaymentPageModule)},{path:"rekap-konsultasi-vv",loadChildren:()=>A.e(4913).then(A.bind(A,4913)).then(V=>V.RekapKonsultasiVvPageModule)},{path:"rekap-konsultasi-uv",loadChildren:()=>A.e(1235).then(A.bind(A,1235)).then(V=>V.RekapKonsultasiUvPageModule)},{path:"home-vet",loadChildren:()=>Promise.all([A.e(8592),A.e(9041)]).then(A.bind(A,9041)).then(V=>V.HomeVetPageModule)},{path:"consultation-info-uv-vet",loadChildren:()=>A.e(9205).then(A.bind(A,9205)).then(V=>V.ConsultationInfoUvVetPageModule)},{path:"consultation-info-vv-vet",loadChildren:()=>A.e(6444).then(A.bind(A,6444)).then(V=>V.ConsultationInfoVvVetPageModule)},{path:"cancel-form-vet",loadChildren:()=>A.e(305).then(A.bind(A,7118)).then(V=>V.CancelFormVetPageModule)},{path:"history-vet",loadChildren:()=>A.e(6321).then(A.bind(A,6636)).then(V=>V.HistoryVetPageModule)},{path:"confirmation-page-vet",loadChildren:()=>A.e(4284).then(A.bind(A,4284)).then(V=>V.ConfirmationPageVetPageModule)},{path:"cancel-confirm-vet",loadChildren:()=>A.e(8001).then(A.bind(A,8001)).then(V=>V.CancelConfirmVetPageModule)},{path:"rekap-konsultasi-vv-vet",loadChildren:()=>A.e(1333).then(A.bind(A,1333)).then(V=>V.RekapKonsultasiVvVetPageModule)},{path:"rekap-konsultasi-uv-vet",loadChildren:()=>A.e(7785).then(A.bind(A,7785)).then(V=>V.RekapKonsultasiUvVetPageModule)},{path:"login",loadChildren:()=>Promise.all([A.e(8592),A.e(9176)]).then(A.bind(A,9176)).then(V=>V.LoginPageModule)},{path:"confirmation",component:(()=>{class V{constructor(I){this.route=I}ngOnInit(){this.route.queryParams.subscribe(I=>{this.status=I.status,this.url=I.url,this.text=`Kembali ke Halaman ${I.text}`,this.type=I.type})}static#e=this.\u0275fac=function(x){return new(x||V)(M.Y36(se.gz))};static#t=this.\u0275cmp=M.Xpm({type:V,selectors:[["app-confirmation"]],decls:2,vars:5,consts:[[1,"white-space",3,"fullscreen"],[3,"directUrl","imageType","logoText","buttonText"]],template:function(x,te){1&x&&(M.TgZ(0,"ion-content",0),M._UZ(1,"app-success-failed-component",1),M.qZA()),2&x&&(M.Q6J("fullscreen",!0),M.xp6(1),M.Q6J("directUrl",te.url)("imageType",te.type)("logoText",te.status)("buttonText",te.text))},dependencies:[Ne.Q,Ee.W2]})}return V})()},{path:"uv-live-tracking-vet",loadChildren:()=>A.e(6307).then(A.bind(A,6307)).then(V=>V.UvLiveTrackingVetPageModule)},{path:"vv-live-tracking-vet",loadChildren:()=>A.e(6815).then(A.bind(A,6815)).then(V=>V.VvLiveTrackingVetPageModule)}];let je=(()=>{class V{static#e=this.\u0275fac=function(x){return new(x||V)};static#t=this.\u0275mod=M.oAB({type:V});static#n=this.\u0275inj=M.cJS({imports:[se.Bz.forRoot(Le),se.Bz]})}return V})();var ye=A(5861);class ne{}class Me{}const Ve="*";function Be(V,_){return{type:7,name:V,definitions:_,options:{}}}function Je(V,_=null){return{type:4,styles:_,timings:V}}function lt(V,_=null){return{type:2,steps:V,options:_}}function xe(V){return{type:6,styles:V,offset:null}}function Te(V,_,I=null){return{type:1,expr:V,animation:_,options:I}}class Lt{constructor(_=0,I=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_+I}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_=>_()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_){this._position=this.totalTime?_*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_){const I="start"==_?this._onStartFns:this._onDoneFns;I.forEach(x=>x()),I.length=0}}class Ge{constructor(_){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_;let I=0,x=0,te=0;const Se=this.players.length;0==Se?queueMicrotask(()=>this._onFinish()):this.players.forEach(mt=>{mt.onDone(()=>{++I==Se&&this._onFinish()}),mt.onDestroy(()=>{++x==Se&&this._onDestroy()}),mt.onStart(()=>{++te==Se&&this._onStart()})}),this.totalTime=this.players.reduce((mt,yt)=>Math.max(mt,yt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this.players.forEach(_=>_.init())}onStart(_){this._onStartFns.push(_)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_=>_()),this._onStartFns=[])}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_=>_.play())}pause(){this.players.forEach(_=>_.pause())}restart(){this.players.forEach(_=>_.restart())}finish(){this._onFinish(),this.players.forEach(_=>_.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_=>_.destroy()),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this.players.forEach(_=>_.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_){const I=_*this.totalTime;this.players.forEach(x=>{const te=x.totalTime?Math.min(1,I/x.totalTime):1;x.setPosition(te)})}getPosition(){const _=this.players.reduce((I,x)=>null===I||x.totalTime>I.totalTime?x:I,null);return null!=_?_.getPosition():0}beforeDestroy(){this.players.forEach(_=>{_.beforeDestroy&&_.beforeDestroy()})}triggerCallback(_){const I="start"==_?this._onStartFns:this._onDoneFns;I.forEach(x=>x()),I.length=0}}var gn=A(2181),It=A(7197),it=A(6814);let Pt=(()=>{class V{constructor(I){this.router=I,this.lastRoute=""}ngOnInit(){}onLogoClick(){"home"===this.lastRoute?(this.router.navigate(["/home-vet"]),this.lastRoute="home-vet"):(this.router.navigate(["/home"]),this.lastRoute="home")}static#e=this.\u0275fac=function(x){return new(x||V)(M.Y36(se.F0))};static#t=this.\u0275cmp=M.Xpm({type:V,selectors:[["app-header-bar"]],decls:5,vars:0,consts:[["mode","md"],["lines","none","mode","md",2,"background","transparent"],[1,"head-cont"],[1,"logo-cont"],["src","../../../../assets/logo/header-bar/logo-1.png"]],template:function(x,te){1&x&&(M.TgZ(0,"ion-header",0)(1,"ion-item",1)(2,"div",2)(3,"div",3),M._UZ(4,"img",4),M.qZA()()()())},dependencies:[Ee.Gu,Ee.Ie],styles:["ion-header[_ngcontent-%COMP%]{background-color:#f90;border-bottom-left-radius:10px;border-bottom-right-radius:10px;width:100%;overflow:hidden;z-index:1000;position:fixed;top:0}ion-header[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .head-cont[_ngcontent-%COMP%]{display:flex;position:relative;width:100%}ion-header[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .head-cont[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}ion-header[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .head-cont[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}ion-header[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .head-cont[_ngcontent-%COMP%]   .side-menu-cont[_ngcontent-%COMP%]   .side-menu-icon[_ngcontent-%COMP%]{font-size:40px;display:flex;position:absolute;top:50%;right:0;transform:translateY(-50%)}"]})}return V})();function Ue(V,_){1&V&&(M.ynx(0,14),M._UZ(1,"img",15),M.BQk())}function ue(V,_){1&V&&M._UZ(0,"img",16)}function G(V,_){1&V&&(M.ynx(0,14),M._UZ(1,"img",17),M.BQk())}function W(V,_){1&V&&M._UZ(0,"img",18)}function ie(V,_){1&V&&(M.ynx(0,14),M._UZ(1,"img",19),M.BQk())}function Ae(V,_){1&V&&M._UZ(0,"img",20)}const ut=function(V,_){return{active:V,inactive:_}};let Oe=(()=>{class V{constructor(I,x){this.router=I,this.authService=x,this.isActive=0}ngOnInit(){this.getUser(),this.router.events.subscribe(I=>{I instanceof se.m2&&this.updateActiveIndex(I.urlAfterRedirects)}),this.updateActiveIndex(this.router.url)}getUser(){var I=this;return(0,ye.Z)(function*(){I.userData=yield I.authService.getUserData()})()}setActive(I){this.isActive=I,this.userData&&(1===this.userData.userType?0===I?this.router.navigate(["/home"],{}):1===I?this.router.navigate(["/history"],{}):2===I&&this.router.navigate(["/profile"],{}):0===I?this.router.navigate(["/home-vet"],{}):1===I?this.router.navigate(["/history-vet"],{}):2===I&&this.router.navigate(["/profile"],{}))}updateActiveIndex(I){I.includes("/home")?this.isActive=0:I.includes("/history")?this.isActive=1:I.includes("/profile")&&(this.isActive=2)}static#e=this.\u0275fac=function(x){return new(x||V)(M.Y36(se.F0),M.Y36(It.e))};static#t=this.\u0275cmp=M.Xpm({type:V,selectors:[["app-bottom-bar"]],decls:32,vars:18,consts:[["lines","none"],[1,"bot-cont"],[1,"home-cont",3,"click"],[3,"ngClass"],[1,"menu-icon"],["class","active",4,"ngIf","ngIfElse"],["notSelected",""],[1,"icon-desc"],[1,"logo-info"],[1,"gap"],[1,"note-cont",3,"click"],["notSelected1",""],[1,"profile-cont",3,"click"],["notSelected2",""],[1,"active"],["src","../../../../assets/logo/bottom-bar/selected/Icon Home.png"],["src","../../../../assets/logo/bottom-bar/Icon Home.png"],["src","../../../../assets/logo/bottom-bar/selected/Icon Notes.png"],["src","../../../../assets/logo/bottom-bar/Icon Catatan.png"],["src","../../../../assets/logo/bottom-bar/selected/Icon Profil.png"],["src","../../../../assets/logo/bottom-bar/Icon Profil.png"]],template:function(x,te){if(1&x&&(M.TgZ(0,"ion-footer")(1,"ion-item",0)(2,"div",1)(3,"button",2),M.NdJ("click",function(){return te.setActive(0)}),M._UZ(4,"div",3),M.TgZ(5,"div",4),M.YNc(6,Ue,2,0,"ng-container",5),M.YNc(7,ue,1,0,"ng-template",null,6,M.W1O),M.qZA(),M.TgZ(9,"div",7)(10,"label",8),M._uU(11,"Home"),M.qZA()()(),M._UZ(12,"div",9),M.TgZ(13,"button",10),M.NdJ("click",function(){return te.setActive(1)}),M._UZ(14,"div",3),M.TgZ(15,"div",4),M.YNc(16,G,2,0,"ng-container",5),M.YNc(17,W,1,0,"ng-template",null,11,M.W1O),M.qZA(),M.TgZ(19,"div",7)(20,"label",8),M._uU(21,"Catatan"),M.qZA()()(),M._UZ(22,"div",9),M.TgZ(23,"button",12),M.NdJ("click",function(){return te.setActive(2)}),M._UZ(24,"div",3),M.TgZ(25,"div",4),M.YNc(26,ie,2,0,"ng-container",5),M.YNc(27,Ae,1,0,"ng-template",null,13,M.W1O),M.qZA(),M.TgZ(29,"div",7)(30,"label",8),M._uU(31,"Profil"),M.qZA()()()()()()),2&x){const Se=M.MAs(8),mt=M.MAs(18),yt=M.MAs(28);M.xp6(4),M.Q6J("ngClass",M.WLB(9,ut,0===te.isActive,0!==te.isActive)),M.xp6(2),M.Q6J("ngIf",0===te.isActive)("ngIfElse",Se),M.xp6(8),M.Q6J("ngClass",M.WLB(12,ut,1===te.isActive,1!==te.isActive)),M.xp6(2),M.Q6J("ngIf",1===te.isActive)("ngIfElse",mt),M.xp6(8),M.Q6J("ngClass",M.WLB(15,ut,2===te.isActive,2!==te.isActive)),M.xp6(2),M.Q6J("ngIf",2===te.isActive)("ngIfElse",yt)}},dependencies:[Ee.fr,Ee.Ie,it.mk,it.O5],styles:["ion-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;background-color:#f90;border-top-right-radius:20px;border-top-left-radius:20px;z-index:1000}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;border-top-right-radius:20px;border-top-left-radius:20px}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;margin:0 20px 20px;align-items:end;justify-content:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);width:60px}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .home-cont[_ngcontent-%COMP%]{margin-right:20px;margin-left:20px;justify-content:center;align-items:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .home-cont[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .home-cont[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .home-cont[_ngcontent-%COMP%]   .icon-desc[_ngcontent-%COMP%]   .logo-info[_ngcontent-%COMP%]{font-size:15px;color:#fff}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .note-cont[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;justify-content:center;align-items:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .note-cont[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .note-cont[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .note-cont[_ngcontent-%COMP%]   .icon-desc[_ngcontent-%COMP%]   .logo-info[_ngcontent-%COMP%]{font-size:15px;color:#fff}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .profile-cont[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;justify-content:center;align-items:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .profile-cont[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .profile-cont[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;margin-left:5.5px}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .profile-cont[_ngcontent-%COMP%]   .icon-desc[_ngcontent-%COMP%]   .logo-info[_ngcontent-%COMP%]{font-size:15px;color:#fff}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .gap[_ngcontent-%COMP%]{padding:5px}ion-footer[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .bot-cont[_ngcontent-%COMP%]   .side-menu-cont[_ngcontent-%COMP%]   .side-menu-icon[_ngcontent-%COMP%]{font-size:40px;display:flex;position:absolute;top:50%;right:0;transform:translateY(-50%)}.active[_ngcontent-%COMP%], .inactive[_ngcontent-%COMP%]{height:10px;margin-bottom:10px;background-color:#fff;transition:transform .3s ease;transform-origin:center}.active[_ngcontent-%COMP%]{transform:scaleX(1)}.inactive[_ngcontent-%COMP%]{transform:scaleX(0)}"]})}return V})(),Tt=(()=>{class V{constructor(I){this.router=I}ngOnInit(){setTimeout(()=>{this.router.navigate(["/home"])},3e3)}static#e=this.\u0275fac=function(x){return new(x||V)(M.Y36(se.F0))};static#t=this.\u0275cmp=M.Xpm({type:V,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[["fullscreen","",1,"main"],[1,"container"],["src","assets\\logo\\logo-1.png","alt","Logo"]],template:function(x,te){1&x&&(M.TgZ(0,"ion-content",0)(1,"div",1),M._UZ(2,"img",2),M.TgZ(3,"h1"),M._uU(4,"Petterinary"),M.qZA()()())},dependencies:[Ee.W2],styles:["ion-content.main[_ngcontent-%COMP%]{--ion-background-color: #ff9900;--color: #000;position:relative}.container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}"]})}return V})();function xt(V,_){1&V&&(M.TgZ(0,"div"),M._UZ(1,"app-landing-page"),M.qZA()),2&V&&M.Q6J("@fadeInOut",void 0)}function fn(V,_){1&V&&(M.ynx(0),M._UZ(1,"app-header-bar")(2,"ion-router-outlet")(3,"app-bottom-bar"),M.BQk())}function Rn(V,_){1&V&&M._UZ(0,"ion-router-outlet")}function Nt(V,_){if(1&V&&(M.TgZ(0,"div"),M.YNc(1,fn,4,0,"ng-container",1),M.YNc(2,Rn,1,0,"ng-template",null,2,M.W1O),M.qZA()),2&V){const I=M.MAs(3),x=M.oxw();M.Q6J("@fadeInOut",void 0),M.xp6(1),M.Q6J("ngIf",!x.hideHeaderFooter)("ngIfElse",I)}}let vn=(()=>{class V{constructor(I,x){this.router=I,this.authService=x,this.showLandingPage=!0,this.hideHeaderFooter=!1,this.routesToHideHeaderFooter=["/login","/profile/service-selection-register","/profile/register","/profile/register-vet"],this.router.events.pipe((0,gn.h)(te=>te instanceof se.m2)).subscribe(te=>{te instanceof se.m2&&(this.hideHeaderFooter=this.routesToHideHeaderFooter.includes(te.url))})}ngOnInit(){var I=this;return(0,ye.Z)(function*(){const x=yield I.authService.getUserData();setTimeout((0,ye.Z)(function*(){I.showLandingPage=!1,I.router.navigate(x?1===x.userType?["/home"]:["/home-vet"]:["/login"])}),5e3)})()}static#e=this.\u0275fac=function(x){return new(x||V)(M.Y36(se.F0),M.Y36(It.e))};static#t=this.\u0275cmp=M.Xpm({type:V,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["notLoginOrLanding",""]],template:function(x,te){1&x&&(M.TgZ(0,"ion-app"),M.YNc(1,xt,2,1,"div",0),M.YNc(2,Nt,4,3,"div",0),M.qZA()),2&x&&(M.xp6(1),M.Q6J("ngIf",te.showLandingPage),M.xp6(1),M.Q6J("ngIf",!te.showLandingPage))},dependencies:[it.O5,Pt,Oe,Ee.dr,Ee.jP,Tt],styles:["app-header-bar[_ngcontent-%COMP%]{--ion-background-color: #ff9900;background-color:#f90}app-bottom-bar[_ngcontent-%COMP%]{--ion-background-color: #ff9900;background-color:#f90}app-landing-page[_ngcontent-%COMP%]{display:block}"],data:{animation:[Be("fadeInOut",[Te(":enter",[xe({opacity:0,transform:"translateY(0)"}),Je("500ms ease-in-out",xe({opacity:1,transform:"translateY(0)"}))]),Te(":leave",[Je("500ms ease-in-out",xe({opacity:0,transform:"translateY(-20px)"}))])])]}})}return V})();var Yn=A(8720),Ir=A(8339);function nn(V){return new M.vHH(3e3,!1)}function wt(V){switch(V.length){case 0:return new Lt;case 1:return V[0];default:return new Ge(V)}}function tn(V,_,I=new Map,x=new Map){const te=[],Se=[];let mt=-1,yt=null;if(_.forEach(Bt=>{const ln=Bt.get("offset"),Zn=ln==mt,ir=Zn&&yt||new Map;Bt.forEach((zr,Yr)=>{let wr=Yr,Gr=zr;if("offset"!==Yr)switch(wr=V.normalizePropertyName(wr,te),Gr){case"!":Gr=I.get(Yr);break;case Ve:Gr=x.get(Yr);break;default:Gr=V.normalizeStyleValue(Yr,wr,Gr,te)}ir.set(wr,Gr)}),Zn||Se.push(ir),yt=ir,mt=ln}),te.length)throw function ei(V){return new M.vHH(3502,!1)}();return Se}function kn(V,_,I,x){switch(_){case"start":V.onStart(()=>x(I&&xn(I,"start",V)));break;case"done":V.onDone(()=>x(I&&xn(I,"done",V)));break;case"destroy":V.onDestroy(()=>x(I&&xn(I,"destroy",V)))}}function xn(V,_,I){const Se=yr(V.element,V.triggerName,V.fromState,V.toState,_||V.phaseName,I.totalTime??V.totalTime,!!I.disabled),mt=V._data;return null!=mt&&(Se._data=mt),Se}function yr(V,_,I,x,te="",Se=0,mt){return{element:V,triggerName:_,fromState:I,toState:x,phaseName:te,totalTime:Se,disabled:!!mt}}function tt(V,_,I){let x=V.get(_);return x||V.set(_,x=I),x}function Qn(V){const _=V.indexOf(":");return[V.substring(1,_),V.slice(_+1)]}const dr=(()=>typeof document>"u"?null:document.documentElement)();function Ct(V){const _=V.parentNode||V.host||null;return _===dr?null:_}let ht=null,Qt=!1;function Ar(V,_){for(;_;){if(_===V)return!0;_=Ct(_)}return!1}function Nn(V,_,I){if(I)return Array.from(V.querySelectorAll(_));const x=V.querySelector(_);return x?[x]:[]}let ee=(()=>{class V{validateStyleProperty(I){return function En(V){ht||(ht=function On(){return typeof document<"u"?document.body:null}()||{},Qt=!!ht.style&&"WebkitAppearance"in ht.style);let _=!0;return ht.style&&!function ot(V){return"ebkit"==V.substring(1,6)}(V)&&(_=V in ht.style,!_&&Qt&&(_="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in ht.style)),_}(I)}matchesElement(I,x){return!1}containsElement(I,x){return Ar(I,x)}getParentElement(I){return Ct(I)}query(I,x,te){return Nn(I,x,te)}computeStyle(I,x,te){return te||""}animate(I,x,te,Se,mt,yt=[],Bt){return new Lt(te,Se)}static#e=this.\u0275fac=function(x){return new(x||V)};static#t=this.\u0275prov=M.Yz7({token:V,factory:V.\u0275fac})}return V})(),j=(()=>{class V{static#e=this.NOOP=new ee}return V})();const le=1e3,ft="ng-enter",$t="ng-leave",In="ng-trigger",Jn=".ng-trigger",hr="ng-animating",jr=".ng-animating";function ar(V){if("number"==typeof V)return V;const _=V.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:we(parseFloat(_[1]),_[2])}function we(V,_){return"s"===_?V*le:V}function nt(V,_,I){return V.hasOwnProperty("duration")?V:function $e(V,_,I){let te,Se=0,mt="";if("string"==typeof V){const yt=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===yt)return _.push(nn()),{duration:0,delay:0,easing:""};te=we(parseFloat(yt[1]),yt[2]);const Bt=yt[3];null!=Bt&&(Se=we(parseFloat(Bt),yt[4]));const ln=yt[5];ln&&(mt=ln)}else te=V;if(!I){let yt=!1,Bt=_.length;te<0&&(_.push(function xr(){return new M.vHH(3100,!1)}()),yt=!0),Se<0&&(_.push(function Wt(){return new M.vHH(3101,!1)}()),yt=!0),yt&&_.splice(Bt,0,nn())}return{duration:te,delay:Se,easing:mt}}(V,_,I)}function At(V,_={}){return Object.keys(V).forEach(I=>{_[I]=V[I]}),_}function Ot(V){const _=new Map;return Object.keys(V).forEach(I=>{_.set(I,V[I])}),_}function _n(V,_=new Map,I){if(I)for(let[x,te]of I)_.set(x,te);for(let[x,te]of V)_.set(x,te);return _}function An(V,_,I){_.forEach((x,te)=>{const Se=Li(te);I&&!I.has(te)&&I.set(te,V.style[Se]),V.style[Se]=x})}function Tn(V,_){_.forEach((I,x)=>{const te=Li(x);V.style[te]=""})}function Sn(V){return Array.isArray(V)?1==V.length?V[0]:lt(V):V}const Sr=new RegExp("{{\\s*(.+?)\\s*}}","g");function qr(V){let _=[];if("string"==typeof V){let I;for(;I=Sr.exec(V);)_.push(I[1]);Sr.lastIndex=0}return _}function Tr(V,_,I){const x=V.toString(),te=x.replace(Sr,(Se,mt)=>{let yt=_[mt];return null==yt&&(I.push(function We(V){return new M.vHH(3003,!1)}()),yt=""),yt.toString()});return te==x?V:te}function Ai(V){const _=[];let I=V.next();for(;!I.done;)_.push(I.value),I=V.next();return _}const mi=/-+([a-z0-9])/g;function Li(V){return V.replace(mi,(..._)=>_[1].toUpperCase())}function $r(V,_,I){switch(_.type){case 7:return V.visitTrigger(_,I);case 0:return V.visitState(_,I);case 1:return V.visitTransition(_,I);case 2:return V.visitSequence(_,I);case 3:return V.visitGroup(_,I);case 4:return V.visitAnimate(_,I);case 5:return V.visitKeyframes(_,I);case 6:return V.visitStyle(_,I);case 8:return V.visitReference(_,I);case 9:return V.visitAnimateChild(_,I);case 10:return V.visitAnimateRef(_,I);case 11:return V.visitQuery(_,I);case 12:return V.visitStagger(_,I);default:throw function Ut(V){return new M.vHH(3004,!1)}()}}function Hr(V,_){return window.getComputedStyle(V)[_]}const Or="*";function mo(V,_){const I=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(x=>function q(V,_,I){if(":"==V[0]){const Bt=function fr(V,_){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(I,x)=>parseFloat(x)>parseFloat(I);case":decrement":return(I,x)=>parseFloat(x)<parseFloat(I);default:return _.push(function Nr(V){return new M.vHH(3016,!1)}()),"* => *"}}(V,I);if("function"==typeof Bt)return void _.push(Bt);V=Bt}const x=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return I.push(function Dr(V){return new M.vHH(3015,!1)}()),_;const te=x[1],Se=x[2],mt=x[3];_.push(be(te,mt));"<"==Se[0]&&!(te==Or&&mt==Or)&&_.push(be(mt,te))}(x,I,_)):I.push(V),I}const Q=new Set(["true","1"]),N=new Set(["false","0"]);function be(V,_){const I=Q.has(V)||N.has(V),x=Q.has(_)||N.has(_);return(te,Se)=>{let mt=V==Or||V==te,yt=_==Or||_==Se;return!mt&&I&&"boolean"==typeof te&&(mt=te?Q.has(V):N.has(V)),!yt&&x&&"boolean"==typeof Se&&(yt=Se?Q.has(_):N.has(_)),mt&&yt}}const B=new RegExp("s*:selfs*,?","g");function re(V,_,I,x){return new rt(V).build(_,I,x)}class rt{constructor(_){this._driver=_}build(_,I,x){const te=new Kt(I);return this._resetContextStyleTimingState(te),$r(this,Sn(_),te)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,I){let x=I.queryCount=0,te=I.depCount=0;const Se=[],mt=[];return"@"==_.name.charAt(0)&&I.errors.push(function pr(){return new M.vHH(3006,!1)}()),_.definitions.forEach(yt=>{if(this._resetContextStyleTimingState(I),0==yt.type){const Bt=yt,ln=Bt.name;ln.toString().split(/\s*,\s*/).forEach(Zn=>{Bt.name=Zn,Se.push(this.visitState(Bt,I))}),Bt.name=ln}else if(1==yt.type){const Bt=this.visitTransition(yt,I);x+=Bt.queryCount,te+=Bt.depCount,mt.push(Bt)}else I.errors.push(function Hn(){return new M.vHH(3007,!1)}())}),{type:7,name:_.name,states:Se,transitions:mt,queryCount:x,depCount:te,options:null}}visitState(_,I){const x=this.visitStyle(_.styles,I),te=_.options&&_.options.params||null;if(x.containsDynamicStyles){const Se=new Set,mt=te||{};x.styles.forEach(yt=>{yt instanceof Map&&yt.forEach(Bt=>{qr(Bt).forEach(ln=>{mt.hasOwnProperty(ln)||Se.add(ln)})})}),Se.size&&(Ai(Se.values()),I.errors.push(function zn(V,_){return new M.vHH(3008,!1)}()))}return{type:0,name:_.name,style:x,options:te?{params:te}:null}}visitTransition(_,I){I.queryCount=0,I.depCount=0;const x=$r(this,Sn(_.animation),I);return{type:1,matchers:mo(_.expr,I.errors),animation:x,queryCount:I.queryCount,depCount:I.depCount,options:Ht(_.options)}}visitSequence(_,I){return{type:2,steps:_.steps.map(x=>$r(this,x,I)),options:Ht(_.options)}}visitGroup(_,I){const x=I.currentTime;let te=0;const Se=_.steps.map(mt=>{I.currentTime=x;const yt=$r(this,mt,I);return te=Math.max(te,I.currentTime),yt});return I.currentTime=te,{type:3,steps:Se,options:Ht(_.options)}}visitAnimate(_,I){const x=function an(V,_){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return Vn(nt(V,_).duration,0,"");const I=V;if(I.split(/\s+/).some(Se=>"{"==Se.charAt(0)&&"{"==Se.charAt(1))){const Se=Vn(0,0,"");return Se.dynamic=!0,Se.strValue=I,Se}const te=nt(I,_);return Vn(te.duration,te.delay,te.easing)}(_.timings,I.errors);I.currentAnimateTimings=x;let te,Se=_.styles?_.styles:xe({});if(5==Se.type)te=this.visitKeyframes(Se,I);else{let mt=_.styles,yt=!1;if(!mt){yt=!0;const ln={};x.easing&&(ln.easing=x.easing),mt=xe(ln)}I.currentTime+=x.duration+x.delay;const Bt=this.visitStyle(mt,I);Bt.isEmptyStep=yt,te=Bt}return I.currentAnimateTimings=null,{type:4,timings:x,style:te,options:null}}visitStyle(_,I){const x=this._makeStyleAst(_,I);return this._validateStyleAst(x,I),x}_makeStyleAst(_,I){const x=[],te=Array.isArray(_.styles)?_.styles:[_.styles];for(let yt of te)"string"==typeof yt?yt===Ve?x.push(yt):I.errors.push(new M.vHH(3002,!1)):x.push(Ot(yt));let Se=!1,mt=null;return x.forEach(yt=>{if(yt instanceof Map&&(yt.has("easing")&&(mt=yt.get("easing"),yt.delete("easing")),!Se))for(let Bt of yt.values())if(Bt.toString().indexOf("{{")>=0){Se=!0;break}}),{type:6,styles:x,easing:mt,offset:_.offset,containsDynamicStyles:Se,options:null}}_validateStyleAst(_,I){const x=I.currentAnimateTimings;let te=I.currentTime,Se=I.currentTime;x&&Se>0&&(Se-=x.duration+x.delay),_.styles.forEach(mt=>{"string"!=typeof mt&&mt.forEach((yt,Bt)=>{const ln=I.collectedStyles.get(I.currentQuerySelector),Zn=ln.get(Bt);let ir=!0;Zn&&(Se!=te&&Se>=Zn.startTime&&te<=Zn.endTime&&(I.errors.push(function Cr(V,_,I,x,te){return new M.vHH(3010,!1)}()),ir=!1),Se=Zn.startTime),ir&&ln.set(Bt,{startTime:Se,endTime:te}),I.options&&function or(V,_,I){const x=_.params||{},te=qr(V);te.length&&te.forEach(Se=>{x.hasOwnProperty(Se)||I.push(function Ke(V){return new M.vHH(3001,!1)}())})}(yt,I.options,I.errors)})})}visitKeyframes(_,I){const x={type:5,styles:[],options:null};if(!I.currentAnimateTimings)return I.errors.push(function Wn(){return new M.vHH(3011,!1)}()),x;let Se=0;const mt=[];let yt=!1,Bt=!1,ln=0;const Zn=_.steps.map(qi=>{const Pi=this._makeStyleAst(qi,I);let So=null!=Pi.offset?Pi.offset:function rn(V){if("string"==typeof V)return null;let _=null;if(Array.isArray(V))V.forEach(I=>{if(I instanceof Map&&I.has("offset")){const x=I;_=parseFloat(x.get("offset")),x.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const I=V;_=parseFloat(I.get("offset")),I.delete("offset")}return _}(Pi.styles),yi=0;return null!=So&&(Se++,yi=Pi.offset=So),Bt=Bt||yi<0||yi>1,yt=yt||yi<ln,ln=yi,mt.push(yi),Pi});Bt&&I.errors.push(function mr(){return new M.vHH(3012,!1)}()),yt&&I.errors.push(function ni(){return new M.vHH(3200,!1)}());const ir=_.steps.length;let zr=0;Se>0&&Se<ir?I.errors.push(function Ci(){return new M.vHH(3202,!1)}()):0==Se&&(zr=1/(ir-1));const Yr=ir-1,wr=I.currentTime,Gr=I.currentAnimateTimings,ki=Gr.duration;return Zn.forEach((qi,Pi)=>{const So=zr>0?Pi==Yr?1:zr*Pi:mt[Pi],yi=So*ki;I.currentTime=wr+Gr.delay+yi,Gr.duration=yi,this._validateStyleAst(qi,I),qi.offset=So,x.styles.push(qi)}),x}visitReference(_,I){return{type:8,animation:$r(this,Sn(_.animation),I),options:Ht(_.options)}}visitAnimateChild(_,I){return I.depCount++,{type:9,options:Ht(_.options)}}visitAnimateRef(_,I){return{type:10,animation:this.visitReference(_.animation,I),options:Ht(_.options)}}visitQuery(_,I){const x=I.currentQuerySelector,te=_.options||{};I.queryCount++,I.currentQuery=_;const[Se,mt]=function bt(V){const _=!!V.split(/\s*,\s*/).find(I=>":self"==I);return _&&(V=V.replace(B,"")),V=V.replace(/@\*/g,Jn).replace(/@\w+/g,I=>Jn+"-"+I.slice(1)).replace(/:animating/g,jr),[V,_]}(_.selector);I.currentQuerySelector=x.length?x+" "+Se:Se,tt(I.collectedStyles,I.currentQuerySelector,new Map);const yt=$r(this,Sn(_.animation),I);return I.currentQuery=null,I.currentQuerySelector=x,{type:11,selector:Se,limit:te.limit||0,optional:!!te.optional,includeSelf:mt,animation:yt,originalSelector:_.selector,options:Ht(_.options)}}visitStagger(_,I){I.currentQuery||I.errors.push(function sn(){return new M.vHH(3013,!1)}());const x="full"===_.timings?{duration:0,delay:0,easing:"full"}:nt(_.timings,I.errors,!0);return{type:12,animation:$r(this,Sn(_.animation),I),timings:x,options:null}}}class Kt{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ht(V){return V?(V=At(V)).params&&(V.params=function St(V){return V?At(V):null}(V.params)):V={},V}function Vn(V,_,I){return{duration:V,delay:_,easing:I}}function $n(V,_,I,x,te,Se,mt=null,yt=!1){return{type:1,element:V,keyframes:_,preStyleProps:I,postStyleProps:x,duration:te,delay:Se,totalTime:te+Se,easing:mt,subTimeline:yt}}class rr{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,I){let x=this._map.get(_);x||this._map.set(_,x=[]),x.push(...I)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const xi=new RegExp(":enter","g"),Qi=new RegExp(":leave","g");function Si(V,_,I,x,te,Se=new Map,mt=new Map,yt,Bt,ln=[]){return(new Ui).buildKeyframes(V,_,I,x,te,Se,mt,yt,Bt,ln)}class Ui{buildKeyframes(_,I,x,te,Se,mt,yt,Bt,ln,Zn=[]){ln=ln||new rr;const ir=new Mo(_,I,ln,te,Se,Zn,[]);ir.options=Bt;const zr=Bt.delay?ar(Bt.delay):0;ir.currentTimeline.delayNextStep(zr),ir.currentTimeline.setStyles([mt],null,ir.errors,Bt),$r(this,x,ir);const Yr=ir.timelines.filter(wr=>wr.containsAnimation());if(Yr.length&&yt.size){let wr;for(let Gr=Yr.length-1;Gr>=0;Gr--){const ki=Yr[Gr];if(ki.element===I){wr=ki;break}}wr&&!wr.allowOnlyTimelineStyles()&&wr.setStyles([yt],null,ir.errors,Bt)}return Yr.length?Yr.map(wr=>wr.buildKeyframes()):[$n(I,[],[],[],0,zr,"",!1)]}visitTrigger(_,I){}visitState(_,I){}visitTransition(_,I){}visitAnimateChild(_,I){const x=I.subInstructions.get(I.element);if(x){const te=I.createSubContext(_.options),Se=I.currentTimeline.currentTime,mt=this._visitSubInstructions(x,te,te.options);Se!=mt&&I.transformIntoNewTimeline(mt)}I.previousNode=_}visitAnimateRef(_,I){const x=I.createSubContext(_.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],I,x),this.visitReference(_.animation,x),I.transformIntoNewTimeline(x.currentTimeline.currentTime),I.previousNode=_}_applyAnimationRefDelays(_,I,x){for(const te of _){const Se=te?.delay;if(Se){const mt="number"==typeof Se?Se:ar(Tr(Se,te?.params??{},I.errors));x.delayNextStep(mt)}}}_visitSubInstructions(_,I,x){let Se=I.currentTimeline.currentTime;const mt=null!=x.duration?ar(x.duration):null,yt=null!=x.delay?ar(x.delay):null;return 0!==mt&&_.forEach(Bt=>{const ln=I.appendInstructionToTimeline(Bt,mt,yt);Se=Math.max(Se,ln.duration+ln.delay)}),Se}visitReference(_,I){I.updateOptions(_.options,!0),$r(this,_.animation,I),I.previousNode=_}visitSequence(_,I){const x=I.subContextCount;let te=I;const Se=_.options;if(Se&&(Se.params||Se.delay)&&(te=I.createSubContext(Se),te.transformIntoNewTimeline(),null!=Se.delay)){6==te.previousNode.type&&(te.currentTimeline.snapshotCurrentStyles(),te.previousNode=Ni);const mt=ar(Se.delay);te.delayNextStep(mt)}_.steps.length&&(_.steps.forEach(mt=>$r(this,mt,te)),te.currentTimeline.applyStylesToKeyframe(),te.subContextCount>x&&te.transformIntoNewTimeline()),I.previousNode=_}visitGroup(_,I){const x=[];let te=I.currentTimeline.currentTime;const Se=_.options&&_.options.delay?ar(_.options.delay):0;_.steps.forEach(mt=>{const yt=I.createSubContext(_.options);Se&&yt.delayNextStep(Se),$r(this,mt,yt),te=Math.max(te,yt.currentTimeline.currentTime),x.push(yt.currentTimeline)}),x.forEach(mt=>I.currentTimeline.mergeTimelineCollectedStyles(mt)),I.transformIntoNewTimeline(te),I.previousNode=_}_visitTiming(_,I){if(_.dynamic){const x=_.strValue;return nt(I.params?Tr(x,I.params,I.errors):x,I.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,I){const x=I.currentAnimateTimings=this._visitTiming(_.timings,I),te=I.currentTimeline;x.delay&&(I.incrementTime(x.delay),te.snapshotCurrentStyles());const Se=_.style;5==Se.type?this.visitKeyframes(Se,I):(I.incrementTime(x.duration),this.visitStyle(Se,I),te.applyStylesToKeyframe()),I.currentAnimateTimings=null,I.previousNode=_}visitStyle(_,I){const x=I.currentTimeline,te=I.currentAnimateTimings;!te&&x.hasCurrentStyleProperties()&&x.forwardFrame();const Se=te&&te.easing||_.easing;_.isEmptyStep?x.applyEmptyStep(Se):x.setStyles(_.styles,Se,I.errors,I.options),I.previousNode=_}visitKeyframes(_,I){const x=I.currentAnimateTimings,te=I.currentTimeline.duration,Se=x.duration,yt=I.createSubContext().currentTimeline;yt.easing=x.easing,_.styles.forEach(Bt=>{yt.forwardTime((Bt.offset||0)*Se),yt.setStyles(Bt.styles,Bt.easing,I.errors,I.options),yt.applyStylesToKeyframe()}),I.currentTimeline.mergeTimelineCollectedStyles(yt),I.transformIntoNewTimeline(te+Se),I.previousNode=_}visitQuery(_,I){const x=I.currentTimeline.currentTime,te=_.options||{},Se=te.delay?ar(te.delay):0;Se&&(6===I.previousNode.type||0==x&&I.currentTimeline.hasCurrentStyleProperties())&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Ni);let mt=x;const yt=I.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!te.optional,I.errors);I.currentQueryTotal=yt.length;let Bt=null;yt.forEach((ln,Zn)=>{I.currentQueryIndex=Zn;const ir=I.createSubContext(_.options,ln);Se&&ir.delayNextStep(Se),ln===I.element&&(Bt=ir.currentTimeline),$r(this,_.animation,ir),ir.currentTimeline.applyStylesToKeyframe(),mt=Math.max(mt,ir.currentTimeline.currentTime)}),I.currentQueryIndex=0,I.currentQueryTotal=0,I.transformIntoNewTimeline(mt),Bt&&(I.currentTimeline.mergeTimelineCollectedStyles(Bt),I.currentTimeline.snapshotCurrentStyles()),I.previousNode=_}visitStagger(_,I){const x=I.parentContext,te=I.currentTimeline,Se=_.timings,mt=Math.abs(Se.duration),yt=mt*(I.currentQueryTotal-1);let Bt=mt*I.currentQueryIndex;switch(Se.duration<0?"reverse":Se.easing){case"reverse":Bt=yt-Bt;break;case"full":Bt=x.currentStaggerTime}const Zn=I.currentTimeline;Bt&&Zn.delayNextStep(Bt);const ir=Zn.currentTime;$r(this,_.animation,I),I.previousNode=_,x.currentStaggerTime=te.currentTime-ir+(te.startTime-x.currentTimeline.startTime)}}const Ni={};class Mo{constructor(_,I,x,te,Se,mt,yt,Bt){this._driver=_,this.element=I,this.subInstructions=x,this._enterClassName=te,this._leaveClassName=Se,this.errors=mt,this.timelines=yt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ni,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Bt||new yo(this._driver,I,0),yt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,I){if(!_)return;const x=_;let te=this.options;null!=x.duration&&(te.duration=ar(x.duration)),null!=x.delay&&(te.delay=ar(x.delay));const Se=x.params;if(Se){let mt=te.params;mt||(mt=this.options.params={}),Object.keys(Se).forEach(yt=>{(!I||!mt.hasOwnProperty(yt))&&(mt[yt]=Tr(Se[yt],mt,this.errors))})}}_copyOptions(){const _={};if(this.options){const I=this.options.params;if(I){const x=_.params={};Object.keys(I).forEach(te=>{x[te]=I[te]})}}return _}createSubContext(_=null,I,x){const te=I||this.element,Se=new Mo(this._driver,te,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(te,x||0));return Se.previousNode=this.previousNode,Se.currentAnimateTimings=this.currentAnimateTimings,Se.options=this._copyOptions(),Se.updateOptions(_),Se.currentQueryIndex=this.currentQueryIndex,Se.currentQueryTotal=this.currentQueryTotal,Se.parentContext=this,this.subContextCount++,Se}transformIntoNewTimeline(_){return this.previousNode=Ni,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,I,x){const te={duration:I??_.duration,delay:this.currentTimeline.currentTime+(x??0)+_.delay,easing:""},Se=new Zr(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,te,_.stretchStartingKeyframe);return this.timelines.push(Se),te}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,I,x,te,Se,mt){let yt=[];if(te&&yt.push(this.element),_.length>0){_=(_=_.replace(xi,"."+this._enterClassName)).replace(Qi,"."+this._leaveClassName);let ln=this._driver.query(this.element,_,1!=x);0!==x&&(ln=x<0?ln.slice(ln.length+x,ln.length):ln.slice(0,x)),yt.push(...ln)}return!Se&&0==yt.length&&mt.push(function di(V){return new M.vHH(3014,!1)}()),yt}}class yo{constructor(_,I,x,te){this._driver=_,this.element=I,this.startTime=x,this._elementTimelineStylesLookup=te,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(I),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(I,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const I=1===this._keyframes.size&&this._pendingStyles.size;this.duration||I?(this.forwardTime(this.currentTime+_),I&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,I){return this.applyStylesToKeyframe(),new yo(this._driver,_,I||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,I){this._localTimelineStyles.set(_,I),this._globalTimelineStyles.set(_,I),this._styleSummary.set(_,{time:this.currentTime,value:I})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[I,x]of this._globalTimelineStyles)this._backFill.set(I,x||Ve),this._currentKeyframe.set(I,Ve);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,I,x,te){I&&this._previousKeyframe.set("easing",I);const Se=te&&te.params||{},mt=function ss(V,_){const I=new Map;let x;return V.forEach(te=>{if("*"===te){x=x||_.keys();for(let Se of x)I.set(Se,Ve)}else _n(te,I)}),I}(_,this._globalTimelineStyles);for(let[yt,Bt]of mt){const ln=Tr(Bt,Se,x);this._pendingStyles.set(yt,ln),this._localTimelineStyles.has(yt)||this._backFill.set(yt,this._globalTimelineStyles.get(yt)??Ve),this._updateStyle(yt,ln)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,I)=>{this._currentKeyframe.set(I,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,I)=>{this._currentKeyframe.has(I)||this._currentKeyframe.set(I,_)}))}snapshotCurrentStyles(){for(let[_,I]of this._localTimelineStyles)this._pendingStyles.set(_,I),this._updateStyle(_,I)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let I in this._currentKeyframe)_.push(I);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((I,x)=>{const te=this._styleSummary.get(x);(!te||I.time>te.time)&&this._updateStyle(x,I.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,I=new Set,x=1===this._keyframes.size&&0===this.duration;let te=[];this._keyframes.forEach((yt,Bt)=>{const ln=_n(yt,new Map,this._backFill);ln.forEach((Zn,ir)=>{"!"===Zn?_.add(ir):Zn===Ve&&I.add(ir)}),x||ln.set("offset",Bt/this.duration),te.push(ln)});const Se=_.size?Ai(_.values()):[],mt=I.size?Ai(I.values()):[];if(x){const yt=te[0],Bt=new Map(yt);yt.set("offset",0),Bt.set("offset",1),te=[yt,Bt]}return $n(this.element,te,Se,mt,this.duration,this.startTime,this.easing,!1)}}class Zr extends yo{constructor(_,I,x,te,Se,mt,yt=!1){super(_,I,mt.delay),this.keyframes=x,this.preStyleProps=te,this.postStyleProps=Se,this._stretchStartingKeyframe=yt,this.timings={duration:mt.duration,delay:mt.delay,easing:mt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:I,duration:x,easing:te}=this.timings;if(this._stretchStartingKeyframe&&I){const Se=[],mt=x+I,yt=I/mt,Bt=_n(_[0]);Bt.set("offset",0),Se.push(Bt);const ln=_n(_[0]);ln.set("offset",fs(yt)),Se.push(ln);const Zn=_.length-1;for(let ir=1;ir<=Zn;ir++){let zr=_n(_[ir]);const Yr=zr.get("offset");zr.set("offset",fs((I+Yr*x)/mt)),Se.push(zr)}x=mt,I=0,te="",_=Se}return $n(this.element,_,this.preStyleProps,this.postStyleProps,x,I,te,!0)}}function fs(V,_=3){const I=Math.pow(10,_-1);return Math.round(V*I)/I}class Ao{}const Go=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yi extends Ao{normalizePropertyName(_,I){return Li(_)}normalizeStyleValue(_,I,x,te){let Se="";const mt=x.toString().trim();if(Go.has(I)&&0!==x&&"0"!==x)if("number"==typeof x)Se="px";else{const yt=x.match(/^[+-]?[\d\.]+([a-z]*)$/);yt&&0==yt[1].length&&te.push(function Ln(V,_){return new M.vHH(3005,!1)}())}return mt+Se}}function Ji(V,_,I,x,te,Se,mt,yt,Bt,ln,Zn,ir,zr){return{type:0,element:V,triggerName:_,isRemovalTransition:te,fromState:I,fromStyles:Se,toState:x,toStyles:mt,timelines:yt,queriedElements:Bt,preStyleProps:ln,postStyleProps:Zn,totalTime:ir,errors:zr}}const li={};class Di{constructor(_,I,x){this._triggerName=_,this.ast=I,this._stateStyles=x}match(_,I,x,te){return function Fs(V,_,I,x,te){return V.some(Se=>Se(_,I,x,te))}(this.ast.matchers,_,I,x,te)}buildStyles(_,I,x){let te=this._stateStyles.get("*");return void 0!==_&&(te=this._stateStyles.get(_?.toString())||te),te?te.buildStyles(I,x):new Map}build(_,I,x,te,Se,mt,yt,Bt,ln,Zn){const ir=[],zr=this.ast.options&&this.ast.options.params||li,wr=this.buildStyles(x,yt&&yt.params||li,ir),Gr=Bt&&Bt.params||li,ki=this.buildStyles(te,Gr,ir),qi=new Set,Pi=new Map,So=new Map,yi="void"===te,ci={params:ao(Gr,zr),delay:this.ast.options?.delay},Os=Zn?[]:Si(_,I,this.ast.animation,Se,mt,wr,ki,ci,ln,ir);let Er=0;if(Os.forEach(ms=>{Er=Math.max(ms.duration+ms.delay,Er)}),ir.length)return Ji(I,this._triggerName,x,te,yi,wr,ki,[],[],Pi,So,Er,ir);Os.forEach(ms=>{const ys=ms.element,Fa=tt(Pi,ys,new Set);ms.preStyleProps.forEach(Ko=>Fa.add(Ko));const La=tt(So,ys,new Set);ms.postStyleProps.forEach(Ko=>La.add(Ko)),ys!==I&&qi.add(ys)});const Yo=Ai(qi.values());return Ji(I,this._triggerName,x,te,yi,wr,ki,Os,Yo,Pi,So,Er)}}function ao(V,_){const I=At(_);for(const x in V)V.hasOwnProperty(x)&&null!=V[x]&&(I[x]=V[x]);return I}class ps{constructor(_,I,x){this.styles=_,this.defaultParams=I,this.normalizer=x}buildStyles(_,I){const x=new Map,te=At(this.defaultParams);return Object.keys(_).forEach(Se=>{const mt=_[Se];null!==mt&&(te[Se]=mt)}),this.styles.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((mt,yt)=>{mt&&(mt=Tr(mt,te,I));const Bt=this.normalizer.normalizePropertyName(yt,I);mt=this.normalizer.normalizeStyleValue(yt,Bt,mt,I),x.set(yt,mt)})}),x}}class Wr{constructor(_,I,x){this.name=_,this.ast=I,this._normalizer=x,this.transitionFactories=[],this.states=new Map,I.states.forEach(te=>{this.states.set(te.name,new ps(te.style,te.options&&te.options.params||{},x))}),wo(this.states,"true","1"),wo(this.states,"false","0"),I.transitions.forEach(te=>{this.transitionFactories.push(new Di(_,te,this.states))}),this.fallbackTransition=function fi(V,_,I){return new Di(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(mt,yt)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,I,x,te){return this.transitionFactories.find(mt=>mt.match(_,I,x,te))||null}matchStyles(_,I,x){return this.fallbackTransition.buildStyles(_,I,x)}}function wo(V,_,I){V.has(_)?V.has(I)||V.set(I,V.get(_)):V.has(I)&&V.set(_,V.get(I))}const xa=new rr;class ia{constructor(_,I,x){this.bodyNode=_,this._driver=I,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,I){const x=[],Se=re(this._driver,I,x,[]);if(x.length)throw function ur(V){return new M.vHH(3503,!1)}();this._animations.set(_,Se)}_buildPlayer(_,I,x){const te=_.element,Se=tn(this._normalizer,_.keyframes,I,x);return this._driver.animate(te,Se,_.duration,_.delay,_.easing,[],!0)}create(_,I,x={}){const te=[],Se=this._animations.get(_);let mt;const yt=new Map;if(Se?(mt=Si(this._driver,I,Se,ft,$t,new Map,new Map,x,xa,te),mt.forEach(Zn=>{const ir=tt(yt,Zn.element,new Map);Zn.postStyleProps.forEach(zr=>ir.set(zr,null))})):(te.push(function Dn(){return new M.vHH(3300,!1)}()),mt=[]),te.length)throw function ai(V){return new M.vHH(3504,!1)}();yt.forEach((Zn,ir)=>{Zn.forEach((zr,Yr)=>{Zn.set(Yr,this._driver.computeStyle(ir,Yr,Ve))})});const ln=wt(mt.map(Zn=>{const ir=yt.get(Zn.element);return this._buildPlayer(Zn,new Map,ir)}));return this._playersById.set(_,ln),ln.onDestroy(()=>this.destroy(_)),this.players.push(ln),ln}destroy(_){const I=this._getPlayer(_);I.destroy(),this._playersById.delete(_);const x=this.players.indexOf(I);x>=0&&this.players.splice(x,1)}_getPlayer(_){const I=this._playersById.get(_);if(!I)throw function Ti(V){return new M.vHH(3301,!1)}();return I}listen(_,I,x,te){const Se=yr(I,"","","");return kn(this._getPlayer(_),x,Se,te),()=>{}}command(_,I,x,te){if("register"==x)return void this.register(_,te[0]);if("create"==x)return void this.create(_,I,te[0]||{});const Se=this._getPlayer(_);switch(x){case"play":Se.play();break;case"pause":Se.pause();break;case"reset":Se.reset();break;case"restart":Se.restart();break;case"finish":Se.finish();break;case"init":Se.init();break;case"setPosition":Se.setPosition(parseFloat(te[0]));break;case"destroy":this.destroy(_)}}}const Ds="ng-animate-queued",pa="ng-animate-disabled",Na=[],K={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},O="__ng_removed";class Ie{get params(){return this.options.params}constructor(_,I=""){this.namespaceId=I;const x=_&&_.hasOwnProperty("value");if(this.value=function ls(V){return V??null}(x?_.value:_),x){const Se=At(_);delete Se.value,this.options=Se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const I=_.params;if(I){const x=this.options.params;Object.keys(I).forEach(te=>{null==x[te]&&(x[te]=I[te])})}}}const pt="void",Xn=new Ie(pt);class Fr{constructor(_,I,x){this.id=_,this.hostElement=I,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Gi(I,this._hostClassName)}listen(_,I,x,te){if(!this._triggers.has(I))throw function Kr(V,_){return new M.vHH(3302,!1)}();if(null==x||0==x.length)throw function Fi(V){return new M.vHH(3303,!1)}();if(!function xo(V){return"start"==V||"done"==V}(x))throw function hi(V,_){return new M.vHH(3400,!1)}();const Se=tt(this._elementListeners,_,[]),mt={name:I,phase:x,callback:te};Se.push(mt);const yt=tt(this._engine.statesByElement,_,new Map);return yt.has(I)||(Gi(_,In),Gi(_,In+"-"+I),yt.set(I,Xn)),()=>{this._engine.afterFlush(()=>{const Bt=Se.indexOf(mt);Bt>=0&&Se.splice(Bt,1),this._triggers.has(I)||yt.delete(I)})}}register(_,I){return!this._triggers.has(_)&&(this._triggers.set(_,I),!0)}_getTrigger(_){const I=this._triggers.get(_);if(!I)throw function ct(V){return new M.vHH(3401,!1)}();return I}trigger(_,I,x,te=!0){const Se=this._getTrigger(I),mt=new Io(this.id,I,_);let yt=this._engine.statesByElement.get(_);yt||(Gi(_,In),Gi(_,In+"-"+I),this._engine.statesByElement.set(_,yt=new Map));let Bt=yt.get(I);const ln=new Ie(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Bt&&ln.absorbOptions(Bt.options),yt.set(I,ln),Bt||(Bt=Xn),ln.value!==pt&&Bt.value===ln.value){if(!function As(V,_){const I=Object.keys(V),x=Object.keys(_);if(I.length!=x.length)return!1;for(let te=0;te<I.length;te++){const Se=I[te];if(!_.hasOwnProperty(Se)||V[Se]!==_[Se])return!1}return!0}(Bt.params,ln.params)){const Gr=[],ki=Se.matchStyles(Bt.value,Bt.params,Gr),qi=Se.matchStyles(ln.value,ln.params,Gr);Gr.length?this._engine.reportError(Gr):this._engine.afterFlush(()=>{Tn(_,ki),An(_,qi)})}return}const zr=tt(this._engine.playersByElement,_,[]);zr.forEach(Gr=>{Gr.namespaceId==this.id&&Gr.triggerName==I&&Gr.queued&&Gr.destroy()});let Yr=Se.matchTransition(Bt.value,ln.value,_,ln.params),wr=!1;if(!Yr){if(!te)return;Yr=Se.fallbackTransition,wr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:I,transition:Yr,fromState:Bt,toState:ln,player:mt,isFallbackTransition:wr}),wr||(Gi(_,Ds),mt.onStart(()=>{lo(_,Ds)})),mt.onDone(()=>{let Gr=this.players.indexOf(mt);Gr>=0&&this.players.splice(Gr,1);const ki=this._engine.playersByElement.get(_);if(ki){let qi=ki.indexOf(mt);qi>=0&&ki.splice(qi,1)}}),this.players.push(mt),zr.push(mt),mt}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(I=>I.delete(_)),this._elementListeners.forEach((I,x)=>{this._elementListeners.set(x,I.filter(te=>te.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const I=this._engine.playersByElement.get(_);I&&(I.forEach(x=>x.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,I){const x=this._engine.driver.query(_,Jn,!0);x.forEach(te=>{if(te[O])return;const Se=this._engine.fetchNamespacesByElement(te);Se.size?Se.forEach(mt=>mt.triggerLeaveAnimation(te,I,!1,!0)):this.clearElementCache(te)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(te=>this.clearElementCache(te)))}triggerLeaveAnimation(_,I,x,te){const Se=this._engine.statesByElement.get(_),mt=new Map;if(Se){const yt=[];if(Se.forEach((Bt,ln)=>{if(mt.set(ln,Bt.value),this._triggers.has(ln)){const Zn=this.trigger(_,ln,pt,te);Zn&&yt.push(Zn)}}),yt.length)return this._engine.markElementAsRemoved(this.id,_,!0,I,mt),x&&wt(yt).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const I=this._elementListeners.get(_),x=this._engine.statesByElement.get(_);if(I&&x){const te=new Set;I.forEach(Se=>{const mt=Se.name;if(te.has(mt))return;te.add(mt);const Bt=this._triggers.get(mt).fallbackTransition,ln=x.get(mt)||Xn,Zn=new Ie(pt),ir=new Io(this.id,mt,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:mt,transition:Bt,fromState:ln,toState:Zn,player:ir,isFallbackTransition:!0})})}}removeNode(_,I){const x=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,I),this.triggerLeaveAnimation(_,I,!0))return;let te=!1;if(x.totalAnimations){const Se=x.players.length?x.playersByQueriedElement.get(_):[];if(Se&&Se.length)te=!0;else{let mt=_;for(;mt=mt.parentNode;)if(x.statesByElement.get(mt)){te=!0;break}}}if(this.prepareLeaveAnimationListeners(_),te)x.markElementAsRemoved(this.id,_,!1,I);else{const Se=_[O];(!Se||Se===K)&&(x.afterFlush(()=>this.clearElementCache(_)),x.destroyInnerAnimations(_),x._onRemovalComplete(_,I))}}insertNode(_,I){Gi(_,this._hostClassName)}drainQueuedTransitions(_){const I=[];return this._queue.forEach(x=>{const te=x.player;if(te.destroyed)return;const Se=x.element,mt=this._elementListeners.get(Se);mt&&mt.forEach(yt=>{if(yt.name==x.triggerName){const Bt=yr(Se,x.triggerName,x.fromState.value,x.toState.value);Bt._data=_,kn(x.player,yt.phase,Bt,yt.callback)}}),te.markedForDestroy?this._engine.afterFlush(()=>{te.destroy()}):I.push(x)}),this._queue=[],I.sort((x,te)=>{const Se=x.transition.ast.depCount,mt=te.transition.ast.depCount;return 0==Se||0==mt?Se-mt:this._engine.driver.containsElement(x.element,te.element)?1:-1})}destroy(_){this.players.forEach(I=>I.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class vo{_onRemovalComplete(_,I){this.onRemovalComplete(_,I)}constructor(_,I,x){this.bodyNode=_,this.driver=I,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(te,Se)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(I=>{I.players.forEach(x=>{x.queued&&_.push(x)})}),_}createNamespace(_,I){const x=new Fr(_,I,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,I)?this._balanceNamespaceList(x,I):(this.newHostElements.set(I,x),this.collectEnterElement(I)),this._namespaceLookup[_]=x}_balanceNamespaceList(_,I){const x=this._namespaceList,te=this.namespacesByHostElement;if(x.length-1>=0){let mt=!1,yt=this.driver.getParentElement(I);for(;yt;){const Bt=te.get(yt);if(Bt){const ln=x.indexOf(Bt);x.splice(ln+1,0,_),mt=!0;break}yt=this.driver.getParentElement(yt)}mt||x.unshift(_)}else x.push(_);return te.set(I,_),_}register(_,I){let x=this._namespaceLookup[_];return x||(x=this.createNamespace(_,I)),x}registerTrigger(_,I,x){let te=this._namespaceLookup[_];te&&te.register(I,x)&&this.totalAnimations++}destroy(_,I){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(_);this.namespacesByHostElement.delete(x.hostElement);const te=this._namespaceList.indexOf(x);te>=0&&this._namespaceList.splice(te,1),x.destroy(I),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const I=new Set,x=this.statesByElement.get(_);if(x)for(let te of x.values())if(te.namespaceId){const Se=this._fetchNamespace(te.namespaceId);Se&&I.add(Se)}return I}trigger(_,I,x,te){if(no(I)){const Se=this._fetchNamespace(_);if(Se)return Se.trigger(I,x,te),!0}return!1}insertNode(_,I,x,te){if(!no(I))return;const Se=I[O];if(Se&&Se.setForRemoval){Se.setForRemoval=!1,Se.setForMove=!0;const mt=this.collectedLeaveElements.indexOf(I);mt>=0&&this.collectedLeaveElements.splice(mt,1)}if(_){const mt=this._fetchNamespace(_);mt&&mt.insertNode(I,x)}te&&this.collectEnterElement(I)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,I){I?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Gi(_,pa)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),lo(_,pa))}removeNode(_,I,x){if(no(I)){const te=_?this._fetchNamespace(_):null;te?te.removeNode(I,x):this.markElementAsRemoved(_,I,!1,x);const Se=this.namespacesByHostElement.get(I);Se&&Se.id!==_&&Se.removeNode(I,x)}else this._onRemovalComplete(I,x)}markElementAsRemoved(_,I,x,te,Se){this.collectedLeaveElements.push(I),I[O]={namespaceId:_,setForRemoval:te,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:Se}}listen(_,I,x,te,Se){return no(I)?this._fetchNamespace(_).listen(I,x,te,Se):()=>{}}_buildInstruction(_,I,x,te,Se){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,x,te,_.fromState.options,_.toState.options,I,Se)}destroyInnerAnimations(_){let I=this.driver.query(_,Jn,!0);I.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(I=this.driver.query(_,jr,!0),I.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(_){const I=this.playersByElement.get(_);I&&I.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(_){const I=this.playersByQueriedElement.get(_);I&&I.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return wt(this.players).onDone(()=>_());_()})}processLeaveNode(_){const I=_[O];if(I&&I.setForRemoval){if(_[O]=K,I.namespaceId){this.destroyInnerAnimations(_);const x=this._fetchNamespace(I.namespaceId);x&&x.clearElementCache(_)}this._onRemovalComplete(_,I.setForRemoval)}_.classList?.contains(pa)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(_=-1){let I=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,te)=>this._balanceNamespaceList(x,te)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Gi(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{I=this._flushAnimations(x,_)}finally{for(let te=0;te<x.length;te++)x[te]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],I.length?wt(I).onDone(()=>{x.forEach(te=>te())}):x.forEach(te=>te())}}reportError(_){throw function fe(V){return new M.vHH(3402,!1)}()}_flushAnimations(_,I){const x=new rr,te=[],Se=new Map,mt=[],yt=new Map,Bt=new Map,ln=new Map,Zn=new Set;this.disabledNodes.forEach(gr=>{Zn.add(gr);const Rr=this.driver.query(gr,".ng-animate-queued",!0);for(let Ur=0;Ur<Rr.length;Ur++)Zn.add(Rr[Ur])});const ir=this.bodyNode,zr=Array.from(this.statesByElement.keys()),Yr=zi(zr,this.collectedEnterElements),wr=new Map;let Gr=0;Yr.forEach((gr,Rr)=>{const Ur=ft+Gr++;wr.set(Rr,Ur),gr.forEach(vi=>Gi(vi,Ur))});const ki=[],qi=new Set,Pi=new Set;for(let gr=0;gr<this.collectedLeaveElements.length;gr++){const Rr=this.collectedLeaveElements[gr],Ur=Rr[O];Ur&&Ur.setForRemoval&&(ki.push(Rr),qi.add(Rr),Ur.hasAnimation?this.driver.query(Rr,".ng-star-inserted",!0).forEach(vi=>qi.add(vi)):Pi.add(Rr))}const So=new Map,yi=zi(zr,Array.from(qi));yi.forEach((gr,Rr)=>{const Ur=$t+Gr++;So.set(Rr,Ur),gr.forEach(vi=>Gi(vi,Ur))}),_.push(()=>{Yr.forEach((gr,Rr)=>{const Ur=wr.get(Rr);gr.forEach(vi=>lo(vi,Ur))}),yi.forEach((gr,Rr)=>{const Ur=So.get(Rr);gr.forEach(vi=>lo(vi,Ur))}),ki.forEach(gr=>{this.processLeaveNode(gr)})});const ci=[],Os=[];for(let gr=this._namespaceList.length-1;gr>=0;gr--)this._namespaceList[gr].drainQueuedTransitions(I).forEach(Ur=>{const vi=Ur.player,dn=Ur.element;if(ci.push(vi),this.collectedEnterElements.length){const Zi=dn[O];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(Ur.triggerName)){const ns=Zi.previousTriggersValues.get(Ur.triggerName),_o=this.statesByElement.get(Ur.element);if(_o&&_o.has(Ur.triggerName)){const ca=_o.get(Ur.triggerName);ca.value=ns,_o.set(Ur.triggerName,ca)}}return void vi.destroy()}}const Br=!ir||!this.driver.containsElement(ir,dn),jo=So.get(dn),xs=wr.get(dn),Xr=this._buildInstruction(Ur,x,xs,jo,Br);if(Xr.errors&&Xr.errors.length)return void Os.push(Xr);if(Br)return vi.onStart(()=>Tn(dn,Xr.fromStyles)),vi.onDestroy(()=>An(dn,Xr.toStyles)),void te.push(vi);if(Ur.isFallbackTransition)return vi.onStart(()=>Tn(dn,Xr.fromStyles)),vi.onDestroy(()=>An(dn,Xr.toStyles)),void te.push(vi);const wl=[];Xr.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||wl.push(Zi)}),Xr.timelines=wl,x.append(dn,Xr.timelines),mt.push({instruction:Xr,player:vi,element:dn}),Xr.queriedElements.forEach(Zi=>tt(yt,Zi,[]).push(vi)),Xr.preStyleProps.forEach((Zi,ns)=>{if(Zi.size){let _o=Bt.get(ns);_o||Bt.set(ns,_o=new Set),Zi.forEach((ca,eu)=>_o.add(eu))}}),Xr.postStyleProps.forEach((Zi,ns)=>{let _o=ln.get(ns);_o||ln.set(ns,_o=new Set),Zi.forEach((ca,eu)=>_o.add(eu))})});if(Os.length){const gr=[];Os.forEach(Rr=>{gr.push(function ge(V,_){return new M.vHH(3505,!1)}())}),ci.forEach(Rr=>Rr.destroy()),this.reportError(gr)}const Er=new Map,Yo=new Map;mt.forEach(gr=>{const Rr=gr.element;x.has(Rr)&&(Yo.set(Rr,Rr),this._beforeAnimationBuild(gr.player.namespaceId,gr.instruction,Er))}),te.forEach(gr=>{const Rr=gr.element;this._getPreviousPlayers(Rr,!1,gr.namespaceId,gr.triggerName,null).forEach(vi=>{tt(Er,Rr,[]).push(vi),vi.destroy()})});const ms=ki.filter(gr=>ws(gr,Bt,ln)),ys=new Map;Jo(ys,this.driver,Pi,ln,Ve).forEach(gr=>{ws(gr,Bt,ln)&&ms.push(gr)});const La=new Map;Yr.forEach((gr,Rr)=>{Jo(La,this.driver,new Set(gr),Bt,"!")}),ms.forEach(gr=>{const Rr=ys.get(gr),Ur=La.get(gr);ys.set(gr,new Map([...Rr?.entries()??[],...Ur?.entries()??[]]))});const Ko=[],us=[],Va={};mt.forEach(gr=>{const{element:Rr,player:Ur,instruction:vi}=gr;if(x.has(Rr)){if(Zn.has(Rr))return Ur.onDestroy(()=>An(Rr,vi.toStyles)),Ur.disabled=!0,Ur.overrideTotalTime(vi.totalTime),void te.push(Ur);let dn=Va;if(Yo.size>1){let jo=Rr;const xs=[];for(;jo=jo.parentNode;){const Xr=Yo.get(jo);if(Xr){dn=Xr;break}xs.push(jo)}xs.forEach(Xr=>Yo.set(Xr,dn))}const Br=this._buildAnimation(Ur.namespaceId,vi,Er,Se,La,ys);if(Ur.setRealPlayer(Br),dn===Va)Ko.push(Ur);else{const jo=this.playersByElement.get(dn);jo&&jo.length&&(Ur.parentPlayer=wt(jo)),te.push(Ur)}}else Tn(Rr,vi.fromStyles),Ur.onDestroy(()=>An(Rr,vi.toStyles)),us.push(Ur),Zn.has(Rr)&&te.push(Ur)}),us.forEach(gr=>{const Rr=Se.get(gr.element);if(Rr&&Rr.length){const Ur=wt(Rr);gr.setRealPlayer(Ur)}}),te.forEach(gr=>{gr.parentPlayer?gr.syncPlayerEvents(gr.parentPlayer):gr.destroy()});for(let gr=0;gr<ki.length;gr++){const Rr=ki[gr],Ur=Rr[O];if(lo(Rr,$t),Ur&&Ur.hasAnimation)continue;let vi=[];if(yt.size){let Br=yt.get(Rr);Br&&Br.length&&vi.push(...Br);let jo=this.driver.query(Rr,jr,!0);for(let xs=0;xs<jo.length;xs++){let Xr=yt.get(jo[xs]);Xr&&Xr.length&&vi.push(...Xr)}}const dn=vi.filter(Br=>!Br.destroyed);dn.length?oa(this,Rr,dn):this.processLeaveNode(Rr)}return ki.length=0,Ko.forEach(gr=>{this.players.push(gr),gr.onDone(()=>{gr.destroy();const Rr=this.players.indexOf(gr);this.players.splice(Rr,1)}),gr.play()}),Ko}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,I,x,te,Se){let mt=[];if(I){const yt=this.playersByQueriedElement.get(_);yt&&(mt=yt)}else{const yt=this.playersByElement.get(_);if(yt){const Bt=!Se||Se==pt;yt.forEach(ln=>{ln.queued||!Bt&&ln.triggerName!=te||mt.push(ln)})}}return(x||te)&&(mt=mt.filter(yt=>!(x&&x!=yt.namespaceId||te&&te!=yt.triggerName))),mt}_beforeAnimationBuild(_,I,x){const Se=I.element,mt=I.isRemovalTransition?void 0:_,yt=I.isRemovalTransition?void 0:I.triggerName;for(const Bt of I.timelines){const ln=Bt.element,Zn=ln!==Se,ir=tt(x,ln,[]);this._getPreviousPlayers(ln,Zn,mt,yt,I.toState).forEach(Yr=>{const wr=Yr.getRealPlayer();wr.beforeDestroy&&wr.beforeDestroy(),Yr.destroy(),ir.push(Yr)})}Tn(Se,I.fromStyles)}_buildAnimation(_,I,x,te,Se,mt){const yt=I.triggerName,Bt=I.element,ln=[],Zn=new Set,ir=new Set,zr=I.timelines.map(wr=>{const Gr=wr.element;Zn.add(Gr);const ki=Gr[O];if(ki&&ki.removedBeforeQueried)return new Lt(wr.duration,wr.delay);const qi=Gr!==Bt,Pi=function $s(V){const _=[];return eo(V,_),_}((x.get(Gr)||Na).map(Er=>Er.getRealPlayer())).filter(Er=>!!Er.element&&Er.element===Gr),So=Se.get(Gr),yi=mt.get(Gr),ci=tn(this._normalizer,wr.keyframes,So,yi),Os=this._buildPlayer(wr,ci,Pi);if(wr.subTimeline&&te&&ir.add(Gr),qi){const Er=new Io(_,yt,Gr);Er.setRealPlayer(Os),ln.push(Er)}return Os});ln.forEach(wr=>{tt(this.playersByQueriedElement,wr.element,[]).push(wr),wr.onDone(()=>function Uo(V,_,I){let x=V.get(_);if(x){if(x.length){const te=x.indexOf(I);x.splice(te,1)}0==x.length&&V.delete(_)}return x}(this.playersByQueriedElement,wr.element,wr))}),Zn.forEach(wr=>Gi(wr,hr));const Yr=wt(zr);return Yr.onDestroy(()=>{Zn.forEach(wr=>lo(wr,hr)),An(Bt,I.toStyles)}),ir.forEach(wr=>{tt(te,wr,[]).push(Yr)}),Yr}_buildPlayer(_,I,x){return I.length>0?this.driver.animate(_.element,I,_.duration,_.delay,_.easing,x):new Lt(_.duration,_.delay)}}class Io{constructor(_,I,x){this.namespaceId=_,this.triggerName=I,this.element=x,this._player=new Lt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((I,x)=>{I.forEach(te=>kn(_,x,void 0,te))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const I=this._player;I.triggerCallback&&_.onStart(()=>I.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,I){tt(this._queuedCallbacks,_,[]).push(I)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const I=this._player;I.triggerCallback&&I.triggerCallback(_)}}function no(V){return V&&1===V.nodeType}function cs(V,_){const I=V.style.display;return V.style.display=_??"none",I}function Jo(V,_,I,x,te){const Se=[];I.forEach(Bt=>Se.push(cs(Bt)));const mt=[];x.forEach((Bt,ln)=>{const Zn=new Map;Bt.forEach(ir=>{const zr=_.computeStyle(ln,ir,te);Zn.set(ir,zr),(!zr||0==zr.length)&&(ln[O]=X,mt.push(ln))}),V.set(ln,Zn)});let yt=0;return I.forEach(Bt=>cs(Bt,Se[yt++])),mt}function zi(V,_){const I=new Map;if(V.forEach(yt=>I.set(yt,[])),0==_.length)return I;const te=new Set(_),Se=new Map;function mt(yt){if(!yt)return 1;let Bt=Se.get(yt);if(Bt)return Bt;const ln=yt.parentNode;return Bt=I.has(ln)?ln:te.has(ln)?1:mt(ln),Se.set(yt,Bt),Bt}return _.forEach(yt=>{const Bt=mt(yt);1!==Bt&&I.get(Bt).push(yt)}),I}function Gi(V,_){V.classList?.add(_)}function lo(V,_){V.classList?.remove(_)}function oa(V,_,I){wt(I).onDone(()=>V.processLeaveNode(_))}function eo(V,_){for(let I=0;I<V.length;I++){const x=V[I];x instanceof Ge?eo(x.players,_):_.push(x)}}function ws(V,_,I){const x=I.get(V);if(!x)return!1;let te=_.get(V);return te?x.forEach(Se=>te.add(Se)):_.set(V,x),I.delete(V),!0}class gs{constructor(_,I,x){this.bodyNode=_,this._driver=I,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(te,Se)=>{},this._transitionEngine=new vo(_,I,x),this._timelineEngine=new ia(_,I,x),this._transitionEngine.onRemovalComplete=(te,Se)=>this.onRemovalComplete(te,Se)}registerTrigger(_,I,x,te,Se){const mt=_+"-"+te;let yt=this._triggerCache[mt];if(!yt){const Bt=[],Zn=re(this._driver,Se,Bt,[]);if(Bt.length)throw function qn(V,_){return new M.vHH(3404,!1)}();yt=function Bo(V,_,I){return new Wr(V,_,I)}(te,Zn,this._normalizer),this._triggerCache[mt]=yt}this._transitionEngine.registerTrigger(I,te,yt)}register(_,I){this._transitionEngine.register(_,I)}destroy(_,I){this._transitionEngine.destroy(_,I)}onInsert(_,I,x,te){this._transitionEngine.insertNode(_,I,x,te)}onRemove(_,I,x){this._transitionEngine.removeNode(_,I,x)}disableAnimations(_,I){this._transitionEngine.markElementAsDisabled(_,I)}process(_,I,x,te){if("@"==x.charAt(0)){const[Se,mt]=Qn(x);this._timelineEngine.command(Se,I,mt,te)}else this._transitionEngine.trigger(_,I,x,te)}listen(_,I,x,te,Se){if("@"==x.charAt(0)){const[mt,yt]=Qn(x);return this._timelineEngine.listen(mt,I,yt,Se)}return this._transitionEngine.listen(_,I,x,te,Se)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}let Rs=(()=>{class V{static#e=this.initialStylesByElement=new WeakMap;constructor(I,x,te){this._element=I,this._startStyles=x,this._endStyles=te,this._state=0;let Se=V.initialStylesByElement.get(I);Se||V.initialStylesByElement.set(I,Se=new Map),this._initialStyles=Se}start(){this._state<1&&(this._startStyles&&An(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(An(this._element,this._initialStyles),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(Tn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tn(this._element,this._endStyles),this._endStyles=null),An(this._element,this._initialStyles),this._state=3)}}return V})();function js(V){let _=null;return V.forEach((I,x)=>{(function Hs(V){return"display"===V||"position"===V})(x)&&(_=_||new Map,_.set(x,I))}),_}class es{constructor(_,I,x,te){this.element=_,this.keyframes=I,this.options=x,this._specialStyles=te,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const I=()=>this._onFinish();this.domPlayer.addEventListener("finish",I),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",I)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const I=[];return _.forEach(x=>{I.push(Object.fromEntries(x))}),I}_triggerWebAnimation(_,I,x){return _.animate(this._convertKeyframesToObject(I),x)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,te)=>{"offset"!==te&&_.set(te,this._finished?x:Hr(this.element,te))}),this.currentSnapshot=_}triggerCallback(_){const I="start"===_?this._onStartFns:this._onDoneFns;I.forEach(x=>x()),I.length=0}}class ma{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,I){return!1}containsElement(_,I){return Ar(_,I)}getParentElement(_){return Ct(_)}query(_,I,x){return Nn(_,I,x)}computeStyle(_,I,x){return window.getComputedStyle(_)[I]}animate(_,I,x,te,Se,mt=[]){const Bt={duration:x,delay:te,fill:0==te?"both":"forwards"};Se&&(Bt.easing=Se);const ln=new Map,Zn=mt.filter(Yr=>Yr instanceof es);(function Do(V,_){return 0===V||0===_})(x,te)&&Zn.forEach(Yr=>{Yr.currentSnapshot.forEach((wr,Gr)=>ln.set(Gr,wr))});let ir=function vt(V){return V.length?V[0]instanceof Map?V:V.map(_=>Ot(_)):[]}(I).map(Yr=>_n(Yr));ir=function bi(V,_,I){if(I.size&&_.length){let x=_[0],te=[];if(I.forEach((Se,mt)=>{x.has(mt)||te.push(mt),x.set(mt,Se)}),te.length)for(let Se=1;Se<_.length;Se++){let mt=_[Se];te.forEach(yt=>mt.set(yt,Hr(V,yt)))}}return _}(_,ir,ln);const zr=function Ss(V,_){let I=null,x=null;return Array.isArray(_)&&_.length?(I=js(_[0]),_.length>1&&(x=js(_[_.length-1]))):_ instanceof Map&&(I=js(_)),I||x?new Rs(V,I,x):null}(_,ir);return new es(_,ir,Bt,zr)}}let Ps=(()=>{class V extends ne{constructor(I,x){super(),this._nextAnimationId=0,this._renderer=I.createRenderer(x.body,{id:"0",encapsulation:M.ifc.None,styles:[],data:{animation:[]}})}build(I){const x=this._nextAnimationId.toString();this._nextAnimationId++;const te=Array.isArray(I)?lt(I):I;return il(this._renderer,null,x,"register",[te]),new sa(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||V)(M.LFG(M.FYo),M.LFG(it.K0))};static#t=this.\u0275prov=M.Yz7({token:V,factory:V.\u0275fac})}return V})();class sa extends Me{constructor(_,I){super(),this._id=_,this._renderer=I}create(_,I){return new Wo(this._id,_,I||{},this._renderer)}}class Wo{constructor(_,I,x,te){this.id=_,this.element=I,this._renderer=te,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(_,I){return this._renderer.listen(this.element,`@@${this.id}:${_}`,I)}_command(_,...I){return il(this._renderer,this.element,this.id,_,I)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function il(V,_,I,x,te){return V.setProperty(_,`@@${I}:${x}`,te)}const ol="@.disabled";let aa=(()=>{class V{constructor(I,x,te){this.delegate=I,this.engine=x,this._zone=te,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(Se,mt)=>{const yt=mt?.parentNode(Se);yt&&mt.removeChild(yt,Se)}}createRenderer(I,x){const Se=this.delegate.createRenderer(I,x);if(!(I&&x&&x.data&&x.data.animation)){let Zn=this._rendererCache.get(Se);return Zn||(Zn=new ka("",Se,this.engine,()=>this._rendererCache.delete(Se)),this._rendererCache.set(Se,Zn)),Zn}const mt=x.id,yt=x.id+"-"+this._currentId;this._currentId++,this.engine.register(yt,I);const Bt=Zn=>{Array.isArray(Zn)?Zn.forEach(Bt):this.engine.registerTrigger(mt,yt,I,Zn.name,Zn)};return x.data.animation.forEach(Bt),new ts(this,yt,Se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(I,x,te){I>=0&&I<this._microtaskId?this._zone.run(()=>x(te)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Se=>{const[mt,yt]=Se;mt(yt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,te]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||V)(M.LFG(M.FYo),M.LFG(gs),M.LFG(M.R0b))};static#t=this.\u0275prov=M.Yz7({token:V,factory:V.\u0275fac})}return V})();class ka{constructor(_,I,x,te){this.namespaceId=_,this.delegate=I,this.engine=x,this._onDestroy=te}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,I){return this.delegate.createElement(_,I)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,I){this.delegate.appendChild(_,I),this.engine.onInsert(this.namespaceId,I,_,!1)}insertBefore(_,I,x,te=!0){this.delegate.insertBefore(_,I,x),this.engine.onInsert(this.namespaceId,I,_,te)}removeChild(_,I,x){this.engine.onRemove(this.namespaceId,I,this.delegate)}selectRootElement(_,I){return this.delegate.selectRootElement(_,I)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,I,x,te){this.delegate.setAttribute(_,I,x,te)}removeAttribute(_,I,x){this.delegate.removeAttribute(_,I,x)}addClass(_,I){this.delegate.addClass(_,I)}removeClass(_,I){this.delegate.removeClass(_,I)}setStyle(_,I,x,te){this.delegate.setStyle(_,I,x,te)}removeStyle(_,I,x){this.delegate.removeStyle(_,I,x)}setProperty(_,I,x){"@"==I.charAt(0)&&I==ol?this.disableAnimations(_,!!x):this.delegate.setProperty(_,I,x)}setValue(_,I){this.delegate.setValue(_,I)}listen(_,I,x){return this.delegate.listen(_,I,x)}disableAnimations(_,I){this.engine.disableAnimations(_,I)}}class ts extends ka{constructor(_,I,x,te,Se){super(I,x,te,Se),this.factory=_,this.namespaceId=I}setProperty(_,I,x){"@"==I.charAt(0)?"."==I.charAt(1)&&I==ol?this.disableAnimations(_,x=void 0===x||!!x):this.engine.process(this.namespaceId,_,I.slice(1),x):this.delegate.setProperty(_,I,x)}listen(_,I,x){if("@"==I.charAt(0)){const te=function sl(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(_);let Se=I.slice(1),mt="";return"@"!=Se.charAt(0)&&([Se,mt]=function zs(V){const _=V.indexOf(".");return[V.substring(0,_),V.slice(_+1)]}(Se)),this.engine.listen(this.namespaceId,te,Se,mt,yt=>{this.factory.scheduleListenerCallback(yt._data||-1,x,yt)})}return this.delegate.listen(_,I,x)}}const Gs=[{provide:ne,useClass:Ps},{provide:Ao,useFactory:function ll(){return new Yi}},{provide:gs,useClass:(()=>{class V extends gs{constructor(I,x,te,Se){super(I.body,x,te)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||V)(M.LFG(it.K0),M.LFG(j),M.LFG(Ao),M.LFG(M.z2F))};static#t=this.\u0275prov=M.Yz7({token:V,factory:V.\u0275fac})}return V})()},{provide:M.FYo,useFactory:function ti(V,_,I){return new aa(V,_,I)},deps:[a.se,gs,M.R0b]}],la=[{provide:j,useFactory:()=>new ma},{provide:M.QbO,useValue:"BrowserAnimations"},...Gs],w=[{provide:j,useClass:ee},{provide:M.QbO,useValue:"NoopAnimations"},...Gs];let ae=(()=>{class V{static withConfig(I){return{ngModule:V,providers:I.disableAnimations?w:la}}static#e=this.\u0275fac=function(x){return new(x||V)};static#t=this.\u0275mod=M.oAB({type:V});static#n=this.\u0275inj=M.cJS({providers:la,imports:[a.b2]})}return V})();var Jt=A(7217),pn=A(7213),sr=A(7650),si=A(2014);const Vi=new M.OlP("STORAGE_CONFIG_TOKEN");class ii extends si.K{constructor(){super()}create(){var _=this;return(0,ye.Z)(function*(){return _})()}defineDriver(){return(0,ye.Z)(function*(){})()}get driver(){return"noop"}get(_){return(0,ye.Z)(function*(){return null})()}set(_,I){return(0,ye.Z)(function*(){})()}remove(_){return(0,ye.Z)(function*(){})()}clear(){return(0,ye.Z)(function*(){})()}length(){return(0,ye.Z)(function*(){return 0})()}keys(){return(0,ye.Z)(function*(){return[]})()}forEach(_){return(0,ye.Z)(function*(){})()}setEncryptionKey(_){}}function Qr(V,_){return(0,it.PM)(V)?new ii:new si.K(_)}let Bi=(()=>{class V{static forRoot(I=null){return{ngModule:V,providers:[{provide:Vi,useValue:I},{provide:si.K,useFactory:Qr,deps:[M.Lbi,Vi]}]}}}return V.\u0275fac=function(I){return new(I||V)},V.\u0275mod=M.oAB({type:V}),V.\u0275inj=M.cJS({}),V})();var Ri=A(8583),ro=A(8662),$o=A(2923),co=A(9612);let Ms=(()=>{class V{static#e=this.\u0275fac=function(x){return new(x||V)};static#t=this.\u0275mod=M.oAB({type:V,bootstrap:[vn]});static#n=this.\u0275inj=M.cJS({providers:[{provide:se.wN,useClass:Yn.r4},ro.b,$o.E,co.r],imports:[a.b2,je,Ir.N,ae,$.JF,Ee.Pc.forRoot({}),Jt.hO.initializeApp(Ri.N.firebase),pn.ww,sr.yb,Bi.forRoot()]})}return V})();a.q6().bootstrapModule(Ms).catch(V=>console.error(V))},9422:bn=>{bn.exports=function $(se,M,Ne){function Ee(je,ye){if(!M[je]){if(!se[je]){if(pe)return pe(je,!0);var Me=new Error("Cannot find module '"+je+"'");throw Me.code="MODULE_NOT_FOUND",Me}var Ve=M[je]={exports:{}};se[je][0].call(Ve.exports,function(Be){return Ee(se[je][1][Be]||Be)},Ve,Ve.exports,$,se,M,Ne)}return M[je].exports}for(var pe=void 0,Le=0;Le<Ne.length;Le++)Ee(Ne[Le]);return Ee}({1:[function($,se,M){(function(Ne){"use strict";var pe,Ee=Ne.MutationObserver||Ne.WebKitMutationObserver;if(Ee){var Le=0,je=new Ee(Be),ye=Ne.document.createTextNode("");je.observe(ye,{characterData:!0}),pe=function(){ye.data=Le=++Le%2}}else if(!Ne.setImmediate&&typeof Ne.MessageChannel<"u"){var ne=new Ne.MessageChannel;ne.port1.onmessage=Be,pe=function(){ne.port2.postMessage(0)}}else pe="document"in Ne&&"onreadystatechange"in Ne.document.createElement("script")?function(){var He=Ne.document.createElement("script");He.onreadystatechange=function(){Be(),He.onreadystatechange=null,He.parentNode.removeChild(He),He=null},Ne.document.documentElement.appendChild(He)}:function(){setTimeout(Be,0)};var Me,Ve=[];function Be(){Me=!0;for(var He,lt,xe=Ve.length;xe;){for(lt=Ve,Ve=[],He=-1;++He<xe;)lt[He]();xe=Ve.length}Me=!1}se.exports=function Je(He){1===Ve.push(He)&&!Me&&pe()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function($,se,M){"use strict";var Ne=$(1);function Ee(){}var pe={},Le=["REJECTED"],je=["FULFILLED"],ye=["PENDING"];function ne(Te){if("function"!=typeof Te)throw new TypeError("resolver must be a function");this.state=ye,this.queue=[],this.outcome=void 0,Te!==Ee&&Je(this,Te)}function Me(Te,Re,he){this.promise=Te,"function"==typeof Re&&(this.onFulfilled=Re,this.callFulfilled=this.otherCallFulfilled),"function"==typeof he&&(this.onRejected=he,this.callRejected=this.otherCallRejected)}function Ve(Te,Re,he){Ne(function(){var Fe;try{Fe=Re(he)}catch(st){return pe.reject(Te,st)}Fe===Te?pe.reject(Te,new TypeError("Cannot resolve promise with itself")):pe.resolve(Te,Fe)})}function Be(Te){var Re=Te&&Te.then;if(Te&&("object"==typeof Te||"function"==typeof Te)&&"function"==typeof Re)return function(){Re.apply(Te,arguments)}}function Je(Te,Re){var he=!1;function Fe(Ge){he||(he=!0,pe.reject(Te,Ge))}function st(Ge){he||(he=!0,pe.resolve(Te,Ge))}var Lt=He(function Ze(){Re(st,Fe)});"error"===Lt.status&&Fe(Lt.value)}function He(Te,Re){var he={};try{he.value=Te(Re),he.status="success"}catch(Fe){he.status="error",he.value=Fe}return he}se.exports=ne,ne.prototype.catch=function(Te){return this.then(null,Te)},ne.prototype.then=function(Te,Re){if("function"!=typeof Te&&this.state===je||"function"!=typeof Re&&this.state===Le)return this;var he=new this.constructor(Ee);return this.state!==ye?Ve(he,this.state===je?Te:Re,this.outcome):this.queue.push(new Me(he,Te,Re)),he},Me.prototype.callFulfilled=function(Te){pe.resolve(this.promise,Te)},Me.prototype.otherCallFulfilled=function(Te){Ve(this.promise,this.onFulfilled,Te)},Me.prototype.callRejected=function(Te){pe.reject(this.promise,Te)},Me.prototype.otherCallRejected=function(Te){Ve(this.promise,this.onRejected,Te)},pe.resolve=function(Te,Re){var he=He(Be,Re);if("error"===he.status)return pe.reject(Te,he.value);var Fe=he.value;if(Fe)Je(Te,Fe);else{Te.state=je,Te.outcome=Re;for(var st=-1,Ze=Te.queue.length;++st<Ze;)Te.queue[st].callFulfilled(Re)}return Te},pe.reject=function(Te,Re){Te.state=Le,Te.outcome=Re;for(var he=-1,Fe=Te.queue.length;++he<Fe;)Te.queue[he].callRejected(Re);return Te},ne.resolve=function lt(Te){return Te instanceof this?Te:pe.resolve(new this(Ee),Te)},ne.reject=function xe(Te){var Re=new this(Ee);return pe.reject(Re,Te)},ne.all=function Et(Te){var Re=this;if("[object Array]"!==Object.prototype.toString.call(Te))return this.reject(new TypeError("must be an array"));var he=Te.length,Fe=!1;if(!he)return this.resolve([]);for(var st=new Array(he),Ze=0,Lt=-1,Ge=new this(Ee);++Lt<he;)qt(Te[Lt],Lt);return Ge;function qt(gn,It){Re.resolve(gn).then(function it(Pt){st[It]=Pt,++Ze===he&&!Fe&&(Fe=!0,pe.resolve(Ge,st))},function(Pt){Fe||(Fe=!0,pe.reject(Ge,Pt))})}},ne.race=function De(Te){var Re=this;if("[object Array]"!==Object.prototype.toString.call(Te))return this.reject(new TypeError("must be an array"));var he=Te.length,Fe=!1;if(!he)return this.resolve([]);for(var st=-1,Ze=new this(Ee);++st<he;)Re.resolve(Te[st]).then(function(qt){Fe||(Fe=!0,pe.resolve(Ze,qt))},function(qt){Fe||(Fe=!0,pe.reject(Ze,qt))});return Ze}},{1:1}],3:[function($,se,M){(function(Ne){"use strict";"function"!=typeof Ne.Promise&&(Ne.Promise=$(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function($,se,M){"use strict";var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};var Le=function pe(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function ye(we,nt){we=we||[],nt=nt||{};try{return new Blob(we,nt)}catch(vt){if("TypeError"!==vt.name)throw vt;for(var At=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Ot=0;Ot<we.length;Ot+=1)At.append(we[Ot]);return At.getBlob(nt.type)}}typeof Promise>"u"&&$(3);var ne=Promise;function Me(we,nt){nt&&we.then(function($e){nt(null,$e)},function($e){nt($e)})}function Ve(we,nt,$e){"function"==typeof nt&&we.then(nt),"function"==typeof $e&&we.catch($e)}function Be(we){return"string"!=typeof we&&(console.warn(we+" used as a key, but it is not a string."),we=String(we)),we}function Je(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var He="local-forage-detect-blob-support",lt=void 0,xe={},Et=Object.prototype.toString,De="readonly",Te="readwrite";function Re(we){for(var nt=we.length,$e=new ArrayBuffer(nt),At=new Uint8Array($e),Ot=0;Ot<nt;Ot++)At[Ot]=we.charCodeAt(Ot);return $e}function Fe(we){return"boolean"==typeof lt?ne.resolve(lt):function he(we){return new ne(function(nt){var $e=we.transaction(He,Te),At=ye([""]);$e.objectStore(He).put(At,"key"),$e.onabort=function(Ot){Ot.preventDefault(),Ot.stopPropagation(),nt(!1)},$e.oncomplete=function(){var Ot=navigator.userAgent.match(/Chrome\/(\d+)/),vt=navigator.userAgent.match(/Edge\//);nt(vt||!Ot||parseInt(Ot[1],10)>=43)}}).catch(function(){return!1})}(we).then(function(nt){return lt=nt})}function st(we){var nt=xe[we.name],$e={};$e.promise=new ne(function(At,Ot){$e.resolve=At,$e.reject=Ot}),nt.deferredOperations.push($e),nt.dbReady=nt.dbReady?nt.dbReady.then(function(){return $e.promise}):$e.promise}function Ze(we){var $e=xe[we.name].deferredOperations.pop();if($e)return $e.resolve(),$e.promise}function Lt(we,nt){var At=xe[we.name].deferredOperations.pop();if(At)return At.reject(nt),At.promise}function Ge(we,nt){return new ne(function($e,At){if(xe[we.name]=xe[we.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},we.db){if(!nt)return $e(we.db);st(we),we.db.close()}var Ot=[we.name];nt&&Ot.push(we.version);var vt=Le.open.apply(Le,Ot);nt&&(vt.onupgradeneeded=function(un){var _n=vt.result;try{_n.createObjectStore(we.storeName),un.oldVersion<=1&&_n.createObjectStore(He)}catch(An){if("ConstraintError"!==An.name)throw An;console.warn('The database "'+we.name+'" has been upgraded from version '+un.oldVersion+" to version "+un.newVersion+', but the storage "'+we.storeName+'" already exists.')}}),vt.onerror=function(un){un.preventDefault(),At(vt.error)},vt.onsuccess=function(){var un=vt.result;un.onversionchange=function(_n){_n.target.close()},$e(un),Ze(we)}})}function qt(we){return Ge(we,!1)}function gn(we){return Ge(we,!0)}function It(we,nt){if(!we.db)return!0;var $e=!we.db.objectStoreNames.contains(we.storeName),Ot=we.version>we.db.version;if(we.version<we.db.version&&(we.version!==nt&&console.warn('The database "'+we.name+"\" can't be downgraded from version "+we.db.version+" to version "+we.version+"."),we.version=we.db.version),Ot||$e){if($e){var vt=we.db.version+1;vt>we.version&&(we.version=vt)}return!0}return!1}function Pt(we){return ye([Re(atob(we.data))],{type:we.type})}function Ue(we){return we&&we.__local_forage_encoded_blob}function ue(we){var nt=this,$e=nt._initReady().then(function(){var At=xe[nt._dbInfo.name];if(At&&At.dbReady)return At.dbReady});return Ve($e,we,we),$e}function W(we,nt,$e,At){void 0===At&&(At=1);try{var Ot=we.db.transaction(we.storeName,nt);$e(null,Ot)}catch(vt){if(At>0&&(!we.db||"InvalidStateError"===vt.name||"NotFoundError"===vt.name))return ne.resolve().then(function(){if(!we.db||"NotFoundError"===vt.name&&!we.db.objectStoreNames.contains(we.storeName)&&we.version<=we.db.version)return we.db&&(we.version=we.db.version+1),gn(we)}).then(function(){return function G(we){st(we);for(var nt=xe[we.name],$e=nt.forages,At=0;At<$e.length;At++){var Ot=$e[At];Ot._dbInfo.db&&(Ot._dbInfo.db.close(),Ot._dbInfo.db=null)}return we.db=null,qt(we).then(function(vt){return we.db=vt,It(we)?gn(we):vt}).then(function(vt){we.db=nt.db=vt;for(var un=0;un<$e.length;un++)$e[un]._dbInfo.db=vt}).catch(function(vt){throw Lt(we,vt),vt})}(we).then(function(){W(we,nt,$e,At-1)})}).catch($e);$e(vt)}}var Ir={_driver:"asyncStorage",_initStorage:function Ae(we){var nt=this,$e={db:null};if(we)for(var At in we)$e[At]=we[At];var Ot=xe[$e.name];Ot||(xe[$e.name]=Ot={forages:[],db:null,dbReady:null,deferredOperations:[]}),Ot.forages.push(nt),nt._initReady||(nt._initReady=nt.ready,nt.ready=ue);var vt=[];function un(){return ne.resolve()}for(var _n=0;_n<Ot.forages.length;_n++){var An=Ot.forages[_n];An!==nt&&vt.push(An._initReady().catch(un))}var Tn=Ot.forages.slice(0);return ne.all(vt).then(function(){return $e.db=Ot.db,qt($e)}).then(function(Sn){return $e.db=Sn,It($e,nt._defaultConfig.version)?gn($e):Sn}).then(function(Sn){$e.db=Ot.db=Sn,nt._dbInfo=$e;for(var or=0;or<Tn.length;or++){var Sr=Tn[or];Sr!==nt&&(Sr._dbInfo.db=$e.db,Sr._dbInfo.version=$e.version)}})},_support:function je(){try{if(!Le||!Le.open)return!1;var we=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),nt="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!we||nt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function Oe(we,nt){var $e=this,At=new ne(function(Ot,vt){$e.ready().then(function(){W($e._dbInfo,De,function(un,_n){if(un)return vt(un);try{var Tn=_n.objectStore($e._dbInfo.storeName).openCursor(),Sn=1;Tn.onsuccess=function(){var or=Tn.result;if(or){var Sr=or.value;Ue(Sr)&&(Sr=Pt(Sr));var qr=we(Sr,or.key,Sn++);void 0!==qr?Ot(qr):or.continue()}else Ot()},Tn.onerror=function(){vt(Tn.error)}}catch(or){vt(or)}})}).catch(vt)});return Me(At,nt),At},getItem:function ut(we,nt){var $e=this;we=Be(we);var At=new ne(function(Ot,vt){$e.ready().then(function(){W($e._dbInfo,De,function(un,_n){if(un)return vt(un);try{var Tn=_n.objectStore($e._dbInfo.storeName).get(we);Tn.onsuccess=function(){var Sn=Tn.result;void 0===Sn&&(Sn=null),Ue(Sn)&&(Sn=Pt(Sn)),Ot(Sn)},Tn.onerror=function(){vt(Tn.error)}}catch(Sn){vt(Sn)}})}).catch(vt)});return Me(At,nt),At},setItem:function Tt(we,nt,$e){var At=this;we=Be(we);var Ot=new ne(function(vt,un){var _n;At.ready().then(function(){return _n=At._dbInfo,"[object Blob]"===Et.call(nt)?Fe(_n.db).then(function(An){return An?nt:function it(we){return new ne(function(nt,$e){var At=new FileReader;At.onerror=$e,At.onloadend=function(Ot){var vt=btoa(Ot.target.result||"");nt({__local_forage_encoded_blob:!0,data:vt,type:we.type})},At.readAsBinaryString(we)})}(nt)}):nt}).then(function(An){W(At._dbInfo,Te,function(Tn,Sn){if(Tn)return un(Tn);try{var or=Sn.objectStore(At._dbInfo.storeName);null===An&&(An=void 0);var Sr=or.put(An,we);Sn.oncomplete=function(){void 0===An&&(An=null),vt(An)},Sn.onabort=Sn.onerror=function(){un(Sr.error?Sr.error:Sr.transaction.error)}}catch(qr){un(qr)}})}).catch(un)});return Me(Ot,$e),Ot},removeItem:function xt(we,nt){var $e=this;we=Be(we);var At=new ne(function(Ot,vt){$e.ready().then(function(){W($e._dbInfo,Te,function(un,_n){if(un)return vt(un);try{var Tn=_n.objectStore($e._dbInfo.storeName).delete(we);_n.oncomplete=function(){Ot()},_n.onerror=function(){vt(Tn.error)},_n.onabort=function(){vt(Tn.error?Tn.error:Tn.transaction.error)}}catch(Sn){vt(Sn)}})}).catch(vt)});return Me(At,nt),At},clear:function fn(we){var nt=this,$e=new ne(function(At,Ot){nt.ready().then(function(){W(nt._dbInfo,Te,function(vt,un){if(vt)return Ot(vt);try{var An=un.objectStore(nt._dbInfo.storeName).clear();un.oncomplete=function(){At()},un.onabort=un.onerror=function(){Ot(An.error?An.error:An.transaction.error)}}catch(Tn){Ot(Tn)}})}).catch(Ot)});return Me($e,we),$e},length:function Rn(we){var nt=this,$e=new ne(function(At,Ot){nt.ready().then(function(){W(nt._dbInfo,De,function(vt,un){if(vt)return Ot(vt);try{var An=un.objectStore(nt._dbInfo.storeName).count();An.onsuccess=function(){At(An.result)},An.onerror=function(){Ot(An.error)}}catch(Tn){Ot(Tn)}})}).catch(Ot)});return Me($e,we),$e},key:function Nt(we,nt){var $e=this,At=new ne(function(Ot,vt){we<0?Ot(null):$e.ready().then(function(){W($e._dbInfo,De,function(un,_n){if(un)return vt(un);try{var An=_n.objectStore($e._dbInfo.storeName),Tn=!1,Sn=An.openKeyCursor();Sn.onsuccess=function(){var or=Sn.result;or?0===we||Tn?Ot(or.key):(Tn=!0,or.advance(we)):Ot(null)},Sn.onerror=function(){vt(Sn.error)}}catch(or){vt(or)}})}).catch(vt)});return Me(At,nt),At},keys:function vn(we){var nt=this,$e=new ne(function(At,Ot){nt.ready().then(function(){W(nt._dbInfo,De,function(vt,un){if(vt)return Ot(vt);try{var An=un.objectStore(nt._dbInfo.storeName).openKeyCursor(),Tn=[];An.onsuccess=function(){var Sn=An.result;Sn?(Tn.push(Sn.key),Sn.continue()):At(Tn)},An.onerror=function(){Ot(An.error)}}catch(Sn){Ot(Sn)}})}).catch(Ot)});return Me($e,we),$e},dropInstance:function Yn(we,nt){nt=Je.apply(this,arguments);var Ot,$e=this.config();return(we="function"!=typeof we&&we||{}).name||(we.name=we.name||$e.name,we.storeName=we.storeName||$e.storeName),Me(Ot=we.name?(we.name===$e.name&&this._dbInfo.db?ne.resolve(this._dbInfo.db):qt(we).then(function(_n){var An=xe[we.name],Tn=An.forages;An.db=_n;for(var Sn=0;Sn<Tn.length;Sn++)Tn[Sn]._dbInfo.db=_n;return _n})).then(we.storeName?function(_n){if(_n.objectStoreNames.contains(we.storeName)){var An=_n.version+1;st(we);var Tn=xe[we.name],Sn=Tn.forages;_n.close();for(var or=0;or<Sn.length;or++){var Sr=Sn[or];Sr._dbInfo.db=null,Sr._dbInfo.version=An}return new ne(function(Tr,Ai){var mi=Le.open(we.name,An);mi.onerror=function(Li){mi.result.close(),Ai(Li)},mi.onupgradeneeded=function(){mi.result.deleteObjectStore(we.storeName)},mi.onsuccess=function(){var Li=mi.result;Li.close(),Tr(Li)}}).then(function(Tr){Tn.db=Tr;for(var Ai=0;Ai<Sn.length;Ai++){var mi=Sn[Ai];mi._dbInfo.db=Tr,Ze(mi._dbInfo)}}).catch(function(Tr){throw(Lt(we,Tr)||ne.resolve()).catch(function(){}),Tr})}}:function(_n){st(we);var An=xe[we.name],Tn=An.forages;_n.close();for(var Sn=0;Sn<Tn.length;Sn++)Tn[Sn]._dbInfo.db=null;return new ne(function(qr,Tr){var Ai=Le.deleteDatabase(we.name);Ai.onerror=function(){var mi=Ai.result;mi&&mi.close(),Tr(Ai.error)},Ai.onblocked=function(){console.warn('dropInstance blocked for database "'+we.name+'" until all open connections are closed')},Ai.onsuccess=function(){var mi=Ai.result;mi&&mi.close(),qr(mi)}}).then(function(qr){An.db=qr;for(var Tr=0;Tr<Tn.length;Tr++)Ze(Tn[Tr]._dbInfo)}).catch(function(qr){throw(Lt(we,qr)||ne.resolve()).catch(function(){}),qr})}):ne.reject("Invalid arguments"),nt),Ot}};var nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wt=/^~~local_forage_type~([^~]+)~/,Ke="__lfsc__:",Ut="arbf",Ln="blob",sn=Object.prototype.toString;function di(we){var At,vt,un,_n,An,nt=.75*we.length,$e=we.length,Ot=0;"="===we[we.length-1]&&(nt--,"="===we[we.length-2]&&nt--);var Tn=new ArrayBuffer(nt),Sn=new Uint8Array(Tn);for(At=0;At<$e;At+=4)vt=nn.indexOf(we[At]),un=nn.indexOf(we[At+1]),_n=nn.indexOf(we[At+2]),An=nn.indexOf(we[At+3]),Sn[Ot++]=vt<<2|un>>4,Sn[Ot++]=(15&un)<<4|_n>>2,Sn[Ot++]=(3&_n)<<6|63&An;return Tn}function Dr(we){var At,nt=new Uint8Array(we),$e="";for(At=0;At<nt.length;At+=3)$e+=nn[nt[At]>>2],$e+=nn[(3&nt[At])<<4|nt[At+1]>>4],$e+=nn[(15&nt[At+1])<<2|nt[At+2]>>6],$e+=nn[63&nt[At+2]];return nt.length%3==2?$e=$e.substring(0,$e.length-1)+"=":nt.length%3==1&&($e=$e.substring(0,$e.length-2)+"=="),$e}var Ii={serialize:function Nr(we,nt){var $e="";if(we&&($e=sn.call(we)),we&&("[object ArrayBuffer]"===$e||we.buffer&&"[object ArrayBuffer]"===sn.call(we.buffer))){var At,Ot=Ke;we instanceof ArrayBuffer?(At=we,Ot+=Ut):(At=we.buffer,"[object Int8Array]"===$e?Ot+="si08":"[object Uint8Array]"===$e?Ot+="ui08":"[object Uint8ClampedArray]"===$e?Ot+="uic8":"[object Int16Array]"===$e?Ot+="si16":"[object Uint16Array]"===$e?Ot+="ur16":"[object Int32Array]"===$e?Ot+="si32":"[object Uint32Array]"===$e?Ot+="ui32":"[object Float32Array]"===$e?Ot+="fl32":"[object Float64Array]"===$e?Ot+="fl64":nt(new Error("Failed to get type for BinaryArray"))),nt(Ot+Dr(At))}else if("[object Blob]"===$e){var vt=new FileReader;vt.onload=function(){var un="~~local_forage_type~"+we.type+"~"+Dr(this.result);nt(Ke+Ln+un)},vt.readAsArrayBuffer(we)}else try{nt(JSON.stringify(we))}catch(un){console.error("Couldn't convert value into a JSON string: ",we),nt(null,un)}},deserialize:function Fn(we){if(we.substring(0,9)!==Ke)return JSON.parse(we);var At,nt=we.substring(13),$e=we.substring(9,13);if($e===Ln&&Wt.test(nt)){var Ot=nt.match(Wt);At=Ot[1],nt=nt.substring(Ot[0].length)}var vt=di(nt);switch($e){case Ut:return vt;case Ln:return ye([vt],{type:At});case"si08":return new Int8Array(vt);case"ui08":return new Uint8Array(vt);case"uic8":return new Uint8ClampedArray(vt);case"si16":return new Int16Array(vt);case"ur16":return new Uint16Array(vt);case"si32":return new Int32Array(vt);case"ui32":return new Uint32Array(vt);case"fl32":return new Float32Array(vt);case"fl64":return new Float64Array(vt);default:throw new Error("Unkown type: "+$e)}},stringToBuffer:di,bufferToString:Dr};function qn(we,nt,$e,At){we.executeSql("CREATE TABLE IF NOT EXISTS "+nt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],$e,At)}function ur(we,nt,$e,At,Ot,vt){we.executeSql($e,At,Ot,function(un,_n){_n.code===_n.SYNTAX_ERR?un.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[nt.storeName],function(An,Tn){Tn.rows.length?vt(An,_n):qn(An,nt,function(){An.executeSql($e,At,Ot,vt)},vt)},vt):vt(un,_n)},vt)}function Ti(we,nt,$e,At){var Ot=this;we=Be(we);var vt=new ne(function(un,_n){Ot.ready().then(function(){void 0===nt&&(nt=null);var An=nt,Tn=Ot._dbInfo;Tn.serializer.serialize(nt,function(Sn,or){or?_n(or):Tn.db.transaction(function(Sr){ur(Sr,Tn,"INSERT OR REPLACE INTO "+Tn.storeName+" (key, value) VALUES (?, ?)",[we,Sn],function(){un(An)},function(qr,Tr){_n(Tr)})},function(Sr){if(Sr.code===Sr.QUOTA_ERR){if(At>0)return void un(Ti.apply(Ot,[we,An,$e,At-1]));_n(Sr)}})})}).catch(_n)});return Me(vt,$e),vt}var wt={_driver:"webSQLStorage",_initStorage:function ei(we){var nt=this,$e={db:null};if(we)for(var At in we)$e[At]="string"!=typeof we[At]?we[At].toString():we[At];var Ot=new ne(function(vt,un){try{$e.db=openDatabase($e.name,String($e.version),$e.description,$e.size)}catch(_n){return un(_n)}$e.db.transaction(function(_n){qn(_n,$e,function(){nt._dbInfo=$e,vt()},function(An,Tn){un(Tn)})},un)});return $e.serializer=Ii,Ot},_support:function on(){return"function"==typeof openDatabase}(),iterate:function ai(we,nt){var $e=this,At=new ne(function(Ot,vt){$e.ready().then(function(){var un=$e._dbInfo;un.db.transaction(function(_n){ur(_n,un,"SELECT * FROM "+un.storeName,[],function(An,Tn){for(var Sn=Tn.rows,or=Sn.length,Sr=0;Sr<or;Sr++){var qr=Sn.item(Sr),Tr=qr.value;if(Tr&&(Tr=un.serializer.deserialize(Tr)),void 0!==(Tr=we(Tr,qr.key,Sr+1)))return void Ot(Tr)}Ot()},function(An,Tn){vt(Tn)})})}).catch(vt)});return Me(At,nt),At},getItem:function Dn(we,nt){var $e=this;we=Be(we);var At=new ne(function(Ot,vt){$e.ready().then(function(){var un=$e._dbInfo;un.db.transaction(function(_n){ur(_n,un,"SELECT * FROM "+un.storeName+" WHERE key = ? LIMIT 1",[we],function(An,Tn){var Sn=Tn.rows.length?Tn.rows.item(0).value:null;Sn&&(Sn=un.serializer.deserialize(Sn)),Ot(Sn)},function(An,Tn){vt(Tn)})})}).catch(vt)});return Me(At,nt),At},setItem:function Kr(we,nt,$e){return Ti.apply(this,[we,nt,$e,1])},removeItem:function Fi(we,nt){var $e=this;we=Be(we);var At=new ne(function(Ot,vt){$e.ready().then(function(){var un=$e._dbInfo;un.db.transaction(function(_n){ur(_n,un,"DELETE FROM "+un.storeName+" WHERE key = ?",[we],function(){Ot()},function(An,Tn){vt(Tn)})})}).catch(vt)});return Me(At,nt),At},clear:function hi(we){var nt=this,$e=new ne(function(At,Ot){nt.ready().then(function(){var vt=nt._dbInfo;vt.db.transaction(function(un){ur(un,vt,"DELETE FROM "+vt.storeName,[],function(){At()},function(_n,An){Ot(An)})})}).catch(Ot)});return Me($e,we),$e},length:function ct(we){var nt=this,$e=new ne(function(At,Ot){nt.ready().then(function(){var vt=nt._dbInfo;vt.db.transaction(function(un){ur(un,vt,"SELECT COUNT(key) as c FROM "+vt.storeName,[],function(_n,An){var Tn=An.rows.item(0).c;At(Tn)},function(_n,An){Ot(An)})})}).catch(Ot)});return Me($e,we),$e},key:function fe(we,nt){var $e=this,At=new ne(function(Ot,vt){$e.ready().then(function(){var un=$e._dbInfo;un.db.transaction(function(_n){ur(_n,un,"SELECT key FROM "+un.storeName+" WHERE id = ? LIMIT 1",[we+1],function(An,Tn){var Sn=Tn.rows.length?Tn.rows.item(0).key:null;Ot(Sn)},function(An,Tn){vt(Tn)})})}).catch(vt)});return Me(At,nt),At},keys:function Ce(we){var nt=this,$e=new ne(function(At,Ot){nt.ready().then(function(){var vt=nt._dbInfo;vt.db.transaction(function(un){ur(un,vt,"SELECT key FROM "+vt.storeName,[],function(_n,An){for(var Tn=[],Sn=0;Sn<An.rows.length;Sn++)Tn.push(An.rows.item(Sn).key);At(Tn)},function(_n,An){Ot(An)})})}).catch(Ot)});return Me($e,we),$e},dropInstance:function ve(we,nt){nt=Je.apply(this,arguments);var $e=this.config();(we="function"!=typeof we&&we||{}).name||(we.name=we.name||$e.name,we.storeName=we.storeName||$e.storeName);var Ot,At=this;return Me(Ot=we.name?new ne(function(vt){var un;un=we.name===$e.name?At._dbInfo.db:openDatabase(we.name,"","",0),vt(we.storeName?{db:un,storeNames:[we.storeName]}:function ge(we){return new ne(function(nt,$e){we.transaction(function(At){At.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ot,vt){for(var un=[],_n=0;_n<vt.rows.length;_n++)un.push(vt.rows.item(_n).name);nt({db:we,storeNames:un})},function(Ot,vt){$e(vt)})},function(At){$e(At)})})}(un))}).then(function(vt){return new ne(function(un,_n){vt.db.transaction(function(An){function Tn(qr){return new ne(function(Tr,Ai){An.executeSql("DROP TABLE IF EXISTS "+qr,[],function(){Tr()},function(mi,Li){Ai(Li)})})}for(var Sn=[],or=0,Sr=vt.storeNames.length;or<Sr;or++)Sn.push(Tn(vt.storeNames[or]));ne.all(Sn).then(function(){un()}).catch(function(qr){_n(qr)})},function(An){_n(An)})})}):ne.reject("Invalid arguments"),nt),Ot}};function kn(we,nt){var $e=we.name+"/";return we.storeName!==nt.storeName&&($e+=we.storeName+"/"),$e}function yr(){return!function xn(){var we="_localforage_support_test";try{return localStorage.setItem(we,!0),localStorage.removeItem(we),!1}catch{return!0}}()||localStorage.length>0}var Ar={_driver:"localStorageWrapper",_initStorage:function tt(we){var $e={};if(we)for(var At in we)$e[At]=we[At];return $e.keyPrefix=kn(we,this._defaultConfig),yr()?(this._dbInfo=$e,$e.serializer=Ii,ne.resolve()):ne.reject()},_support:function tn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function Ct(we,nt){var $e=this,At=$e.ready().then(function(){for(var Ot=$e._dbInfo,vt=Ot.keyPrefix,un=vt.length,_n=localStorage.length,An=1,Tn=0;Tn<_n;Tn++){var Sn=localStorage.key(Tn);if(0===Sn.indexOf(vt)){var or=localStorage.getItem(Sn);if(or&&(or=Ot.serializer.deserialize(or)),void 0!==(or=we(or,Sn.substring(un),An++)))return or}}});return Me(At,nt),At},getItem:function dr(we,nt){var $e=this;we=Be(we);var At=$e.ready().then(function(){var Ot=$e._dbInfo,vt=localStorage.getItem(Ot.keyPrefix+we);return vt&&(vt=Ot.serializer.deserialize(vt)),vt});return Me(At,nt),At},setItem:function wn(we,nt,$e){var At=this;we=Be(we);var Ot=At.ready().then(function(){void 0===nt&&(nt=null);var vt=nt;return new ne(function(un,_n){var An=At._dbInfo;An.serializer.serialize(nt,function(Tn,Sn){if(Sn)_n(Sn);else try{localStorage.setItem(An.keyPrefix+we,Tn),un(vt)}catch(or){("QuotaExceededError"===or.name||"NS_ERROR_DOM_QUOTA_REACHED"===or.name)&&_n(or),_n(or)}})})});return Me(Ot,$e),Ot},removeItem:function En(we,nt){var $e=this;we=Be(we);var At=$e.ready().then(function(){localStorage.removeItem($e._dbInfo.keyPrefix+we)});return Me(At,nt),At},clear:function Qn(we){var nt=this,$e=nt.ready().then(function(){for(var At=nt._dbInfo.keyPrefix,Ot=localStorage.length-1;Ot>=0;Ot--){var vt=localStorage.key(Ot);0===vt.indexOf(At)&&localStorage.removeItem(vt)}});return Me($e,we),$e},length:function Qt(we){var $e=this.keys().then(function(At){return At.length});return Me($e,we),$e},key:function ot(we,nt){var $e=this,At=$e.ready().then(function(){var vt,Ot=$e._dbInfo;try{vt=localStorage.key(we)}catch{vt=null}return vt&&(vt=vt.substring(Ot.keyPrefix.length)),vt});return Me(At,nt),At},keys:function ht(we){var nt=this,$e=nt.ready().then(function(){for(var At=nt._dbInfo,Ot=localStorage.length,vt=[],un=0;un<Ot;un++){var _n=localStorage.key(un);0===_n.indexOf(At.keyPrefix)&&vt.push(_n.substring(At.keyPrefix.length))}return vt});return Me($e,we),$e},dropInstance:function On(we,nt){if(nt=Je.apply(this,arguments),!(we="function"!=typeof we&&we||{}).name){var $e=this.config();we.name=we.name||$e.name,we.storeName=we.storeName||$e.storeName}var Ot,At=this;return Me(Ot=we.name?new ne(function(vt){vt(we.storeName?kn(we,At._defaultConfig):we.name+"/")}).then(function(vt){for(var un=localStorage.length-1;un>=0;un--){var _n=localStorage.key(un);0===_n.indexOf(vt)&&localStorage.removeItem(_n)}}):ne.reject("Invalid arguments"),nt),Ot}},Nn=function(nt,$e){return nt===$e||"number"==typeof nt&&"number"==typeof $e&&isNaN(nt)&&isNaN($e)},oe=function(nt,$e){for(var At=nt.length,Ot=0;Ot<At;){if(Nn(nt[Ot],$e))return!0;Ot++}return!1},ee=Array.isArray||function(we){return"[object Array]"===Object.prototype.toString.call(we)},j={},le={},Qe={INDEXEDDB:Ir,WEBSQL:wt,LOCALSTORAGE:Ar},Pe=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],ft=["dropInstance"],$t=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ft),In={description:"",driver:Pe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Jn(we,nt){we[nt]=function(){var $e=arguments;return we.ready().then(function(){return we[nt].apply(we,$e)})}}function hr(){for(var we=1;we<arguments.length;we++){var nt=arguments[we];if(nt)for(var $e in nt)nt.hasOwnProperty($e)&&(arguments[0][$e]=ee(nt[$e])?nt[$e].slice():nt[$e])}return arguments[0]}var jr=function(){function we(nt){for(var $e in function Ee(we,nt){if(!(we instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,we),Qe)if(Qe.hasOwnProperty($e)){var At=Qe[$e],Ot=At._driver;this[$e]=Ot,j[Ot]||this.defineDriver(At)}this._defaultConfig=hr({},In),this._config=hr({},this._defaultConfig,nt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return we.prototype.config=function($e){if("object"===(typeof $e>"u"?"undefined":Ne($e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var At in $e){if("storeName"===At&&($e[At]=$e[At].replace(/\W/g,"_")),"version"===At&&"number"!=typeof $e[At])return new Error("Database version must be a number.");this._config[At]=$e[At]}return!("driver"in $e)||!$e.driver||this.setDriver(this._config.driver)}return"string"==typeof $e?this._config[$e]:this._config},we.prototype.defineDriver=function($e,At,Ot){var vt=new ne(function(un,_n){try{var An=$e._driver,Tn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!$e._driver)return void _n(Tn);for(var Sn=$t.concat("_initStorage"),or=0,Sr=Sn.length;or<Sr;or++){var qr=Sn[or];if((!oe(ft,qr)||$e[qr])&&"function"!=typeof $e[qr])return void _n(Tn)}!function(){for(var bo=function(po){return function(){var go=new Error("Method "+po+" is not implemented by the current driver"),Pr=ne.reject(go);return Me(Pr,arguments[arguments.length-1]),Pr}},Do=0,bi=ft.length;Do<bi;Do++){var $r=ft[Do];$e[$r]||($e[$r]=bo($r))}}();var mi=function(bo){j[An]&&console.info("Redefining LocalForage driver: "+An),j[An]=$e,le[An]=bo,un()};"_support"in $e?$e._support&&"function"==typeof $e._support?$e._support().then(mi,_n):mi(!!$e._support):mi(!0)}catch(Li){_n(Li)}});return Ve(vt,At,Ot),vt},we.prototype.driver=function(){return this._driver||null},we.prototype.getDriver=function($e,At,Ot){var vt=j[$e]?ne.resolve(j[$e]):ne.reject(new Error("Driver not found."));return Ve(vt,At,Ot),vt},we.prototype.getSerializer=function($e){var At=ne.resolve(Ii);return Ve(At,$e),At},we.prototype.ready=function($e){var At=this,Ot=At._driverSet.then(function(){return null===At._ready&&(At._ready=At._initDriver()),At._ready});return Ve(Ot,$e,$e),Ot},we.prototype.setDriver=function($e,At,Ot){var vt=this;ee($e)||($e=[$e]);var un=this._getSupportedDrivers($e);function _n(){vt._config.driver=vt.driver()}function An(or){return vt._extend(or),_n(),vt._ready=vt._initStorage(vt._config),vt._ready}var Sn=null!==this._driverSet?this._driverSet.catch(function(){return ne.resolve()}):ne.resolve();return this._driverSet=Sn.then(function(){var or=un[0];return vt._dbInfo=null,vt._ready=null,vt.getDriver(or).then(function(Sr){vt._driver=Sr._driver,_n(),vt._wrapLibraryMethodsWithReady(),vt._initDriver=function Tn(or){return function(){var Sr=0;return function qr(){for(;Sr<or.length;){var Tr=or[Sr];return Sr++,vt._dbInfo=null,vt._ready=null,vt.getDriver(Tr).then(An).catch(qr)}_n();var Ai=new Error("No available storage method found.");return vt._driverSet=ne.reject(Ai),vt._driverSet}()}}(un)})}).catch(function(){_n();var or=new Error("No available storage method found.");return vt._driverSet=ne.reject(or),vt._driverSet}),Ve(this._driverSet,At,Ot),this._driverSet},we.prototype.supports=function($e){return!!le[$e]},we.prototype._extend=function($e){hr(this,$e)},we.prototype._getSupportedDrivers=function($e){for(var At=[],Ot=0,vt=$e.length;Ot<vt;Ot++){var un=$e[Ot];this.supports(un)&&At.push(un)}return At},we.prototype._wrapLibraryMethodsWithReady=function(){for(var $e=0,At=$t.length;$e<At;$e++)Jn(this,$t[$e])},we.prototype.createInstance=function($e){return new we($e)},we}(),ar=new jr;se.exports=ar},{3:3}]},{},[4])(4)},5619:(bn,gt,A)=>{"use strict";A.d(gt,{X:()=>$});var a=A(8645);class $ extends a.x{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const Ne=super._subscribe(M);return!Ne.closed&&M.next(this._value),Ne}getValue(){const{hasError:M,thrownError:Ne,_value:Ee}=this;if(M)throw Ne;return this._throwIfClosed(),Ee}next(M){super.next(this._value=M)}}},5592:(bn,gt,A)=>{"use strict";A.d(gt,{y:()=>Le});var a=A(305),$=A(7394),se=A(4850),M=A(8407),Ne=A(2653),Ee=A(4674),pe=A(1441);let Le=(()=>{class Me{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Je=new Me;return Je.source=this,Je.operator=Be,Je}subscribe(Be,Je,He){const lt=function ne(Me){return Me&&Me instanceof a.Lv||function ye(Me){return Me&&(0,Ee.m)(Me.next)&&(0,Ee.m)(Me.error)&&(0,Ee.m)(Me.complete)}(Me)&&(0,$.Nn)(Me)}(Be)?Be:new a.Hp(Be,Je,He);return(0,pe.x)(()=>{const{operator:xe,source:Et}=this;lt.add(xe?xe.call(lt,Et):Et?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Je){Be.error(Je)}}forEach(Be,Je){return new(Je=je(Je))((He,lt)=>{const xe=new a.Hp({next:Et=>{try{Be(Et)}catch(De){lt(De),xe.unsubscribe()}},error:lt,complete:He});this.subscribe(xe)})}_subscribe(Be){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Be)}[se.L](){return this}pipe(...Be){return(0,M.U)(Be)(this)}toPromise(Be){return new(Be=je(Be))((Je,He)=>{let lt;this.subscribe(xe=>lt=xe,xe=>He(xe),()=>Je(lt))})}}return Me.create=Ve=>new Me(Ve),Me})();function je(Me){var Ve;return null!==(Ve=Me??Ne.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(bn,gt,A)=>{"use strict";A.d(gt,{x:()=>pe});var a=A(5592),$=A(7394);const M=(0,A(2306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=A(9039),Ee=A(1441);let pe=(()=>{class je extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const Me=new Le(this,this);return Me.operator=ne,Me}_throwIfClosed(){if(this.closed)throw new M}next(ne){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ne)}})}error(ne){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ne)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:Me,isStopped:Ve,observers:Be}=this;return Me||Ve?$.Lc:(this.currentObservers=null,Be.push(ne),new $.w0(()=>{this.currentObservers=null,(0,Ne.P)(Be,ne)}))}_checkFinalizedStatuses(ne){const{hasError:Me,thrownError:Ve,isStopped:Be}=this;Me?ne.error(Ve):Be&&ne.complete()}asObservable(){const ne=new a.y;return ne.source=this,ne}}return je.create=(ye,ne)=>new Le(ye,ne),je})();class Le extends pe{constructor(ye,ne){super(),this.destination=ye,this.source=ne}next(ye){var ne,Me;null===(Me=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===Me||Me.call(ne,ye)}error(ye){var ne,Me;null===(Me=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===Me||Me.call(ne,ye)}complete(){var ye,ne;null===(ne=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===ne||ne.call(ye)}_subscribe(ye){var ne,Me;return null!==(Me=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(ye))&&void 0!==Me?Me:$.Lc}}},305:(bn,gt,A)=>{"use strict";A.d(gt,{Hp:()=>He,Lv:()=>Me});var a=A(4674),$=A(7394),se=A(2653),M=A(3894),Ne=A(2420);const Ee=je("C",void 0,void 0);function je(Te,Re,he){return{kind:Te,value:Re,error:he}}var ye=A(7599),ne=A(1441);class Me extends $.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,$.Nn)(Re)&&Re.add(this)):this.destination=De}static create(Re,he,Fe){return new He(Re,he,Fe)}next(Re){this.isStopped?Et(function Le(Te){return je("N",Te,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Et(function pe(Te){return je("E",void 0,Te)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Et(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Be(Te,Re){return Ve.call(Te,Re)}class Je{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:he}=this;if(he.next)try{he.next(Re)}catch(Fe){lt(Fe)}}error(Re){const{partialObserver:he}=this;if(he.error)try{he.error(Re)}catch(Fe){lt(Fe)}else lt(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(he){lt(he)}}}class He extends Me{constructor(Re,he,Fe){let st;if(super(),(0,a.m)(Re)||!Re)st={next:Re??void 0,error:he??void 0,complete:Fe??void 0};else{let Ze;this&&se.config.useDeprecatedNextContext?(Ze=Object.create(Re),Ze.unsubscribe=()=>this.unsubscribe(),st={next:Re.next&&Be(Re.next,Ze),error:Re.error&&Be(Re.error,Ze),complete:Re.complete&&Be(Re.complete,Ze)}):st=Re}this.destination=new Je(st)}}function lt(Te){se.config.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Te):(0,M.h)(Te)}function Et(Te,Re){const{onStoppedNotification:he}=se.config;he&&ye.z.setTimeout(()=>he(Te,Re))}const De={closed:!0,next:Ne.Z,error:function xe(Te){throw Te},complete:Ne.Z}},7394:(bn,gt,A)=>{"use strict";A.d(gt,{Lc:()=>Ee,w0:()=>Ne,Nn:()=>pe});var a=A(4674);const se=(0,A(2306).d)(je=>function(ne){je(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((Me,Ve)=>`${Ve+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var M=A(9039);class Ne{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Be of ne)Be.remove(this);else ne.remove(this);const{initialTeardown:Me}=this;if((0,a.m)(Me))try{Me()}catch(Be){ye=Be instanceof se?Be.errors:[Be]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Be of Ve)try{Le(Be)}catch(Je){ye=ye??[],Je instanceof se?ye=[...ye,...Je.errors]:ye.push(Je)}}if(ye)throw new se(ye)}}add(ye){var ne;if(ye&&ye!==this)if(this.closed)Le(ye);else{if(ye instanceof Ne){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(ye)}}_hasParent(ye){const{_parentage:ne}=this;return ne===ye||Array.isArray(ne)&&ne.includes(ye)}_addParent(ye){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(ye),ne):ne?[ne,ye]:ye}_removeParent(ye){const{_parentage:ne}=this;ne===ye?this._parentage=null:Array.isArray(ne)&&(0,M.P)(ne,ye)}remove(ye){const{_finalizers:ne}=this;ne&&(0,M.P)(ne,ye),ye instanceof Ne&&ye._removeParent(this)}}Ne.EMPTY=(()=>{const je=new Ne;return je.closed=!0,je})();const Ee=Ne.EMPTY;function pe(je){return je instanceof Ne||je&&"closed"in je&&(0,a.m)(je.remove)&&(0,a.m)(je.add)&&(0,a.m)(je.unsubscribe)}function Le(je){(0,a.m)(je)?je():je.unsubscribe()}},2653:(bn,gt,A)=>{"use strict";A.d(gt,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(bn,gt,A)=>{"use strict";A.d(gt,{a:()=>ye});var a=A(5592),$=A(7453),se=A(2459),M=A(2737),Ne=A(7400),Ee=A(4564),pe=A(2714),Le=A(8251),je=A(7103);function ye(...Ve){const Be=(0,Ee.yG)(Ve),Je=(0,Ee.jO)(Ve),{args:He,keys:lt}=(0,$.D)(Ve);if(0===He.length)return(0,se.D)([],Be);const xe=new a.y(function ne(Ve,Be,Je=M.y){return He=>{Me(Be,()=>{const{length:lt}=Ve,xe=new Array(lt);let Et=lt,De=lt;for(let Te=0;Te<lt;Te++)Me(Be,()=>{const Re=(0,se.D)(Ve[Te],Be);let he=!1;Re.subscribe((0,Le.x)(He,Fe=>{xe[Te]=Fe,he||(he=!0,De--),De||He.next(Je(xe.slice()))},()=>{--Et||He.complete()}))},He)},He)}}(He,Be,lt?Et=>(0,pe.n)(lt,Et):M.y));return Je?xe.pipe((0,Ne.Z)(Je)):xe}function Me(Ve,Be,Je){Ve?(0,je.f)(Je,Ve,Be):Be()}},5211:(bn,gt,A)=>{"use strict";A.d(gt,{z:()=>Ne});var a=A(7537),se=A(4564),M=A(2459);function Ne(...Ee){return function $(){return(0,a.J)(1)}()((0,M.D)(Ee,(0,se.yG)(Ee)))}},6232:(bn,gt,A)=>{"use strict";A.d(gt,{E:()=>$});const $=new(A(5592).y)(Ne=>Ne.complete())},2459:(bn,gt,A)=>{"use strict";A.d(gt,{D:()=>Re});var a=A(4829),$=A(3093),se=A(5137),Ee=A(5592),Le=A(4971),je=A(4674),ye=A(7103);function Me(he,Fe){if(!he)throw new Error("Iterable cannot be null");return new Ee.y(st=>{(0,ye.f)(st,Fe,()=>{const Ze=he[Symbol.asyncIterator]();(0,ye.f)(st,Fe,()=>{Ze.next().then(Lt=>{Lt.done?st.complete():st.next(Lt.value)})},0,!0)})})}var Ve=A(8382),Be=A(4026),Je=A(4266),He=A(3664),lt=A(5726),xe=A(9853),Et=A(541);function Re(he,Fe){return Fe?function Te(he,Fe){if(null!=he){if((0,Ve.c)(he))return function M(he,Fe){return(0,a.Xf)(he).pipe((0,se.R)(Fe),(0,$.Q)(Fe))}(he,Fe);if((0,Je.z)(he))return function pe(he,Fe){return new Ee.y(st=>{let Ze=0;return Fe.schedule(function(){Ze===he.length?st.complete():(st.next(he[Ze++]),st.closed||this.schedule())})})}(he,Fe);if((0,Be.t)(he))return function Ne(he,Fe){return(0,a.Xf)(he).pipe((0,se.R)(Fe),(0,$.Q)(Fe))}(he,Fe);if((0,lt.D)(he))return Me(he,Fe);if((0,He.T)(he))return function ne(he,Fe){return new Ee.y(st=>{let Ze;return(0,ye.f)(st,Fe,()=>{Ze=he[Le.h](),(0,ye.f)(st,Fe,()=>{let Lt,Ge;try{({value:Lt,done:Ge}=Ze.next())}catch(qt){return void st.error(qt)}Ge?st.complete():st.next(Lt)},0,!0)}),()=>(0,je.m)(Ze?.return)&&Ze.return()})}(he,Fe);if((0,Et.L)(he))return function De(he,Fe){return Me((0,Et.Q)(he),Fe)}(he,Fe)}throw(0,xe.z)(he)}(he,Fe):(0,a.Xf)(he)}},2438:(bn,gt,A)=>{"use strict";A.d(gt,{R:()=>ye});var a=A(4829),$=A(5592),se=A(1631),M=A(4266),Ne=A(4674),Ee=A(7400);const pe=["addListener","removeListener"],Le=["addEventListener","removeEventListener"],je=["on","off"];function ye(Je,He,lt,xe){if((0,Ne.m)(lt)&&(xe=lt,lt=void 0),xe)return ye(Je,He,lt).pipe((0,Ee.Z)(xe));const[Et,De]=function Be(Je){return(0,Ne.m)(Je.addEventListener)&&(0,Ne.m)(Je.removeEventListener)}(Je)?Le.map(Te=>Re=>Je[Te](He,Re,lt)):function Me(Je){return(0,Ne.m)(Je.addListener)&&(0,Ne.m)(Je.removeListener)}(Je)?pe.map(ne(Je,He)):function Ve(Je){return(0,Ne.m)(Je.on)&&(0,Ne.m)(Je.off)}(Je)?je.map(ne(Je,He)):[];if(!Et&&(0,M.z)(Je))return(0,se.z)(Te=>ye(Te,He,lt))((0,a.Xf)(Je));if(!Et)throw new TypeError("Invalid event target");return new $.y(Te=>{const Re=(...he)=>Te.next(1<he.length?he:he[0]);return Et(Re),()=>De(Re)})}function ne(Je,He){return lt=>xe=>Je[lt](He,xe)}},4829:(bn,gt,A)=>{"use strict";A.d(gt,{Xf:()=>Ve});var a=A(7582),$=A(4266),se=A(4026),M=A(5592),Ne=A(8382),Ee=A(5726),pe=A(9853),Le=A(3664),je=A(541),ye=A(4674),ne=A(3894),Me=A(4850);function Ve(Te){if(Te instanceof M.y)return Te;if(null!=Te){if((0,Ne.c)(Te))return function Be(Te){return new M.y(Re=>{const he=Te[Me.L]();if((0,ye.m)(he.subscribe))return he.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,$.z)(Te))return function Je(Te){return new M.y(Re=>{for(let he=0;he<Te.length&&!Re.closed;he++)Re.next(Te[he]);Re.complete()})}(Te);if((0,se.t)(Te))return function He(Te){return new M.y(Re=>{Te.then(he=>{Re.closed||(Re.next(he),Re.complete())},he=>Re.error(he)).then(null,ne.h)})}(Te);if((0,Ee.D)(Te))return xe(Te);if((0,Le.T)(Te))return function lt(Te){return new M.y(Re=>{for(const he of Te)if(Re.next(he),Re.closed)return;Re.complete()})}(Te);if((0,je.L)(Te))return function Et(Te){return xe((0,je.Q)(Te))}(Te)}throw(0,pe.z)(Te)}function xe(Te){return new M.y(Re=>{(function De(Te,Re){var he,Fe,st,Ze;return(0,a.mG)(this,void 0,void 0,function*(){try{for(he=(0,a.KL)(Te);!(Fe=yield he.next()).done;)if(Re.next(Fe.value),Re.closed)return}catch(Lt){st={error:Lt}}finally{try{Fe&&!Fe.done&&(Ze=he.return)&&(yield Ze.call(he))}finally{if(st)throw st.error}}Re.complete()})})(Te,Re).catch(he=>Re.error(he))})}},3019:(bn,gt,A)=>{"use strict";A.d(gt,{T:()=>Ee});var a=A(7537),$=A(4829),se=A(6232),M=A(4564),Ne=A(2459);function Ee(...pe){const Le=(0,M.yG)(pe),je=(0,M._6)(pe,1/0),ye=pe;return ye.length?1===ye.length?(0,$.Xf)(ye[0]):(0,a.J)(je)((0,Ne.D)(ye,Le)):se.E}},2096:(bn,gt,A)=>{"use strict";A.d(gt,{of:()=>se});var a=A(4564),$=A(2459);function se(...M){const Ne=(0,a.yG)(M);return(0,$.D)(M,Ne)}},8504:(bn,gt,A)=>{"use strict";A.d(gt,{_:()=>se});var a=A(5592),$=A(4674);function se(M,Ne){const Ee=(0,$.m)(M)?M:()=>M,pe=Le=>Le.error(Ee());return new a.y(Ne?Le=>Ne.schedule(pe,0,Le):pe)}},8251:(bn,gt,A)=>{"use strict";A.d(gt,{x:()=>$});var a=A(305);function $(M,Ne,Ee,pe,Le){return new se(M,Ne,Ee,pe,Le)}class se extends a.Lv{constructor(Ne,Ee,pe,Le,je,ye){super(Ne),this.onFinalize=je,this.shouldUnsubscribe=ye,this._next=Ee?function(ne){try{Ee(ne)}catch(Me){Ne.error(Me)}}:super._next,this._error=Le?function(ne){try{Le(ne)}catch(Me){Ne.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(ne){Ne.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Ne=this.onFinalize)||void 0===Ne||Ne.call(this))}}}},6328:(bn,gt,A)=>{"use strict";A.d(gt,{b:()=>se});var a=A(1631),$=A(4674);function se(M,Ne){return(0,$.m)(Ne)?(0,a.z)(M,Ne,1):(0,a.z)(M,1)}},3572:(bn,gt,A)=>{"use strict";A.d(gt,{d:()=>se});var a=A(9360),$=A(8251);function se(M){return(0,a.e)((Ne,Ee)=>{let pe=!1;Ne.subscribe((0,$.x)(Ee,Le=>{pe=!0,Ee.next(Le)},()=>{pe||Ee.next(M),Ee.complete()}))})}},3997:(bn,gt,A)=>{"use strict";A.d(gt,{x:()=>M});var a=A(2737),$=A(9360),se=A(8251);function M(Ee,pe=a.y){return Ee=Ee??Ne,(0,$.e)((Le,je)=>{let ye,ne=!0;Le.subscribe((0,se.x)(je,Me=>{const Ve=pe(Me);(ne||!Ee(ye,Ve))&&(ne=!1,ye=Ve,je.next(Me))}))})}function Ne(Ee,pe){return Ee===pe}},2181:(bn,gt,A)=>{"use strict";A.d(gt,{h:()=>se});var a=A(9360),$=A(8251);function se(M,Ne){return(0,a.e)((Ee,pe)=>{let Le=0;Ee.subscribe((0,$.x)(pe,je=>M.call(Ne,je,Le++)&&pe.next(je)))})}},4716:(bn,gt,A)=>{"use strict";A.d(gt,{x:()=>$});var a=A(9360);function $(se){return(0,a.e)((M,Ne)=>{try{M.subscribe(Ne)}finally{Ne.add(se)}})}},1374:(bn,gt,A)=>{"use strict";A.d(gt,{P:()=>pe});var a=A(6973),$=A(2181),se=A(8180),M=A(3572),Ne=A(3026),Ee=A(2737);function pe(Le,je){const ye=arguments.length>=2;return ne=>ne.pipe(Le?(0,$.h)((Me,Ve)=>Le(Me,Ve,ne)):Ee.y,(0,se.q)(1),ye?(0,M.d)(je):(0,Ne.T)(()=>new a.K))}},7398:(bn,gt,A)=>{"use strict";A.d(gt,{U:()=>se});var a=A(9360),$=A(8251);function se(M,Ne){return(0,a.e)((Ee,pe)=>{let Le=0;Ee.subscribe((0,$.x)(pe,je=>{pe.next(M.call(Ne,je,Le++))}))})}},7537:(bn,gt,A)=>{"use strict";A.d(gt,{J:()=>se});var a=A(1631),$=A(2737);function se(M=1/0){return(0,a.z)($.y,M)}},1631:(bn,gt,A)=>{"use strict";A.d(gt,{z:()=>Le});var a=A(7398),$=A(4829),se=A(9360),M=A(7103),Ne=A(8251),pe=A(4674);function Le(je,ye,ne=1/0){return(0,pe.m)(ye)?Le((Me,Ve)=>(0,a.U)((Be,Je)=>ye(Me,Be,Ve,Je))((0,$.Xf)(je(Me,Ve))),ne):("number"==typeof ye&&(ne=ye),(0,se.e)((Me,Ve)=>function Ee(je,ye,ne,Me,Ve,Be,Je,He){const lt=[];let xe=0,Et=0,De=!1;const Te=()=>{De&&!lt.length&&!xe&&ye.complete()},Re=Fe=>xe<Me?he(Fe):lt.push(Fe),he=Fe=>{Be&&ye.next(Fe),xe++;let st=!1;(0,$.Xf)(ne(Fe,Et++)).subscribe((0,Ne.x)(ye,Ze=>{Ve?.(Ze),Be?Re(Ze):ye.next(Ze)},()=>{st=!0},void 0,()=>{if(st)try{for(xe--;lt.length&&xe<Me;){const Ze=lt.shift();Je?(0,M.f)(ye,Je,()=>he(Ze)):he(Ze)}Te()}catch(Ze){ye.error(Ze)}}))};return je.subscribe((0,Ne.x)(ye,Re,()=>{De=!0,Te()})),()=>{He?.()}}(Me,Ve,je,ne)))}},3093:(bn,gt,A)=>{"use strict";A.d(gt,{Q:()=>M});var a=A(7103),$=A(9360),se=A(8251);function M(Ne,Ee=0){return(0,$.e)((pe,Le)=>{pe.subscribe((0,se.x)(Le,je=>(0,a.f)(Le,Ne,()=>Le.next(je),Ee),()=>(0,a.f)(Le,Ne,()=>Le.complete(),Ee),je=>(0,a.f)(Le,Ne,()=>Le.error(je),Ee)))})}},6699:(bn,gt,A)=>{"use strict";A.d(gt,{R:()=>M});var a=A(9360),$=A(8251);function M(Ne,Ee){return(0,a.e)(function se(Ne,Ee,pe,Le,je){return(ye,ne)=>{let Me=pe,Ve=Ee,Be=0;ye.subscribe((0,$.x)(ne,Je=>{const He=Be++;Ve=Me?Ne(Ve,Je,He):(Me=!0,Je),Le&&ne.next(Ve)},je&&(()=>{Me&&ne.next(Ve),ne.complete()})))}}(Ne,Ee,arguments.length>=2,!0))}},3020:(bn,gt,A)=>{"use strict";A.d(gt,{B:()=>Ne});var a=A(4829),$=A(8645),se=A(305),M=A(9360);function Ne(pe={}){const{connector:Le=(()=>new $.x),resetOnError:je=!0,resetOnComplete:ye=!0,resetOnRefCountZero:ne=!0}=pe;return Me=>{let Ve,Be,Je,He=0,lt=!1,xe=!1;const Et=()=>{Be?.unsubscribe(),Be=void 0},De=()=>{Et(),Ve=Je=void 0,lt=xe=!1},Te=()=>{const Re=Ve;De(),Re?.unsubscribe()};return(0,M.e)((Re,he)=>{He++,!xe&&!lt&&Et();const Fe=Je=Je??Le();he.add(()=>{He--,0===He&&!xe&&!lt&&(Be=Ee(Te,ne))}),Fe.subscribe(he),!Ve&&He>0&&(Ve=new se.Hp({next:st=>Fe.next(st),error:st=>{xe=!0,Et(),Be=Ee(De,je,st),Fe.error(st)},complete:()=>{lt=!0,Et(),Be=Ee(De,ye),Fe.complete()}}),(0,a.Xf)(Re).subscribe(Ve))})(Me)}}function Ee(pe,Le,...je){if(!0===Le)return void pe();if(!1===Le)return;const ye=new se.Hp({next:()=>{ye.unsubscribe(),pe()}});return(0,a.Xf)(Le(...je)).subscribe(ye)}},7921:(bn,gt,A)=>{"use strict";A.d(gt,{O:()=>M});var a=A(5211),$=A(4564),se=A(9360);function M(...Ne){const Ee=(0,$.yG)(Ne);return(0,se.e)((pe,Le)=>{(Ee?(0,a.z)(Ne,pe,Ee):(0,a.z)(Ne,pe)).subscribe(Le)})}},5137:(bn,gt,A)=>{"use strict";A.d(gt,{R:()=>$});var a=A(9360);function $(se,M=0){return(0,a.e)((Ne,Ee)=>{Ee.add(se.schedule(()=>Ne.subscribe(Ee),M))})}},4664:(bn,gt,A)=>{"use strict";A.d(gt,{w:()=>M});var a=A(4829),$=A(9360),se=A(8251);function M(Ne,Ee){return(0,$.e)((pe,Le)=>{let je=null,ye=0,ne=!1;const Me=()=>ne&&!je&&Le.complete();pe.subscribe((0,se.x)(Le,Ve=>{je?.unsubscribe();let Be=0;const Je=ye++;(0,a.Xf)(Ne(Ve,Je)).subscribe(je=(0,se.x)(Le,He=>Le.next(Ee?Ee(Ve,He,Je,Be++):He),()=>{je=null,Me()}))},()=>{ne=!0,Me()}))})}},8180:(bn,gt,A)=>{"use strict";A.d(gt,{q:()=>M});var a=A(6232),$=A(9360),se=A(8251);function M(Ne){return Ne<=0?()=>a.E:(0,$.e)((Ee,pe)=>{let Le=0;Ee.subscribe((0,se.x)(pe,je=>{++Le<=Ne&&(pe.next(je),Ne<=Le&&pe.complete())}))})}},9773:(bn,gt,A)=>{"use strict";A.d(gt,{R:()=>Ne});var a=A(9360),$=A(8251),se=A(4829),M=A(2420);function Ne(Ee){return(0,a.e)((pe,Le)=>{(0,se.Xf)(Ee).subscribe((0,$.x)(Le,()=>Le.complete(),M.Z)),!Le.closed&&pe.subscribe(Le)})}},9397:(bn,gt,A)=>{"use strict";A.d(gt,{b:()=>Ne});var a=A(4674),$=A(9360),se=A(8251),M=A(2737);function Ne(Ee,pe,Le){const je=(0,a.m)(Ee)||pe||Le?{next:Ee,error:pe,complete:Le}:Ee;return je?(0,$.e)((ye,ne)=>{var Me;null===(Me=je.subscribe)||void 0===Me||Me.call(je);let Ve=!0;ye.subscribe((0,se.x)(ne,Be=>{var Je;null===(Je=je.next)||void 0===Je||Je.call(je,Be),ne.next(Be)},()=>{var Be;Ve=!1,null===(Be=je.complete)||void 0===Be||Be.call(je),ne.complete()},Be=>{var Je;Ve=!1,null===(Je=je.error)||void 0===Je||Je.call(je,Be),ne.error(Be)},()=>{var Be,Je;Ve&&(null===(Be=je.unsubscribe)||void 0===Be||Be.call(je)),null===(Je=je.finalize)||void 0===Je||Je.call(je)}))}):M.y}},3026:(bn,gt,A)=>{"use strict";A.d(gt,{T:()=>M});var a=A(6973),$=A(9360),se=A(8251);function M(Ee=Ne){return(0,$.e)((pe,Le)=>{let je=!1;pe.subscribe((0,se.x)(Le,ye=>{je=!0,Le.next(ye)},()=>je?Le.complete():Le.error(Ee())))})}function Ne(){return new a.K}},1954:(bn,gt,A)=>{"use strict";A.d(gt,{o:()=>Ne});var a=A(7394);class $ extends a.w0{constructor(pe,Le){super()}schedule(pe,Le=0){return this}}const se={setInterval(Ee,pe,...Le){const{delegate:je}=se;return je?.setInterval?je.setInterval(Ee,pe,...Le):setInterval(Ee,pe,...Le)},clearInterval(Ee){const{delegate:pe}=se;return(pe?.clearInterval||clearInterval)(Ee)},delegate:void 0};var M=A(9039);class Ne extends ${constructor(pe,Le){super(pe,Le),this.scheduler=pe,this.work=Le,this.pending=!1}schedule(pe,Le=0){var je;if(this.closed)return this;this.state=pe;const ye=this.id,ne=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(ne,ye,Le)),this.pending=!0,this.delay=Le,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(ne,this.id,Le),this}requestAsyncId(pe,Le,je=0){return se.setInterval(pe.flush.bind(pe,this),je)}recycleAsyncId(pe,Le,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Le;null!=Le&&se.clearInterval(Le)}execute(pe,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(pe,Le);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Le){let ye,je=!1;try{this.work(pe)}catch(ne){je=!0,ye=ne||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Le}=this,{actions:je}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,M.P)(je,this),null!=pe&&(this.id=this.recycleAsyncId(Le,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(bn,gt,A)=>{"use strict";A.d(gt,{v:()=>se});var a=A(4552);class ${constructor(Ne,Ee=$.now){this.schedulerActionCtor=Ne,this.now=Ee}schedule(Ne,Ee=0,pe){return new this.schedulerActionCtor(this,Ne).schedule(pe,Ee)}}$.now=a.l.now;class se extends ${constructor(Ne,Ee=$.now){super(Ne,Ee),this.actions=[],this._active=!1}flush(Ne){const{actions:Ee}=this;if(this._active)return void Ee.push(Ne);let pe;this._active=!0;do{if(pe=Ne.execute(Ne.state,Ne.delay))break}while(Ne=Ee.shift());if(this._active=!1,pe){for(;Ne=Ee.shift();)Ne.unsubscribe();throw pe}}}},6321:(bn,gt,A)=>{"use strict";A.d(gt,{z:()=>se});var a=A(1954);const se=new(A(2631).v)(a.o)},4552:(bn,gt,A)=>{"use strict";A.d(gt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(bn,gt,A)=>{"use strict";A.d(gt,{z:()=>a});const a={setTimeout($,se,...M){const{delegate:Ne}=a;return Ne?.setTimeout?Ne.setTimeout($,se,...M):setTimeout($,se,...M)},clearTimeout($){const{delegate:se}=a;return(se?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(bn,gt,A)=>{"use strict";A.d(gt,{h:()=>$});const $=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bn,gt,A)=>{"use strict";A.d(gt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(bn,gt,A)=>{"use strict";A.d(gt,{K:()=>$});const $=(0,A(2306).d)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(bn,gt,A)=>{"use strict";A.d(gt,{_6:()=>Ee,jO:()=>M,yG:()=>Ne});var a=A(4674);function se(pe){return pe[pe.length-1]}function M(pe){return(0,a.m)(se(pe))?pe.pop():void 0}function Ne(pe){return function $(pe){return pe&&(0,a.m)(pe.schedule)}(se(pe))?pe.pop():void 0}function Ee(pe,Le){return"number"==typeof se(pe)?pe.pop():Le}},7453:(bn,gt,A)=>{"use strict";A.d(gt,{D:()=>Ne});const{isArray:a}=Array,{getPrototypeOf:$,prototype:se,keys:M}=Object;function Ne(pe){if(1===pe.length){const Le=pe[0];if(a(Le))return{args:Le,keys:null};if(function Ee(pe){return pe&&"object"==typeof pe&&$(pe)===se}(Le)){const je=M(Le);return{args:je.map(ye=>Le[ye]),keys:je}}}return{args:pe,keys:null}}},9039:(bn,gt,A)=>{"use strict";function a($,se){if($){const M=$.indexOf(se);0<=M&&$.splice(M,1)}}A.d(gt,{P:()=>a})},2306:(bn,gt,A)=>{"use strict";function a($){const M=$(Ne=>{Error.call(Ne),Ne.stack=(new Error).stack});return M.prototype=Object.create(Error.prototype),M.prototype.constructor=M,M}A.d(gt,{d:()=>a})},2714:(bn,gt,A)=>{"use strict";function a($,se){return $.reduce((M,Ne,Ee)=>(M[Ne]=se[Ee],M),{})}A.d(gt,{n:()=>a})},1441:(bn,gt,A)=>{"use strict";A.d(gt,{O:()=>M,x:()=>se});var a=A(2653);let $=null;function se(Ne){if(a.config.useDeprecatedSynchronousErrorHandling){const Ee=!$;if(Ee&&($={errorThrown:!1,error:null}),Ne(),Ee){const{errorThrown:pe,error:Le}=$;if($=null,pe)throw Le}}else Ne()}function M(Ne){a.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=Ne)}},7103:(bn,gt,A)=>{"use strict";function a($,se,M,Ne=0,Ee=!1){const pe=se.schedule(function(){M(),Ee?$.add(this.schedule(null,Ne)):this.unsubscribe()},Ne);if($.add(pe),!Ee)return pe}A.d(gt,{f:()=>a})},2737:(bn,gt,A)=>{"use strict";function a($){return $}A.d(gt,{y:()=>a})},4266:(bn,gt,A)=>{"use strict";A.d(gt,{z:()=>a});const a=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(bn,gt,A)=>{"use strict";A.d(gt,{D:()=>$});var a=A(4674);function $(se){return Symbol.asyncIterator&&(0,a.m)(se?.[Symbol.asyncIterator])}},4674:(bn,gt,A)=>{"use strict";function a($){return"function"==typeof $}A.d(gt,{m:()=>a})},8382:(bn,gt,A)=>{"use strict";A.d(gt,{c:()=>se});var a=A(4850),$=A(4674);function se(M){return(0,$.m)(M[a.L])}},3664:(bn,gt,A)=>{"use strict";A.d(gt,{T:()=>se});var a=A(4971),$=A(4674);function se(M){return(0,$.m)(M?.[a.h])}},4026:(bn,gt,A)=>{"use strict";A.d(gt,{t:()=>$});var a=A(4674);function $(se){return(0,a.m)(se?.then)}},541:(bn,gt,A)=>{"use strict";A.d(gt,{L:()=>M,Q:()=>se});var a=A(7582),$=A(4674);function se(Ne){return(0,a.FC)(this,arguments,function*(){const pe=Ne.getReader();try{for(;;){const{value:Le,done:je}=yield(0,a.qq)(pe.read());if(je)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Le)}}finally{pe.releaseLock()}})}function M(Ne){return(0,$.m)(Ne?.getReader)}},9360:(bn,gt,A)=>{"use strict";A.d(gt,{A:()=>$,e:()=>se});var a=A(4674);function $(M){return(0,a.m)(M?.lift)}function se(M){return Ne=>{if($(Ne))return Ne.lift(function(Ee){try{return M(Ee,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bn,gt,A)=>{"use strict";A.d(gt,{Z:()=>M});var a=A(7398);const{isArray:$}=Array;function M(Ne){return(0,a.U)(Ee=>function se(Ne,Ee){return $(Ee)?Ne(...Ee):Ne(Ee)}(Ne,Ee))}},2420:(bn,gt,A)=>{"use strict";function a(){}A.d(gt,{Z:()=>a})},8407:(bn,gt,A)=>{"use strict";A.d(gt,{U:()=>se,z:()=>$});var a=A(2737);function $(...M){return se(M)}function se(M){return 0===M.length?a.y:1===M.length?M[0]:function(Ee){return M.reduce((pe,Le)=>Le(pe),Ee)}}},3894:(bn,gt,A)=>{"use strict";A.d(gt,{h:()=>se});var a=A(2653),$=A(7599);function se(M){$.z.setTimeout(()=>{const{onUnhandledError:Ne}=a.config;if(!Ne)throw M;Ne(M)})}},9853:(bn,gt,A)=>{"use strict";function a($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(gt,{z:()=>a})},863:(bn,gt,A)=>{var a={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,7225,433],"./ion-datetime_3.entry.js":[7059,7225,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input-password-toggle.entry.js":[1449,8592,1449],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[5584,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-option.entry.js":[5909,5909],"./ion-picker-column.entry.js":[7274,8592,7274],"./ion-picker.entry.js":[9134,9134],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function $(se){if(!A.o(a,se))return Promise.resolve().then(()=>{var Ee=new Error("Cannot find module '"+se+"'");throw Ee.code="MODULE_NOT_FOUND",Ee});var M=a[se],Ne=M[0];return Promise.all(M.slice(1).map(A.e)).then(()=>A(Ne))}$.keys=()=>Object.keys(a),$.id=863,bn.exports=$},6814:(bn,gt,A)=>{"use strict";A.d(gt,{Do:()=>He,EM:()=>xi,HT:()=>M,JF:()=>Ui,K0:()=>Ee,Mx:()=>Qe,O5:()=>nt,PM:()=>$n,S$:()=>Ve,V_:()=>Le,Ye:()=>lt,b0:()=>Je,bD:()=>Kt,ez:()=>St,mk:()=>$t,q:()=>se,sg:()=>jr,tP:()=>Sr,w_:()=>Ne});var a=A(5879);let $=null;function se(){return $}function M(w){$||($=w)}class Ne{}const Ee=new a.OlP("DocumentToken");let pe=(()=>{class w{historyGo(L){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||w)};static#t=this.\u0275prov=a.Yz7({token:w,factory:function(){return(0,a.f3M)(je)},providedIn:"platform"})}return w})();const Le=new a.OlP("Location Initialized");let je=(()=>{class w extends pe{constructor(){super(),this._doc=(0,a.f3M)(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(L){const J=se().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",L,!1),()=>J.removeEventListener("popstate",L)}onHashChange(L){const J=se().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",L,!1),()=>J.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,J,et){this._history.pushState(L,J,et)}replaceState(L,J,et){this._history.replaceState(L,J,et)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}static#e=this.\u0275fac=function(J){return new(J||w)};static#t=this.\u0275prov=a.Yz7({token:w,factory:function(){return new w},providedIn:"platform"})}return w})();function ye(w,ae){if(0==w.length)return ae;if(0==ae.length)return w;let L=0;return w.endsWith("/")&&L++,ae.startsWith("/")&&L++,2==L?w+ae.substring(1):1==L?w+ae:w+"/"+ae}function ne(w){const ae=w.match(/#|\?|$/),L=ae&&ae.index||w.length;return w.slice(0,L-("/"===w[L-1]?1:0))+w.slice(L)}function Me(w){return w&&"?"!==w[0]?"?"+w:w}let Ve=(()=>{class w{historyGo(L){throw new Error("Not implemented")}static#e=this.\u0275fac=function(J){return new(J||w)};static#t=this.\u0275prov=a.Yz7({token:w,factory:function(){return(0,a.f3M)(Je)},providedIn:"root"})}return w})();const Be=new a.OlP("appBaseHref");let Je=(()=>{class w extends Ve{constructor(L,J){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=J??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return ye(this._baseHref,L)}path(L=!1){const J=this._platformLocation.pathname+Me(this._platformLocation.search),et=this._platformLocation.hash;return et&&L?`${J}${et}`:J}pushState(L,J,et,Jt){const pn=this.prepareExternalUrl(et+Me(Jt));this._platformLocation.pushState(L,J,pn)}replaceState(L,J,et,Jt){const pn=this.prepareExternalUrl(et+Me(Jt));this._platformLocation.replaceState(L,J,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static#e=this.\u0275fac=function(J){return new(J||w)(a.LFG(pe),a.LFG(Be,8))};static#t=this.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),He=(()=>{class w extends Ve{constructor(L,J){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(L){const J=ye(this._baseHref,L);return J.length>0?"#"+J:J}pushState(L,J,et,Jt){let pn=this.prepareExternalUrl(et+Me(Jt));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.pushState(L,J,pn)}replaceState(L,J,et,Jt){let pn=this.prepareExternalUrl(et+Me(Jt));0==pn.length&&(pn=this._platformLocation.pathname),this._platformLocation.replaceState(L,J,pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static#e=this.\u0275fac=function(J){return new(J||w)(a.LFG(pe),a.LFG(Be,8))};static#t=this.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac})}return w})(),lt=(()=>{class w{constructor(L){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const J=this._locationStrategy.getBaseHref();this._basePath=function Te(w){if(new RegExp("^(https?:)?//").test(w)){const[,L]=w.split(/\/\/[^\/]+/);return L}return w}(ne(De(J))),this._locationStrategy.onPopState(et=>{this._subject.emit({url:this.path(!0),pop:!0,state:et.state,type:et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,J=""){return this.path()==this.normalize(L+Me(J))}normalize(L){return w.stripTrailingSlash(function Et(w,ae){if(!w||!ae.startsWith(w))return ae;const L=ae.substring(w.length);return""===L||["/",";","?","#"].includes(L[0])?L:ae}(this._basePath,De(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,J="",et=null){this._locationStrategy.pushState(et,"",L,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Me(J)),et)}replaceState(L,J="",et=null){this._locationStrategy.replaceState(et,"",L,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Me(J)),et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)})),()=>{const J=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(J,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",J){this._urlChangeListeners.forEach(et=>et(L,J))}subscribe(L,J,et){return this._subject.subscribe({next:L,error:J,complete:et})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ye;static#n=this.stripTrailingSlash=ne;static#r=this.\u0275fac=function(J){return new(J||w)(a.LFG(Ve))};static#i=this.\u0275prov=a.Yz7({token:w,factory:function(){return function xe(){return new lt((0,a.LFG)(Ve))}()},providedIn:"root"})}return w})();function De(w){return w.replace(/\/index.html$/,"")}function Qe(w,ae){ae=encodeURIComponent(ae);for(const L of w.split(";")){const J=L.indexOf("="),[et,Jt]=-1==J?[L,""]:[L.slice(0,J),L.slice(J+1)];if(et.trim()===ae)return decodeURIComponent(Jt)}return null}const Pe=/\s+/,ft=[];let $t=(()=>{class w{constructor(L,J,et,Jt){this._iterableDiffers=L,this._keyValueDiffers=J,this._ngEl=et,this._renderer=Jt,this.initialClasses=ft,this.stateMap=new Map}set klass(L){this.initialClasses=null!=L?L.trim().split(Pe):ft}set ngClass(L){this.rawClass="string"==typeof L?L.trim().split(Pe):L}ngDoCheck(){for(const J of this.initialClasses)this._updateState(J,!0);const L=this.rawClass;if(Array.isArray(L)||L instanceof Set)for(const J of L)this._updateState(J,!0);else if(null!=L)for(const J of Object.keys(L))this._updateState(J,!!L[J]);this._applyStateDiff()}_updateState(L,J){const et=this.stateMap.get(L);void 0!==et?(et.enabled!==J&&(et.changed=!0,et.enabled=J),et.touched=!0):this.stateMap.set(L,{enabled:J,changed:!0,touched:!0})}_applyStateDiff(){for(const L of this.stateMap){const J=L[0],et=L[1];et.changed?(this._toggleClass(J,et.enabled),et.changed=!1):et.touched||(et.enabled&&this._toggleClass(J,!1),this.stateMap.delete(J)),et.touched=!1}}_toggleClass(L,J){(L=L.trim()).length>0&&L.split(Pe).forEach(et=>{J?this._renderer.addClass(this._ngEl.nativeElement,et):this._renderer.removeClass(this._ngEl.nativeElement,et)})}static#e=this.\u0275fac=function(J){return new(J||w)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return w})();class hr{constructor(ae,L,J,et){this.$implicit=ae,this.ngForOf=L,this.index=J,this.count=et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class w{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,J,et){this._viewContainer=L,this._template=J,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const J=this._viewContainer;L.forEachOperation((et,Jt,pn)=>{if(null==et.previousIndex)J.createEmbeddedView(this._template,new hr(et.item,this._ngForOf,-1,-1),null===pn?void 0:pn);else if(null==pn)J.remove(null===Jt?void 0:Jt);else if(null!==Jt){const sr=J.get(Jt);J.move(sr,pn),ar(sr,et)}});for(let et=0,Jt=J.length;et<Jt;et++){const sr=J.get(et).context;sr.index=et,sr.count=Jt,sr.ngForOf=this._ngForOf}L.forEachIdentityChange(et=>{ar(J.get(et.currentIndex),et)})}static ngTemplateContextGuard(L,J){return!0}static#e=this.\u0275fac=function(J){return new(J||w)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return w})();function ar(w,ae){w.context.$implicit=ae.item}let nt=(()=>{class w{constructor(L,J){this._viewContainer=L,this._context=new $e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){At("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){At("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,J){return!0}static#e=this.\u0275fac=function(J){return new(J||w)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return w})();class $e{constructor(){this.$implicit=null,this.ngIf=null}}function At(w,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,a.AaK)(ae)}'.`)}let Sr=(()=>{class w{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const J=this._viewContainerRef;if(this._viewRef&&J.remove(J.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:et,ngTemplateOutletContext:Jt,ngTemplateOutletInjector:pn}=this;this._viewRef=J.createEmbeddedView(et,Jt,pn?{injector:pn}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(J){return new(J||w)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return w})(),St=(()=>{class w{static#e=this.\u0275fac=function(J){return new(J||w)};static#t=this.\u0275mod=a.oAB({type:w});static#n=this.\u0275inj=a.cJS({})}return w})();const Kt="browser",rn="server";function $n(w){return w===rn}let xi=(()=>{class w{static#e=this.\u0275prov=(0,a.Yz7)({token:w,providedIn:"root",factory:()=>new kr((0,a.LFG)(Ee),window)})}return w})();class kr{constructor(ae,L){this.document=ae,this.window=L,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const L=function Qi(w,ae){const L=w.getElementById(ae)||w.getElementsByName(ae)[0];if(L)return L;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const J=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let et=J.currentNode;for(;et;){const Jt=et.shadowRoot;if(Jt){const pn=Jt.getElementById(ae)||Jt.querySelector(`[name="${ae}"]`);if(pn)return pn}et=J.nextNode()}}return null}(this.document,ae);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(ae){this.supportsScrolling()&&(this.window.history.scrollRestoration=ae)}scrollToElement(ae){const L=ae.getBoundingClientRect(),J=L.left+this.window.pageXOffset,et=L.top+this.window.pageYOffset,Jt=this.offset();this.window.scrollTo(J-Jt[0],et-Jt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ui{}},9862:(bn,gt,A)=>{"use strict";A.d(gt,{JF:()=>ve,eN:()=>G});var a=A(5879),$=A(2096),se=A(2459),M=A(5592),Ne=A(6328),Ee=A(2181),pe=A(7398),Le=A(4716),je=A(4664),ye=A(6814);class ne{}class Me{}class Ve{constructor(ot){this.normalizedNames=new Map,this.lazyUpdate=null,ot?"string"==typeof ot?this.lazyInit=()=>{this.headers=new Map,ot.split("\n").forEach(ht=>{const Qt=ht.indexOf(":");if(Qt>0){const En=ht.slice(0,Qt),wn=En.toLowerCase(),On=ht.slice(Qt+1).trim();this.maybeSetNormalizedName(En,wn),this.headers.has(wn)?this.headers.get(wn).push(On):this.headers.set(wn,[On])}})}:typeof Headers<"u"&&ot instanceof Headers?(this.headers=new Map,ot.forEach((ht,Qt)=>{this.setHeaderEntries(Qt,ht)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ot).forEach(([ht,Qt])=>{this.setHeaderEntries(ht,Qt)})}:this.headers=new Map}has(ot){return this.init(),this.headers.has(ot.toLowerCase())}get(ot){this.init();const ht=this.headers.get(ot.toLowerCase());return ht&&ht.length>0?ht[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ot){return this.init(),this.headers.get(ot.toLowerCase())||null}append(ot,ht){return this.clone({name:ot,value:ht,op:"a"})}set(ot,ht){return this.clone({name:ot,value:ht,op:"s"})}delete(ot,ht){return this.clone({name:ot,value:ht,op:"d"})}maybeSetNormalizedName(ot,ht){this.normalizedNames.has(ht)||this.normalizedNames.set(ht,ot)}init(){this.lazyInit&&(this.lazyInit instanceof Ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ot=>this.applyUpdate(ot)),this.lazyUpdate=null))}copyFrom(ot){ot.init(),Array.from(ot.headers.keys()).forEach(ht=>{this.headers.set(ht,ot.headers.get(ht)),this.normalizedNames.set(ht,ot.normalizedNames.get(ht))})}clone(ot){const ht=new Ve;return ht.lazyInit=this.lazyInit&&this.lazyInit instanceof Ve?this.lazyInit:this,ht.lazyUpdate=(this.lazyUpdate||[]).concat([ot]),ht}applyUpdate(ot){const ht=ot.name.toLowerCase();switch(ot.op){case"a":case"s":let Qt=ot.value;if("string"==typeof Qt&&(Qt=[Qt]),0===Qt.length)return;this.maybeSetNormalizedName(ot.name,ht);const En=("a"===ot.op?this.headers.get(ht):void 0)||[];En.push(...Qt),this.headers.set(ht,En);break;case"d":const wn=ot.value;if(wn){let On=this.headers.get(ht);if(!On)return;On=On.filter(Ar=>-1===wn.indexOf(Ar)),0===On.length?(this.headers.delete(ht),this.normalizedNames.delete(ht)):this.headers.set(ht,On)}else this.headers.delete(ht),this.normalizedNames.delete(ht)}}setHeaderEntries(ot,ht){const Qt=(Array.isArray(ht)?ht:[ht]).map(wn=>wn.toString()),En=ot.toLowerCase();this.headers.set(En,Qt),this.maybeSetNormalizedName(ot,En)}forEach(ot){this.init(),Array.from(this.normalizedNames.keys()).forEach(ht=>ot(this.normalizedNames.get(ht),this.headers.get(ht)))}}class Je{encodeKey(ot){return Et(ot)}encodeValue(ot){return Et(ot)}decodeKey(ot){return decodeURIComponent(ot)}decodeValue(ot){return decodeURIComponent(ot)}}const lt=/%(\d[a-f0-9])/gi,xe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Et(Ct){return encodeURIComponent(Ct).replace(lt,(ot,ht)=>xe[ht]??ot)}function De(Ct){return`${Ct}`}class Te{constructor(ot={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ot.encoder||new Je,ot.fromString){if(ot.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function He(Ct,ot){const ht=new Map;return Ct.length>0&&Ct.replace(/^\?/,"").split("&").forEach(En=>{const wn=En.indexOf("="),[On,Ar]=-1==wn?[ot.decodeKey(En),""]:[ot.decodeKey(En.slice(0,wn)),ot.decodeValue(En.slice(wn+1))],Nn=ht.get(On)||[];Nn.push(Ar),ht.set(On,Nn)}),ht}(ot.fromString,this.encoder)}else ot.fromObject?(this.map=new Map,Object.keys(ot.fromObject).forEach(ht=>{const Qt=ot.fromObject[ht],En=Array.isArray(Qt)?Qt.map(De):[De(Qt)];this.map.set(ht,En)})):this.map=null}has(ot){return this.init(),this.map.has(ot)}get(ot){this.init();const ht=this.map.get(ot);return ht?ht[0]:null}getAll(ot){return this.init(),this.map.get(ot)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ot,ht){return this.clone({param:ot,value:ht,op:"a"})}appendAll(ot){const ht=[];return Object.keys(ot).forEach(Qt=>{const En=ot[Qt];Array.isArray(En)?En.forEach(wn=>{ht.push({param:Qt,value:wn,op:"a"})}):ht.push({param:Qt,value:En,op:"a"})}),this.clone(ht)}set(ot,ht){return this.clone({param:ot,value:ht,op:"s"})}delete(ot,ht){return this.clone({param:ot,value:ht,op:"d"})}toString(){return this.init(),this.keys().map(ot=>{const ht=this.encoder.encodeKey(ot);return this.map.get(ot).map(Qt=>ht+"="+this.encoder.encodeValue(Qt)).join("&")}).filter(ot=>""!==ot).join("&")}clone(ot){const ht=new Te({encoder:this.encoder});return ht.cloneFrom=this.cloneFrom||this,ht.updates=(this.updates||[]).concat(ot),ht}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ot=>this.map.set(ot,this.cloneFrom.map.get(ot))),this.updates.forEach(ot=>{switch(ot.op){case"a":case"s":const ht=("a"===ot.op?this.map.get(ot.param):void 0)||[];ht.push(De(ot.value)),this.map.set(ot.param,ht);break;case"d":if(void 0===ot.value){this.map.delete(ot.param);break}{let Qt=this.map.get(ot.param)||[];const En=Qt.indexOf(De(ot.value));-1!==En&&Qt.splice(En,1),Qt.length>0?this.map.set(ot.param,Qt):this.map.delete(ot.param)}}}),this.cloneFrom=this.updates=null)}}class he{constructor(){this.map=new Map}set(ot,ht){return this.map.set(ot,ht),this}get(ot){return this.map.has(ot)||this.map.set(ot,ot.defaultValue()),this.map.get(ot)}delete(ot){return this.map.delete(ot),this}has(ot){return this.map.has(ot)}keys(){return this.map.keys()}}function st(Ct){return typeof ArrayBuffer<"u"&&Ct instanceof ArrayBuffer}function Ze(Ct){return typeof Blob<"u"&&Ct instanceof Blob}function Lt(Ct){return typeof FormData<"u"&&Ct instanceof FormData}class qt{constructor(ot,ht,Qt,En){let wn;if(this.url=ht,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ot.toUpperCase(),function Fe(Ct){switch(Ct){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||En?(this.body=void 0!==Qt?Qt:null,wn=En):wn=Qt,wn&&(this.reportProgress=!!wn.reportProgress,this.withCredentials=!!wn.withCredentials,wn.responseType&&(this.responseType=wn.responseType),wn.headers&&(this.headers=wn.headers),wn.context&&(this.context=wn.context),wn.params&&(this.params=wn.params)),this.headers||(this.headers=new Ve),this.context||(this.context=new he),this.params){const On=this.params.toString();if(0===On.length)this.urlWithParams=ht;else{const Ar=ht.indexOf("?");this.urlWithParams=ht+(-1===Ar?"?":Ar<ht.length-1?"&":"")+On}}else this.params=new Te,this.urlWithParams=ht}serializeBody(){return null===this.body?null:st(this.body)||Ze(this.body)||Lt(this.body)||function Ge(Ct){return typeof URLSearchParams<"u"&&Ct instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Te?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lt(this.body)?null:Ze(this.body)?this.body.type||null:st(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Te?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ot={}){const ht=ot.method||this.method,Qt=ot.url||this.url,En=ot.responseType||this.responseType,wn=void 0!==ot.body?ot.body:this.body,On=void 0!==ot.withCredentials?ot.withCredentials:this.withCredentials,Ar=void 0!==ot.reportProgress?ot.reportProgress:this.reportProgress;let Nn=ot.headers||this.headers,oe=ot.params||this.params;const ee=ot.context??this.context;return void 0!==ot.setHeaders&&(Nn=Object.keys(ot.setHeaders).reduce((j,le)=>j.set(le,ot.setHeaders[le]),Nn)),ot.setParams&&(oe=Object.keys(ot.setParams).reduce((j,le)=>j.set(le,ot.setParams[le]),oe)),new qt(ht,Qt,wn,{params:oe,headers:Nn,context:ee,reportProgress:Ar,responseType:En,withCredentials:On})}}var gn=function(Ct){return Ct[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct}(gn||{});class It{constructor(ot,ht=200,Qt="OK"){this.headers=ot.headers||new Ve,this.status=void 0!==ot.status?ot.status:ht,this.statusText=ot.statusText||Qt,this.url=ot.url||null,this.ok=this.status>=200&&this.status<300}}class it extends It{constructor(ot={}){super(ot),this.type=gn.ResponseHeader}clone(ot={}){return new it({headers:ot.headers||this.headers,status:void 0!==ot.status?ot.status:this.status,statusText:ot.statusText||this.statusText,url:ot.url||this.url||void 0})}}class Pt extends It{constructor(ot={}){super(ot),this.type=gn.Response,this.body=void 0!==ot.body?ot.body:null}clone(ot={}){return new Pt({body:void 0!==ot.body?ot.body:this.body,headers:ot.headers||this.headers,status:void 0!==ot.status?ot.status:this.status,statusText:ot.statusText||this.statusText,url:ot.url||this.url||void 0})}}class Ue extends It{constructor(ot){super(ot,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ot.url||"(unknown url)"}`:`Http failure response for ${ot.url||"(unknown url)"}: ${ot.status} ${ot.statusText}`,this.error=ot.error||null}}function ue(Ct,ot){return{body:ot,headers:Ct.headers,context:Ct.context,observe:Ct.observe,params:Ct.params,reportProgress:Ct.reportProgress,responseType:Ct.responseType,withCredentials:Ct.withCredentials}}let G=(()=>{class Ct{constructor(ht){this.handler=ht}request(ht,Qt,En={}){let wn;if(ht instanceof qt)wn=ht;else{let Nn,oe;Nn=En.headers instanceof Ve?En.headers:new Ve(En.headers),En.params&&(oe=En.params instanceof Te?En.params:new Te({fromObject:En.params})),wn=new qt(ht,Qt,void 0!==En.body?En.body:null,{headers:Nn,context:En.context,params:oe,reportProgress:En.reportProgress,responseType:En.responseType||"json",withCredentials:En.withCredentials})}const On=(0,$.of)(wn).pipe((0,Ne.b)(Nn=>this.handler.handle(Nn)));if(ht instanceof qt||"events"===En.observe)return On;const Ar=On.pipe((0,Ee.h)(Nn=>Nn instanceof Pt));switch(En.observe||"body"){case"body":switch(wn.responseType){case"arraybuffer":return Ar.pipe((0,pe.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nn.body}));case"blob":return Ar.pipe((0,pe.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof Blob))throw new Error("Response is not a Blob.");return Nn.body}));case"text":return Ar.pipe((0,pe.U)(Nn=>{if(null!==Nn.body&&"string"!=typeof Nn.body)throw new Error("Response is not a string.");return Nn.body}));default:return Ar.pipe((0,pe.U)(Nn=>Nn.body))}case"response":return Ar;default:throw new Error(`Unreachable: unhandled observe type ${En.observe}}`)}}delete(ht,Qt={}){return this.request("DELETE",ht,Qt)}get(ht,Qt={}){return this.request("GET",ht,Qt)}head(ht,Qt={}){return this.request("HEAD",ht,Qt)}jsonp(ht,Qt){return this.request("JSONP",ht,{params:(new Te).append(Qt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ht,Qt={}){return this.request("OPTIONS",ht,Qt)}patch(ht,Qt,En={}){return this.request("PATCH",ht,ue(En,Qt))}post(ht,Qt,En={}){return this.request("POST",ht,ue(En,Qt))}put(ht,Qt,En={}){return this.request("PUT",ht,ue(En,Qt))}static#e=this.\u0275fac=function(Qt){return new(Qt||Ct)(a.LFG(ne))};static#t=this.\u0275prov=a.Yz7({token:Ct,factory:Ct.\u0275fac})}return Ct})();function fn(Ct,ot){return ot(Ct)}function Rn(Ct,ot){return(ht,Qt)=>ot.intercept(ht,{handle:En=>Ct(En,Qt)})}const vn=new a.OlP(""),Yn=new a.OlP(""),Ir=new a.OlP("");function on(){let Ct=null;return(ot,ht)=>{null===Ct&&(Ct=((0,a.f3M)(vn,{optional:!0})??[]).reduceRight(Rn,fn));const Qt=(0,a.f3M)(a.HDt),En=Qt.add();return Ct(ot,ht).pipe((0,Le.x)(()=>Qt.remove(En)))}}let nn=(()=>{class Ct extends ne{constructor(ht,Qt){super(),this.backend=ht,this.injector=Qt,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(ht){if(null===this.chain){const En=Array.from(new Set([...this.injector.get(Yn),...this.injector.get(Ir,[])]));this.chain=En.reduceRight((wn,On)=>function Nt(Ct,ot,ht){return(Qt,En)=>ht.runInContext(()=>ot(Qt,wn=>Ct(wn,En)))}(wn,On,this.injector),fn)}const Qt=this.pendingTasks.add();return this.chain(ht,En=>this.backend.handle(En)).pipe((0,Le.x)(()=>this.pendingTasks.remove(Qt)))}static#e=this.\u0275fac=function(Qt){return new(Qt||Ct)(a.LFG(Me),a.LFG(a.lqb))};static#t=this.\u0275prov=a.Yz7({token:Ct,factory:Ct.\u0275fac})}return Ct})();const Cr=/^\)\]\}',?\n/;let mr=(()=>{class Ct{constructor(ht){this.xhrFactory=ht}handle(ht){if("JSONP"===ht.method)throw new a.vHH(-2800,!1);const Qt=this.xhrFactory;return(Qt.\u0275loadImpl?(0,se.D)(Qt.\u0275loadImpl()):(0,$.of)(null)).pipe((0,je.w)(()=>new M.y(wn=>{const On=Qt.build();if(On.open(ht.method,ht.urlWithParams),ht.withCredentials&&(On.withCredentials=!0),ht.headers.forEach((ft,$t)=>On.setRequestHeader(ft,$t.join(","))),ht.headers.has("Accept")||On.setRequestHeader("Accept","application/json, text/plain, */*"),!ht.headers.has("Content-Type")){const ft=ht.detectContentTypeHeader();null!==ft&&On.setRequestHeader("Content-Type",ft)}if(ht.responseType){const ft=ht.responseType.toLowerCase();On.responseType="json"!==ft?ft:"text"}const Ar=ht.serializeBody();let Nn=null;const oe=()=>{if(null!==Nn)return Nn;const ft=On.statusText||"OK",$t=new Ve(On.getAllResponseHeaders()),In=function Wn(Ct){return"responseURL"in Ct&&Ct.responseURL?Ct.responseURL:/^X-Request-URL:/m.test(Ct.getAllResponseHeaders())?Ct.getResponseHeader("X-Request-URL"):null}(On)||ht.url;return Nn=new it({headers:$t,status:On.status,statusText:ft,url:In}),Nn},ee=()=>{let{headers:ft,status:$t,statusText:In,url:Jn}=oe(),hr=null;204!==$t&&(hr=typeof On.response>"u"?On.responseText:On.response),0===$t&&($t=hr?200:0);let jr=$t>=200&&$t<300;if("json"===ht.responseType&&"string"==typeof hr){const ar=hr;hr=hr.replace(Cr,"");try{hr=""!==hr?JSON.parse(hr):null}catch(we){hr=ar,jr&&(jr=!1,hr={error:we,text:hr})}}jr?(wn.next(new Pt({body:hr,headers:ft,status:$t,statusText:In,url:Jn||void 0})),wn.complete()):wn.error(new Ue({error:hr,headers:ft,status:$t,statusText:In,url:Jn||void 0}))},j=ft=>{const{url:$t}=oe(),In=new Ue({error:ft,status:On.status||0,statusText:On.statusText||"Unknown Error",url:$t||void 0});wn.error(In)};let le=!1;const Qe=ft=>{le||(wn.next(oe()),le=!0);let $t={type:gn.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&($t.total=ft.total),"text"===ht.responseType&&On.responseText&&($t.partialText=On.responseText),wn.next($t)},Pe=ft=>{let $t={type:gn.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&($t.total=ft.total),wn.next($t)};return On.addEventListener("load",ee),On.addEventListener("error",j),On.addEventListener("timeout",j),On.addEventListener("abort",j),ht.reportProgress&&(On.addEventListener("progress",Qe),null!==Ar&&On.upload&&On.upload.addEventListener("progress",Pe)),On.send(Ar),wn.next({type:gn.Sent}),()=>{On.removeEventListener("error",j),On.removeEventListener("abort",j),On.removeEventListener("load",ee),On.removeEventListener("timeout",j),ht.reportProgress&&(On.removeEventListener("progress",Qe),null!==Ar&&On.upload&&On.upload.removeEventListener("progress",Pe)),On.readyState!==On.DONE&&On.abort()}})))}static#e=this.\u0275fac=function(Qt){return new(Qt||Ct)(a.LFG(ye.JF))};static#t=this.\u0275prov=a.Yz7({token:Ct,factory:Ct.\u0275fac})}return Ct})();const ni=new a.OlP("XSRF_ENABLED"),sn=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dr=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Nr{}let Fn=(()=>{class Ct{constructor(ht,Qt,En){this.doc=ht,this.platform=Qt,this.cookieName=En,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ht=this.doc.cookie||"";return ht!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ye.Mx)(ht,this.cookieName),this.lastCookieString=ht),this.lastToken}static#e=this.\u0275fac=function(Qt){return new(Qt||Ct)(a.LFG(ye.K0),a.LFG(a.Lbi),a.LFG(sn))};static#t=this.\u0275prov=a.Yz7({token:Ct,factory:Ct.\u0275fac})}return Ct})();function Ii(Ct,ot){const ht=Ct.url.toLowerCase();if(!(0,a.f3M)(ni)||"GET"===Ct.method||"HEAD"===Ct.method||ht.startsWith("http://")||ht.startsWith("https://"))return ot(Ct);const Qt=(0,a.f3M)(Nr).getToken(),En=(0,a.f3M)(Dr);return null!=Qt&&!Ct.headers.has(En)&&(Ct=Ct.clone({headers:Ct.headers.set(En,Qt)})),ot(Ct)}var ei=function(Ct){return Ct[Ct.Interceptors=0]="Interceptors",Ct[Ct.LegacyInterceptors=1]="LegacyInterceptors",Ct[Ct.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ct[Ct.NoXsrfProtection=3]="NoXsrfProtection",Ct[Ct.JsonpSupport=4]="JsonpSupport",Ct[Ct.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ct[Ct.Fetch=6]="Fetch",Ct}(ei||{});function Dn(...Ct){const ot=[G,mr,nn,{provide:ne,useExisting:nn},{provide:Me,useExisting:mr},{provide:Yn,useValue:Ii,multi:!0},{provide:ni,useValue:!0},{provide:Nr,useClass:Fn}];for(const ht of Ct)ot.push(...ht.\u0275providers);return(0,a.MR2)(ot)}const Ti=new a.OlP("LEGACY_INTERCEPTOR_FN");function Kr(){return function ur(Ct,ot){return{\u0275kind:Ct,\u0275providers:ot}}(ei.LegacyInterceptors,[{provide:Ti,useFactory:on},{provide:Yn,useExisting:Ti,multi:!0}])}let ve=(()=>{class Ct{static#e=this.\u0275fac=function(Qt){return new(Qt||Ct)};static#t=this.\u0275mod=a.oAB({type:Ct});static#n=this.\u0275inj=a.cJS({providers:[Dn(Kr())]})}return Ct})()},5879:(bn,gt,A)=>{"use strict";A.d(gt,{$8M:()=>th,$WT:()=>wi,$Z:()=>Y_,AFp:()=>Oy,AaK:()=>Me,BQk:()=>Uu,CHM:()=>jo,CRH:()=>_C,EJc:()=>uw,EpF:()=>Ud,F$t:()=>Fm,F4k:()=>xm,FYo:()=>Hh,FiY:()=>Xu,GSi:()=>k_,Gf:()=>yC,GfV:()=>Ql,GkF:()=>Wp,Gpc:()=>Je,HDt:()=>jC,Hsn:()=>$u,JOm:()=>Vs,KtG:()=>xs,LFG:()=>xn,LMc:()=>CS,Lbi:()=>xy,Lck:()=>KD,MAs:()=>$p,MMx:()=>GT,MR2:()=>kg,NdJ:()=>Nm,Ojb:()=>Ny,OlP:()=>sn,Oqu:()=>pE,P3R:()=>bu,PXZ:()=>Bw,Q6J:()=>gf,QGY:()=>Om,QbO:()=>Ro,Qsj:()=>Ly,R0b:()=>Po,RDi:()=>f_,Rgc:()=>ey,SBq:()=>Zl,Sil:()=>fw,Suo:()=>vC,TTD:()=>Qr,TgZ:()=>Hp,VuI:()=>IS,W1O:()=>CC,WLB:()=>JT,X6Q:()=>Yw,XFs:()=>Hn,Xpm:()=>mi,Xq5:()=>pv,Xts:()=>kh,Y36:()=>Od,YKP:()=>HT,YNc:()=>Xc,Yjl:()=>go,Yz7:()=>vn,Z0I:()=>nn,ZZ4:()=>KE,_Bn:()=>jT,_UZ:()=>Gp,_c5:()=>cS,_uU:()=>If,aQg:()=>qE,c2e:()=>$C,cJS:()=>Ir,cg1:()=>gE,dDg:()=>kw,dqk:()=>mr,eFA:()=>XC,eJc:()=>OE,ekj:()=>fc,eoX:()=>KC,f3M:()=>tt,g9A:()=>oo,h0i:()=>Cf,hGG:()=>uS,hij:()=>Yv,iGM:()=>mC,ifc:()=>On,ip1:()=>UC,jDz:()=>WT,kL8:()=>pT,lG2:()=>po,lqb:()=>Ja,lri:()=>WC,n5z:()=>Xs,oAB:()=>bi,oxw:()=>km,q4F:()=>Rd,qFp:()=>bS,qLn:()=>Xl,qOj:()=>Dt,qZA:()=>zp,rWj:()=>YC,rg0:()=>Jt,sBO:()=>Kw,s_b:()=>e_,soG:()=>n_,tb:()=>jE,tp0:()=>Vl,uIk:()=>df,vHH:()=>Te,vpe:()=>Jl,wAp:()=>tg,xp6:()=>W_,ynx:()=>Bu,z2F:()=>og,zSh:()=>Cd,zs3:()=>tl});var a=A(8645),$=A(7394),se=A(5592),M=A(3019),Ne=A(5619),Ee=A(2096),pe=A(3020),Le=A(4664),je=A(3997);function ye(t){for(let n in t)if(t[n]===ye)return n;throw Error("Could not find renamed property on target object.")}function ne(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ve(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Be=ye({__forward_ref__:ye});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return Me(this())},t}function He(t){return lt(t)?t():t}function lt(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===Je}function xe(t){return t&&!!t.\u0275providers}const De="https://g.co/ng/security#xss";class Te extends Error{constructor(n,i){super(function Re(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function he(t){return"string"==typeof t?t:null==t?"":String(t)}function Ge(t,n){throw new Te(-201,!1)}function Tt(t,n){null==t&&function xt(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function vn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function on(t){return xr(t,We)||xr(t,Ln)}function nn(t){return null!==on(t)}function xr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ke(t){return t&&(t.hasOwnProperty(Ut)||t.hasOwnProperty(pr))?t[Ut]:null}const We=ye({\u0275prov:ye}),Ut=ye({\u0275inj:ye}),Ln=ye({ngInjectableDef:ye}),pr=ye({ngInjectorDef:ye});var Hn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Hn||{});let zn;function Kn(t){const n=zn;return zn=t,n}function Cr(t,n,i){const s=on(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&Hn.Optional?null:void 0!==n?n:void Ge(Me(t))}const mr=globalThis;class sn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=vn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kr={},Fi="__NG_DI_FLAG__",hi="ngTempTokenPath",fe=/\n/gm,ge="__source";let ve;function tn(t){const n=ve;return ve=t,n}function kn(t,n=Hn.Default){if(void 0===ve)throw new Te(-203,!1);return null===ve?Cr(t,void 0,n):ve.get(t,n&Hn.Optional?null:void 0,n)}function xn(t,n=Hn.Default){return(function Gn(){return zn}()||kn)(He(t),n)}function tt(t,n=Hn.Default){return xn(t,Qn(n))}function Qn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dr(t){const n=[];for(let i=0;i<t.length;i++){const s=He(t[i]);if(Array.isArray(s)){if(0===s.length)throw new Te(900,!1);let u,f=Hn.Default;for(let v=0;v<s.length;v++){const C=s[v],S=ot(C);"number"==typeof S?-1===S?u=C.token:f|=S:u=C}n.push(xn(u,f))}else n.push(xn(s))}return n}function Ct(t,n){return t[Fi]=n,t.prototype[Fi]=n,t}function ot(t){return t[Fi]}function En(t){return{toString:t}.toString()}var wn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wn||{}),On=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(On||{});const Ar={},Nn=[],oe=ye({\u0275cmp:ye}),ee=ye({\u0275dir:ye}),j=ye({\u0275pipe:ye}),le=ye({\u0275mod:ye}),Qe=ye({\u0275fac:ye}),Pe=ye({__NG_ELEMENT_ID__:ye}),ft=ye({__NG_ENV_ID__:ye});function $t(t,n,i){let s=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const f=n.length;if(u+f===s||t.charCodeAt(u+f)<=32)return u}i=u+1}}function In(t,n,i){let s=0;for(;s<i.length;){const u=i[s];if("number"==typeof u){if(0!==u)break;s++;const f=i[s++],v=i[s++],C=i[s++];t.setAttribute(n,v,C,f)}else{const f=u,v=i[++s];hr(f)?t.setProperty(n,f,v):t.setAttribute(n,f,v),s++}}return s}function Jn(t){return 3===t||4===t||6===t}function hr(t){return 64===t.charCodeAt(0)}function jr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const u=n[s];"number"==typeof u?i=u:0===i||ar(t,i,u,null,-1===i||2===i?n[++s]:null)}}return t}function ar(t,n,i,s,u){let f=0,v=t.length;if(-1===n)v=-1;else for(;f<t.length;){const C=t[f++];if("number"==typeof C){if(C===n){v=-1;break}if(C>n){v=f-1;break}}}for(;f<t.length;){const C=t[f];if("number"==typeof C)break;if(C===i){if(null===s)return void(null!==u&&(t[f+1]=u));if(s===t[f+1])return void(t[f+2]=u)}f++,null!==s&&f++,null!==u&&f++}-1!==v&&(t.splice(v,0,n),f=v+1),t.splice(f++,0,i),null!==s&&t.splice(f++,0,s),null!==u&&t.splice(f++,0,u)}const we="ng-template";function nt(t,n,i){let s=0,u=!0;for(;s<t.length;){let f=t[s++];if("string"==typeof f&&u){const v=t[s++];if(i&&"class"===f&&-1!==$t(v.toLowerCase(),n,0))return!0}else{if(1===f){for(;s<t.length&&"string"==typeof(f=t[s++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function $e(t){return 4===t.type&&t.value!==we}function At(t,n,i){return n===(4!==t.type||i?t.value:we)}function Ot(t,n,i){let s=4;const u=t.attrs||[],f=function Tn(t){for(let n=0;n<t.length;n++)if(Jn(t[n]))return n;return t.length}(u);let v=!1;for(let C=0;C<n.length;C++){const S=n[C];if("number"!=typeof S){if(!v)if(4&s){if(s=2|1&s,""!==S&&!At(t,S,i)||""===S&&1===n.length){if(vt(s))return!1;v=!0}}else{const H=8&s?S:n[++C];if(8&s&&null!==t.attrs){if(!nt(t.attrs,H,i)){if(vt(s))return!1;v=!0}continue}const qe=un(8&s?"class":S,u,$e(t),i);if(-1===qe){if(vt(s))return!1;v=!0;continue}if(""!==H){let Mt;Mt=qe>f?"":u[qe+1].toLowerCase();const jt=8&s?Mt:null;if(jt&&-1!==$t(jt,H,0)||2&s&&H!==Mt){if(vt(s))return!1;v=!0}}}}else{if(!v&&!vt(s)&&!vt(S))return!1;if(v&&vt(S))continue;v=!1,s=S|1&s}}return vt(s)||v}function vt(t){return 0==(1&t)}function un(t,n,i,s){if(null===n)return-1;let u=0;if(s||!i){let f=!1;for(;u<n.length;){const v=n[u];if(v===t)return u;if(3===v||6===v)f=!0;else{if(1===v||2===v){let C=n[++u];for(;"string"==typeof C;)C=n[++u];continue}if(4===v)break;if(0===v){u+=4;continue}}u+=f?1:2}return-1}return function Sn(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function _n(t,n,i=!1){for(let s=0;s<n.length;s++)if(Ot(t,n[s],i))return!0;return!1}function or(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let u=0;u<t.length;u++)if(t[u]!==s[u])continue e;return!0}}return!1}function Sr(t,n){return t?":not("+n.trim()+")":n}function qr(t){let n=t[0],i=1,s=2,u="",f=!1;for(;i<t.length;){let v=t[i];if("string"==typeof v)if(2&s){const C=t[++i];u+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&s?u+="."+v:4&s&&(u+=" "+v);else""!==u&&!vt(v)&&(n+=Sr(f,u),u=""),s=v,f=f||!vt(s);i++}return""!==u&&(n+=Sr(f,u)),n}function mi(t){return En(()=>{const n=mo(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||Nn,_:null,schemas:t.schemas||null,tView:null,id:""};q(i);const s=t.dependencies;return i.directiveDefs=fr(s,!1),i.pipeDefs=fr(s,!0),i.id=function N(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function bo(t){return Pr(t)||Mr(t)}function Do(t){return null!==t}function bi(t){return En(()=>({type:t.type,bootstrap:t.bootstrap||Nn,declarations:t.declarations||Nn,imports:t.imports||Nn,exports:t.exports||Nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hr(t,n){if(null==t)return Ar;const i={};for(const s in t)if(t.hasOwnProperty(s)){let u=t[s],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),i[u]=s,n&&(n[u]=f)}return i}function po(t){return En(()=>{const n=mo(t);return q(n),n})}function go(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[oe]||null}function Mr(t){return t[ee]||null}function $i(t){return t[j]||null}function wi(t){const n=Pr(t)||Mr(t)||$i(t);return null!==n&&n.standalone}function Or(t,n){const i=t[le]||null;if(!i&&!0===n)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return i}function mo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hr(t.inputs,n),outputs:Hr(t.outputs)}}function q(t){t.features?.forEach(n=>n(t))}function fr(t,n){if(!t)return null;const i=n?$i:bo;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(Do)}const be=0,mn=1,B=2,re=3,Ye=4,rt=5,bt=6,St=7,Kt=8,rn=9,an=10,Ht=11,Vn=12,$n=13,rr=14,Bn=15,ri=16,xi=17,kr=18,Qi=19,Si=20,Ui=21,Ni=22,Mo=23,yo=24,Zr=25,ss=1,Xi=2,Ao=7,Go=9,Ji=11;function Di(t){return Array.isArray(t)&&"object"==typeof t[ss]}function Ki(t){return Array.isArray(t)&&!0===t[ss]}function Fs(t){return 0!=(4&t.flags)}function ao(t){return t.componentOffset>-1}function ps(t){return 1==(1&t.flags)}function Bo(t){return!!t.template}function Wr(t){return 0!=(512&t[B])}function no(t,n){return t.hasOwnProperty(Qe)?t[Qe]:null}let zi=null,Gi=!1;function lo(t){const n=zi;return zi=t,n}const oa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function eo(t){if(!Ps(t)||t.dirty){if(!t.producerMustRecompute(t)&&!js(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function gs(t){t.dirty=!0,function As(t){if(void 0===t.liveConsumerNode)return;const n=Gi;Gi=!0;try{for(const i of t.liveConsumerNode)i.dirty||gs(i)}finally{Gi=n}}(t),t.consumerMarkedDirty?.(t)}function Ss(t){return t&&(t.nextProducerIndex=0),lo(t)}function Rs(t,n){if(lo(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ps(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ma(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function js(t){sa(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(eo(i),s!==i.version))return!0}return!1}function Hs(t){if(sa(t),Ps(t))for(let n=0;n<t.producerNode.length;n++)ma(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ma(t,n){if(function Wo(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),sa(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)ma(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];sa(u),u.producerIndexOfThis[s]=n}}function Ps(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function sa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let sl=null;function Jt(t){const n=lo(null);try{return t()}finally{lo(n)}}const sr=()=>{},si=(()=>({...oa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:sr}))();class ii{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Qr(){return Bi}function Bi(t){return t.type.prototype.ngOnChanges&&(t.setInput=ro),Ri}function Ri(){const t=co(this),n=t?.current;if(n){const i=t.previous;if(i===Ar)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function ro(t,n,i,s){const u=this.declaredInputs[i],f=co(t)||function Ms(t,n){return t[$o]=n}(t,{previous:Ar,current:null}),v=f.current||(f.current={}),C=f.previous,S=C[u];v[u]=new ii(S&&S.currentValue,n,C===Ar),t[s]=n}Qr.ngInherit=!0;const $o="__ngSimpleChanges__";function co(t){return t[$o]||null}const I=function(t,n,i){};function Se(t){for(;Array.isArray(t);)t=t[be];return t}function yt(t,n){return Se(n[t])}function Bt(t,n){return Se(n[t.index])}function Zn(t,n){return t.data[n]}function zr(t,n){const i=n[t];return Di(i)?i:i[be]}function ki(t,n){return null==n?null:t[n]}function qi(t){t[xi]=0}function Pi(t){1024&t[B]||(t[B]|=1024,yi(t,1))}function So(t){1024&t[B]&&(t[B]&=-1025,yi(t,-1))}function yi(t,n){let i=t[re];if(null===i)return;i[rt]+=n;let s=i;for(i=i[re];null!==i&&(1===n&&1===s[rt]||-1===n&&0===s[rt]);)i[rt]+=n,s=i,i=i[re]}const Er={lFrame:vs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ko(){return Er.bindingsEnabled}function us(){return null!==Er.skipHydrationRootTNode}function dn(){return Er.lFrame.lView}function Br(){return Er.lFrame.tView}function jo(t){return Er.lFrame.contextLView=t,t[Kt]}function xs(t){return Er.lFrame.contextLView=null,t}function Xr(){let t=wl();for(;null!==t&&64===t.type;)t=t.parent;return t}function wl(){return Er.lFrame.currentTNode}function Zi(t,n){const i=Er.lFrame;i.currentTNode=t,i.isParent=n}function ns(){return Er.lFrame.isParent}function _o(){Er.lFrame.isParent=!1}function Ys(){return Er.lFrame.bindingIndex++}function P(t,n){const i=Er.lFrame;i.bindingIndex=i.bindingRootIndex=t,_e(n)}function _e(t){Er.lFrame.currentDirectiveIndex=t}function en(){return Er.lFrame.currentQueryIndex}function Zt(t){Er.lFrame.currentQueryIndex=t}function nr(t){const n=t[mn];return 2===n.type?n.declTNode:1===n.type?t[bt]:null}function oi(t,n,i){if(i&Hn.SkipSelf){let u=n,f=t;for(;!(u=u.parent,null!==u||i&Hn.Host||(u=nr(f),null===u||(f=f[rr],10&u.type))););if(null===u)return!1;n=u,t=f}const s=Er.lFrame=pi();return s.currentTNode=n,s.lView=t,!0}function io(t){const n=pi(),i=t[mn];Er.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function pi(){const t=Er.lFrame,n=null===t?null:t.child;return null===n?vs(t):n}function vs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ba(){const t=Er.lFrame;return Er.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ua=Ba;function Rl(){const t=Ba();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _s(){return Er.lFrame.selectedIndex}function Pl(t){Er.lFrame.selectedIndex=t}function Wi(){const t=Er.lFrame;return Zn(t.tView,t.selectedIndex)}let Gu=!0;function Wu(){return Gu}function ja(t){Gu=t}function Ks(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:H,ngOnDestroy:de}=f;v&&(t.contentHooks??=[]).push(-i,v),C&&((t.contentHooks??=[]).push(i,C),(t.contentCheckHooks??=[]).push(i,C)),S&&(t.viewHooks??=[]).push(-i,S),H&&((t.viewHooks??=[]).push(i,H),(t.viewCheckHooks??=[]).push(i,H)),null!=de&&(t.destroyHooks??=[]).push(i,de)}}function va(t,n,i){tu(t,n,3,i)}function qs(t,n,i,s){(3&t[B])===i&&tu(t,n,i,s)}function Ml(t,n){let i=t[B];(3&i)===n&&(i&=8191,i+=1,t[B]=i)}function tu(t,n,i,s){const f=s??-1,v=n.length-1;let C=0;for(let S=void 0!==s?65535&t[xi]:0;S<v;S++)if("number"==typeof n[S+1]){if(C=n[S],null!=s&&C>=s)break}else n[S]<0&&(t[xi]+=65536),(C<f||-1==f)&&(nu(t,i,n,S),t[xi]=(4294901760&t[xi])+S+2),S++}function Ku(t,n){I(4,t,n);const i=lo(null);try{n.call(t)}finally{lo(i),I(5,t,n)}}function nu(t,n,i,s){const u=i[s]<0,f=i[s+1],C=t[u?-i[s]:i[s]];u?t[B]>>13<t[xi]>>16&&(3&t[B])===n&&(t[B]+=8192,Ku(C,f)):Ku(C,f)}const _a=-1;class ul{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function ru(t){return t!==_a}function gc(t){return 32767&t}function za(t,n){let i=function ug(t){return t>>16}(t),s=n;for(;i>0;)s=s[rr],i--;return s}let ua=!0;function da(t){const n=ua;return ua=t,n}const Zd=255,iu=5;let Qd=0;const Zs={};function ou(t,n){const i=mc(t,n);if(-1!==i)return i;const s=n[mn];s.firstCreatePass&&(t.injectorIndex=n.length,su(s.data,t),su(n,null),su(s.blueprint,null));const u=kl(t,n),f=t.injectorIndex;if(ru(u)){const v=gc(u),C=za(u,n),S=C[mn].data;for(let H=0;H<8;H++)n[f+H]=C[v+H]|S[v+H]}return n[f+8]=u,f}function su(t,n){t.push(0,0,0,0,0,0,0,0,n)}function mc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function kl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,u=n;for(;null!==u;){if(s=Ta(u),null===s)return _a;if(i++,u=u[rr],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return _a}function hl(t,n,i){!function Nl(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Pe)&&(s=i[Pe]),null==s&&(s=i[Pe]=Qd++);const u=s&Zd;n.data[t+(u>>iu)]|=1<<u}(t,n,i)}function yc(t,n,i){if(i&Hn.Optional||void 0!==t)return t;Ge()}function vc(t,n,i,s){if(i&Hn.Optional&&void 0===s&&(s=null),!(i&(Hn.Self|Hn.Host))){const u=t[rn],f=Kn(void 0);try{return u?u.get(n,s,i&Hn.Optional):Cr(n,s,i&Hn.Optional)}finally{Kn(f)}}return yc(s,0,i)}function Xd(t,n,i,s=Hn.Default,u){if(null!==t){if(2048&n[B]&&!(s&Hn.Self)){const v=function eh(t,n,i,s,u){let f=t,v=n;for(;null!==f&&null!==v&&2048&v[B]&&!(512&v[B]);){const C=Jd(f,v,i,s|Hn.Self,Zs);if(C!==Zs)return C;let S=f.parent;if(!S){const H=v[Si];if(H){const de=H.get(i,Zs,s);if(de!==Zs)return de}S=Ta(v),v=v[rr]}f=S}return u}(t,n,i,s,Zs);if(v!==Zs)return v}const f=Jd(t,n,i,s,Zs);if(f!==Zs)return f}return vc(n,i,s,u)}function Jd(t,n,i,s,u){const f=function wf(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pe)?t[Pe]:void 0;return"number"==typeof n?n>=0?n&Zd:qu:n}(i);if("function"==typeof f){if(!oi(n,t,s))return s&Hn.Host?yc(u,0,s):vc(n,i,s,u);try{let v;if(v=f(s),null!=v||s&Hn.Optional)return v;Ge()}finally{Ua()}}else if("number"==typeof f){let v=null,C=mc(t,n),S=_a,H=s&Hn.Host?n[Bn][bt]:null;for((-1===C||s&Hn.SkipSelf)&&(S=-1===C?kl(t,n):n[C+8],S!==_a&&rs(s,!1)?(v=n[mn],C=gc(S),n=za(S,n)):C=-1);-1!==C;){const de=n[mn];if(au(f,C,de.data)){const qe=_c(C,n,i,v,s,H);if(qe!==Zs)return qe}S=n[C+8],S!==_a&&rs(s,n[mn].data[C+8]===H)&&au(f,C,n)?(v=de,C=gc(S),n=za(S,n)):C=-1}}return u}function _c(t,n,i,s,u,f){const v=n[mn],C=v.data[t+8],de=Ea(C,v,i,null==s?ao(C)&&ua:s!=v&&0!=(3&C.type),u&Hn.Host&&f===C);return null!==de?Qs(n,v,de,C):Zs}function Ea(t,n,i,s,u){const f=t.providerIndexes,v=n.data,C=1048575&f,S=t.directiveStart,de=f>>20,Mt=u?C+de:t.directiveEnd;for(let jt=s?C:C+de;jt<Mt;jt++){const yn=v[jt];if(jt<S&&i===yn||jt>=S&&yn.type===i)return jt}if(u){const jt=v[S];if(jt&&Bo(jt)&&jt.type===i)return S}return null}function Qs(t,n,i,s){let u=t[i];const f=n.data;if(function lg(t){return t instanceof ul}(u)){const v=u;v.resolving&&function st(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Te(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}(f[i]));const C=da(v.canSeeViewProviders);v.resolving=!0;const H=v.injectImpl?Kn(v.injectImpl):null;oi(t,s,Hn.Default);try{u=t[i]=v.factory(void 0,f,t,s),n.firstCreatePass&&i>=s.directiveStart&&function Yu(t,n,i){const{ngOnChanges:s,ngOnInit:u,ngDoCheck:f}=n.type.prototype;if(s){const v=Bi(n);(i.preOrderHooks??=[]).push(t,v),(i.preOrderCheckHooks??=[]).push(t,v)}u&&(i.preOrderHooks??=[]).push(0-t,u),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==H&&Kn(H),da(C),v.resolving=!1,Ua()}}return u}function au(t,n,i){return!!(i[n+(t>>iu)]&1<<t)}function rs(t,n){return!(t&Hn.Self||t&Hn.Host&&n)}class qo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Xd(this._tNode,this._lView,n,Qn(s),i)}}function qu(){return new qo(Xr(),dn())}function Xs(t){return En(()=>{const n=t.prototype.constructor,i=n[Qe]||Ia(n),s=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==s;){const f=u[Qe]||Ia(u);if(f&&f!==i)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Ia(t){return lt(t)?()=>{const n=Ia(He(t));return n&&n()}:no(t)}function Ta(t){const n=t[mn],i=n.type;return 2===i?n.declTNode:1===i?t[bt]:null}function th(t){return function dg(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let u=0;for(;u<s;){const f=i[u];if(Jn(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<s&&"string"==typeof i[u];)u++;else{if(f===n)return i[u+1];u+=2}}}return null}(Xr(),t)}const Js="__annotations__",fl="__parameters__",Ns="__prop__metadata__";function nh(t,n,i,s,u){return En(()=>{const f=Zu(n);function v(...C){if(this instanceof v)return f.call(this,...C),this;const S=new v(...C);return function(de){return u&&u(de,...C),(de.hasOwnProperty(Js)?de[Js]:Object.defineProperty(de,Js,{value:[]})[Js]).push(S),s&&s(de),de}}return i&&(v.prototype=Object.create(i.prototype)),v.prototype.ngMetadataName=t,v.annotationCls=v,v})}function Zu(t){return function(...i){if(t){const s=t(...i);for(const u in s)this[u]=s[u]}}}function Ga(t,n,i){return En(()=>{const s=Zu(n);function u(...f){if(this instanceof u)return s.apply(this,f),this;const v=new u(...f);return C.annotation=v,C;function C(S,H,de){const qe=S.hasOwnProperty(fl)?S[fl]:Object.defineProperty(S,fl,{value:[]})[fl];for(;qe.length<=de;)qe.push(null);return(qe[de]=qe[de]||[]).push(v),S}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}const Sf=Ga("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>th(t)}));function Fo(t){const n=mr.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Pf=Function;function uu(t){return"function"==typeof t}function Tc(t,n){t.forEach(i=>Array.isArray(i)?Tc(i,n):n(i))}function Cc(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function No(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function du(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}function Ls(t,n,i){let s=Wa(t,n);return s>=0?t[1|s]=i:(s=~s,function pg(t,n,i,s){let u=t.length;if(u==n)t.push(i,s);else if(1===u)t.push(s,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function bc(t,n){const i=Wa(t,n);if(i>=0)return t[1|i]}function Wa(t,n){return function ih(t,n,i){let s=0,u=t.length>>i;for(;u!==s;){const f=s+(u-s>>1),v=t[f<<i];if(n===v)return f<<i;v>n?u=f:s=f+1}return~(u<<i)}(t,n,1)}const hu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,fu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,pu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Dc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Qu{constructor(n){this._reflect=n||mr.Reflect}factory(n){return(...i)=>new n(...i)}_zipTypesAndAnnotations(n,i){let s;s=du(typeof n>"u"?i.length:n.length);for(let u=0;u<s.length;u++)s[u]=typeof n>"u"?[]:n[u]&&n[u]!=Object?[n[u]]:[],i&&null!=i[u]&&(s[u]=s[u].concat(i[u]));return s}_ownParameters(n,i){if(function oh(t){return hu.test(t)||Dc.test(t)||fu.test(t)&&!pu.test(t)}(n.toString()))return null;if(n.parameters&&n.parameters!==i.parameters)return n.parameters;const u=n.ctorParameters;if(u&&u!==i.ctorParameters){const C="function"==typeof u?u():u,S=C.map(de=>de&&de.type),H=C.map(de=>de&&sh(de.decorators));return this._zipTypesAndAnnotations(S,H)}const f=n.hasOwnProperty(fl)&&n[fl],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return v||f?this._zipTypesAndAnnotations(v,f):du(n.length)}parameters(n){if(!uu(n))return[];const i=Ll(n);let s=this._ownParameters(n,i);return!s&&i!==Object&&(s=this.parameters(i)),s||[]}_ownAnnotations(n,i){if(n.annotations&&n.annotations!==i.annotations){let s=n.annotations;return"function"==typeof s&&s.annotations&&(s=s.annotations),s}return n.decorators&&n.decorators!==i.decorators?sh(n.decorators):n.hasOwnProperty(Js)?n[Js]:null}annotations(n){if(!uu(n))return[];const i=Ll(n),s=this._ownAnnotations(n,i)||[];return(i!==Object?this.annotations(i):[]).concat(s)}_ownPropMetadata(n,i){if(n.propMetadata&&n.propMetadata!==i.propMetadata){let s=n.propMetadata;return"function"==typeof s&&s.propMetadata&&(s=s.propMetadata),s}if(n.propDecorators&&n.propDecorators!==i.propDecorators){const s=n.propDecorators,u={};return Object.keys(s).forEach(f=>{u[f]=sh(s[f])}),u}return n.hasOwnProperty(Ns)?n[Ns]:null}propMetadata(n){if(!uu(n))return{};const i=Ll(n),s={};if(i!==Object){const f=this.propMetadata(i);Object.keys(f).forEach(v=>{s[v]=f[v]})}const u=this._ownPropMetadata(n,i);return u&&Object.keys(u).forEach(f=>{const v=[];s.hasOwnProperty(f)&&v.push(...s[f]),v.push(...u[f]),s[f]=v}),s}ownPropMetadata(n){return uu(n)&&this._ownPropMetadata(n,Ll(n))||{}}hasLifecycleHook(n,i){return n instanceof Pf&&i in n.prototype}}function sh(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Ll(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const gg=Ct(Ga("Inject",t=>({token:t})),-1),Xu=Ct(Ga("Optional"),8),Ju=Ct(Ga("Self"),2),Vl=Ct(Ga("SkipSelf"),4),ed=Ct(Ga("Host"),1);let td=null;function gu(t){return Of(function nd(){return td=td||new Qu}().parameters(t))}function Of(t){return t.map(n=>function Ac(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const s=t[i];if(void 0===s)continue;const u=Object.getPrototypeOf(s);if(s instanceof Xu||"Optional"===u.ngMetadataName)n.optional=!0;else if(s instanceof Vl||"SkipSelf"===u.ngMetadataName)n.skipSelf=!0;else if(s instanceof Ju||"Self"===u.ngMetadataName)n.self=!0;else if(s instanceof ed||"Host"===u.ngMetadataName)n.host=!0;else if(s instanceof gg)n.token=s.token;else if(s instanceof Sf){if(void 0===s.attributeName)throw new Te(204,!1);n.attribute=s.attributeName}else n.token=s}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}function yl(t){return 128==(128&t.flags)}var Vs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vs||{});const ph=/^>|^->|<!--|-->|--!>|<!-$/g,yu=/(<|>)/g,Pc="\u200b$1\u200b";const cd=new Map;let gh=0;const qa="__ngContext__";function is(t,n){Di(n)?(t[qa]=n[Qi],function ba(t){cd.set(t[Qi],t)}(n)):t[qa]=n}let Oc;function hs(t,n){return Oc(t,n)}function zl(t){const n=t[re];return Ki(n)?n[re]:n}function _l(t){return Iu(t[Vn])}function dd(t){return Iu(t[Ye])}function Iu(t){for(;null!==t&&!Ki(t);)t=t[Ye];return t}function El(t,n,i,s,u){if(null!=s){let f,v=!1;Ki(s)?f=s:Di(s)&&(v=!0,s=s[be]);const C=Se(s);0===t&&null!==i?null==u?Wl(n,i,C):Zo(n,i,C,u||null,!0):1===t&&null!==i?Zo(n,i,C,u||null,!0):2===t?function Th(t,n,i){const s=kc(t,n);s&&function hd(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,C,v):3===t&&n.destroyNode(C),null!=f&&function c_(t,n,i,s,u){const f=i[Ao];f!==Se(i)&&El(n,t,s,f,u);for(let C=Ji;C<i.length;C++){const S=i[C];Tu(S[mn],S,t,n,s,f)}}(n,t,f,i,u)}}function Da(t,n){return t.createComment(function ld(t){return t.replace(ph,n=>n.replace(yu,Pc))}(n))}function xc(t,n,i){return t.createElement(n,i)}function ce(t,n){const i=t[Go],s=i.indexOf(n);So(n),i.splice(s,1)}function at(t,n){if(t.length<=Ji)return;const i=Ji+n,s=t[i];if(s){const u=s[ri];null!==u&&u!==t&&ce(u,s),n>0&&(t[i-1][Ye]=s[Ye]);const f=No(t,Ji+n);!function Nc(t,n){Tu(t,n,n[Ht],2,null,null),n[be]=null,n[bt]=null}(s[mn],s);const v=f[kr];null!==v&&v.detachView(f[mn]),s[re]=null,s[Ye]=null,s[B]&=-129}return s}function Ft(t,n){if(!(256&n[B])){const i=n[Ht];n[Mo]&&Hs(n[Mo]),n[yo]&&Hs(n[yo]),i.destroyNode&&Tu(t,n,i,3,null,null),function h(t){let n=t[Vn];if(!n)return hn(t[mn],t);for(;n;){let i=null;if(Di(n))i=n[Vn];else{const s=n[Ji];s&&(i=s)}if(!i){for(;n&&!n[Ye]&&n!==t;)Di(n)&&hn(n[mn],n),n=n[re];null===n&&(n=t),Di(n)&&hn(n[mn],n),i=n&&n[Ye]}n=i}}(n)}}function hn(t,n){if(!(256&n[B])){n[B]&=-129,n[B]|=256,function vr(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const u=n[i[s]];if(!(u instanceof ul)){const f=i[s+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const C=u[f[v]],S=f[v+1];I(4,C,S);try{S.call(C)}finally{I(5,C,S)}}else{I(4,u,f);try{f.call(u)}finally{I(5,u,f)}}}}}(t,n),function er(t,n){const i=t.cleanup,s=n[St];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const v=i[f+3];v>=0?s[v]():s[-v].unsubscribe(),f+=2}else i[f].call(s[i[f+1]]);null!==s&&(n[St]=null);const u=n[Ui];if(null!==u){n[Ui]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(t,n),1===n[mn].type&&n[Ht].destroy();const i=n[ri];if(null!==i&&Ki(n[re])){i!==n[re]&&ce(i,n);const s=n[kr];null!==s&&s.detachView(t)}!function Hf(t){cd.delete(t[Qi])}(n)}}function cr(t,n,i){return function so(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[be];{const{componentOffset:u}=s;if(u>-1){const{encapsulation:f}=t.data[s.directiveStart+u];if(f===On.None||f===On.Emulated)return null}return Bt(s,i)}}(t,n.parent,i)}function Zo(t,n,i,s,u){t.insertBefore(n,i,s,u)}function Wl(t,n,i){t.appendChild(n,i)}function Eh(t,n,i,s,u){null!==s?Zo(t,n,i,s,u):Wl(t,n,i)}function kc(t,n){return t.parentNode(n)}function pd(t,n,i){return md(t,n,i)}let yd,bh,Ed,md=function gd(t,n,i){return 40&t.type?Bt(t,i):null};function Fc(t,n,i,s){const u=cr(t,s,n),f=n[Ht],C=pd(s.parent||n[bt],s,n);if(null!=u)if(Array.isArray(i))for(let S=0;S<i.length;S++)Eh(f,u,i[S],C,!1);else Eh(f,u,i,C,!1);void 0!==yd&&yd(f,s,n,i,u)}function Yl(t,n){if(null!==n){const i=n.type;if(3&i)return Bt(n,t);if(4&i)return Ih(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Yl(t,s);{const u=t[n.index];return Ki(u)?Ih(-1,u):Se(u)}}if(32&i)return hs(n,t)()||Se(t[n.index]);{const s=hy(t,n);return null!==s?Array.isArray(s)?s[0]:Yl(zl(t[Bn]),s):Yl(t,n.next)}}return null}function hy(t,n){return null!==n?t[Bn][bt].projection[n.projection]:null}function Ih(t,n){const i=Ji+t+1;if(i<n.length){const s=n[i],u=s[mn].firstChild;if(null!==u)return Yl(s,u)}return n[Ao]}function Ch(t,n,i,s,u,f,v){for(;null!=i;){const C=s[i.index],S=i.type;if(v&&0===n&&(C&&is(Se(C),s),i.flags|=2),32!=(32&i.flags))if(8&S)Ch(t,n,i.child,s,u,f,!1),El(n,t,u,C,f);else if(32&S){const H=hs(i,s);let de;for(;de=H();)El(n,t,u,de,f);El(n,t,u,C,f)}else 16&S?qf(t,n,s,i,u,f):El(n,t,u,C,f);i=v?i.projectionNext:i.next}}function Tu(t,n,i,s,u,f){Ch(i,s,t.firstChild,n,u,f,!1)}function qf(t,n,i,s,u,f){const v=i[Bn],S=v[bt].projection[s.projection];if(Array.isArray(S))for(let H=0;H<S.length;H++)El(n,t,u,S[H],f);else{let H=S;const de=v[re];yl(s)&&(H.flags|=128),Ch(t,n,H,de,u,f,!0)}}function Zf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Ig(t,n,i){const{mergedAttrs:s,classes:u,styles:f}=i;null!==s&&In(t,n,s),null!==u&&Zf(t,n,u),null!==f&&function u_(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function f_(t){bh=t}function Xf(t){return function Dh(){if(void 0===Ed&&(Ed=null,mr.trustedTypes))try{Ed=mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ed}()?.createScriptURL(t)||t}class py{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${De})`}}function Vc(t){return t instanceof py?t.changingThisBreaksApplicationSecurity:t}function Ah(t,n){const i=function wg(t){return t instanceof py&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${De})`)}return i===n}const g_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Bc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bc||{});function op(t){const n=Nh();return n?n.sanitize(Bc.URL,t)||"":Ah(t,"URL")?Vc(t):function Rg(t){return(t=String(t)).match(g_)?t:"unsafe:"+t}(he(t))}function Og(t){const n=Nh();if(n)return Xf(n.sanitize(Bc.RESOURCE_URL,t)||"");if(Ah(t,"ResourceURL"))return Xf(Vc(t));throw new Te(904,!1)}function bu(t,n,i){return function Iy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Og:op}(n,i)(t)}function Nh(){const t=dn();return t&&t[an].sanitizer}const kh=new sn("ENVIRONMENT_INITIALIZER"),Ng=new sn("INJECTOR",-1),Cy=new sn("INJECTOR_DEF_TYPES");class sp{get(n,i=Kr){if(i===Kr){const s=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw s.name="NullInjectorError",s}return i}}function kg(t){return{\u0275providers:t}}function I_(...t){return{\u0275providers:by(0,t),\u0275fromNgModule:!0}}function by(t,...n){const i=[],s=new Set;let u;const f=v=>{i.push(v)};return Tc(n,v=>{const C=v;ap(C,f,[],s)&&(u||=[],u.push(C))}),void 0!==u&&Dy(u,f),i}function Dy(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:u}=t[i];Fg(u,f=>{n(f,s)})}}function ap(t,n,i,s){if(!(t=He(t)))return!1;let u=null,f=Ke(t);const v=!f&&Pr(t);if(f||v){if(v&&!v.standalone)return!1;u=t}else{const S=t.ngModule;if(f=Ke(S),!f)return!1;u=S}const C=s.has(u);if(v){if(C)return!1;if(s.add(u),v.dependencies){const S="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of S)ap(H,n,i,s)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let H;s.add(u);try{Tc(f.imports,de=>{ap(de,n,i,s)&&(H||=[],H.push(de))})}finally{}void 0!==H&&Dy(H,n)}if(!C){const H=no(u)||(()=>new u);n({provide:u,useFactory:H,deps:Nn},u),n({provide:Cy,useValue:u,multi:!0},u),n({provide:kh,useValue:()=>xn(u),multi:!0},u)}const S=f.providers;if(null!=S&&!C){const H=t;Fg(S,de=>{n(de,H)})}}}return u!==t&&void 0!==t.providers}function Fg(t,n){for(let i of t)xe(i)&&(i=i.\u0275providers),Array.isArray(i)?Fg(i,n):n(i)}const Ay=ye({provide:String,useValue:ye});function lp(t){return null!==t&&"object"==typeof t&&Ay in t}function Uc(t){return"function"==typeof t}const Cd=new sn("Set Injector scope."),_i={},Sy={};let up;function $c(){return void 0===up&&(up=new sp),up}class Ja{}class Lo extends Ja{get destroyed(){return this._destroyed}constructor(n,i,s,u){super(),this.parent=i,this.source=s,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fh(n,v=>this.processProvider(v)),this.records.set(Ng,ql(void 0,this)),u.has("environment")&&this.records.set(Ja,ql(void 0,this));const f=this.records.get(Cd);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Cy.multi,Nn,Hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=tn(this),s=Kn(void 0);try{return n()}finally{tn(i),Kn(s)}}get(n,i=Kr,s=Hn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ft))return n[ft](this);s=Qn(s);const f=tn(this),v=Kn(void 0);try{if(!(s&Hn.SkipSelf)){let S=this.records.get(n);if(void 0===S){const H=function T_(t){return"function"==typeof t||"object"==typeof t&&t instanceof sn}(n)&&on(n);S=H&&this.injectableDefInScope(H)?ql(uo(n),_i):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(s&Hn.Self?$c():this.parent).get(n,i=s&Hn.Optional&&i===Kr?null:i)}catch(C){if("NullInjectorError"===C.name){if((C[hi]=C[hi]||[]).unshift(Me(n)),f)throw C;return function ht(t,n,i,s){const u=t[hi];throw n[ge]&&u.unshift(n[ge]),t.message=function Qt(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Me(n);if(Array.isArray(n))u=n.map(Me).join(" -> ");else if("object"==typeof n){let f=[];for(let v in n)if(n.hasOwnProperty(v)){let C=n[v];f.push(v+":"+("string"==typeof C?JSON.stringify(C):Me(C)))}u=`{${f.join(", ")}}`}return`${i}${s?"("+s+")":""}[${u}]: ${t.replace(fe,"\n  ")}`}("\n"+t.message,u,i,s),t.ngTokenPath=u,t[hi]=null,t}(C,n,"R3InjectorError",this.source)}throw C}finally{Kn(v),tn(f)}}resolveInjectorInitializers(){const n=tn(this),i=Kn(void 0);try{const u=this.get(kh.multi,Nn,Hn.Self);for(const f of u)f()}finally{tn(n),Kn(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Me(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(n){let i=Uc(n=He(n))?n:He(n&&n.provide);const s=function Ry(t){return lp(t)?ql(void 0,t.useValue):ql(Py(t),_i)}(n);if(Uc(n)||!0!==n.multi)this.records.get(i);else{let u=this.records.get(i);u||(u=ql(void 0,_i,!0),u.factory=()=>dr(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===_i&&(i.value=Sy,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Vg(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=He(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function uo(t){const n=on(t),i=null!==n?n.factory:no(t);if(null!==i)return i;if(t instanceof sn)throw new Te(204,!1);if(t instanceof Function)return function Tl(t){const n=t.length;if(n>0)throw du(n,"?"),new Te(204,!1);const i=function Wt(t){return t&&(t[We]||t[Ln])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Te(204,!1)}function Py(t,n,i){let s;if(Uc(t)){const u=He(t);return no(u)||uo(u)}if(lp(t))s=()=>He(t.useValue);else if(function Lg(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...dr(t.deps||[]));else if(function cp(t){return!(!t||!t.useExisting)}(t))s=()=>xn(He(t.useExisting));else{const u=He(t&&(t.useClass||t.provide));if(!function My(t){return!!t.deps}(t))return no(u)||uo(u);s=()=>new u(...dr(t.deps))}return s}function ql(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Fh(t,n){for(const i of t)Array.isArray(i)?Fh(i,n):i&&xe(i)?Fh(i.\u0275providers,n):n(i)}const Oy=new sn("AppId",{providedIn:"root",factory:()=>C_}),C_="ng",oo=new sn("Platform Initializer"),xy=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ro=new sn("AnimationModuleType"),Ny=new sn("CSP nonce",{providedIn:"root",factory:()=>function Lc(){if(void 0!==bh)return bh;if(typeof document<"u")return document;throw new Te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zg=(t,n,i)=>null;function Gg(t,n,i=!1){return zg(t,n,i)}class Du{}class Kg{}class R_{resolveComponentFactory(n){throw function Fy(t){const n=Error(`No component factory found for ${Me(t)}.`);return n.ngComponent=t,n}(n)}}let Au=(()=>{class t{static#e=this.NULL=new R_}return t})();function yp(){return wu(Xr(),dn())}function wu(t,n){return new Zl(Bt(t,n))}let Zl=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=yp}return t})();function P_(t){return t instanceof Zl?t.nativeElement:t}class Hh{}let Ly=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function qg(){const t=dn(),i=zr(Xr().index,t);return(Di(i)?i:t)[Ht]}()}return t})(),zh=(()=>{class t{static#e=this.\u0275prov=vn({token:t,providedIn:"root",factory:()=>null})}return t})();class Ql{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Rd=new Ql("16.2.12"),Zg={},M_={\u0275\u0275defineInjectable:vn,\u0275\u0275defineInjector:Ir,\u0275\u0275inject:xn,\u0275\u0275invalidFactoryDep:function yr(t){throw new Te(202,!1)},resolveForwardRef:He};const O_=ye({provide:String,useValue:ye});function Wh(t){return void 0!==t.useClass}function By(t){return void 0!==t.useFactory}const k_=nh("Injectable",void 0,void 0,void 0,(t,n)=>function Qg(t,n){let i=null,s=null;t.hasOwnProperty(We)||Object.defineProperty(t,We,{get:()=>(null===i&&(i=Fo().compileInjectable(M_,`ng:///${t.name}/\u0275prov.js`,function N_(t,n){const i=n||{providedIn:null},s={name:t.name,type:t,typeArgumentCount:0,providedIn:i.providedIn};return(Wh(i)||By(i))&&void 0!==i.deps&&(s.deps=Of(i.deps)),Wh(i)?s.useClass=i.useClass:function x_(t){return O_ in t}(i)?s.useValue=i.useValue:By(i)?s.useFactory=i.useFactory:function vp(t){return void 0!==t.useExisting}(i)&&(s.useExisting=i.useExisting),s}(t,n))),i)}),t.hasOwnProperty(Qe)||Object.defineProperty(t,Qe,{get:()=>{if(null===s){const u=Fo();s=u.compileFactory(M_,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:gu(t),target:u.FactoryTarget.Injectable})}return s},configurable:!0})}(t,n));function Yh(t,n=null,i=null,s){const u=Uy(t,n,i,s);return u.resolveInjectorInitializers(),u}function Uy(t,n=null,i=null,s,u=new Set){const f=[i||Nn,I_(t)];return s=s||("object"==typeof t?void 0:Me(t)),new Lo(f,n||$c(),s||null,u)}let tl=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Kr;static#t=this.NULL=new sp;static create(i,s){if(Array.isArray(i))return Yh({name:""},s,i,"");{const u=i.name??"";return Yh({name:u},i.parent,i.providers,u)}}static#n=this.\u0275prov=vn({token:t,providedIn:"any",factory:()=>xn(Ng)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function _p(t){return t.ngOriginalError}class Xl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&_p(n);for(;i&&_p(i);)i=_p(i);return i||null}}function $y(t){return n=>{setTimeout(t,void 0,n)}}const Jl=class L_ extends a.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let u=n,f=i||(()=>null),v=s;if(n&&"object"==typeof n){const S=n;u=S.next?.bind(S),f=S.error?.bind(S),v=S.complete?.bind(S)}this.__isAsync&&(f=$y(f),u&&(u=$y(u)),v&&(v=$y(v)));const C=super.subscribe({next:u,error:f,complete:v});return n instanceof $.w0&&n.add(C),C}};function jy(...t){}class Po{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&i,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function V0(){const t="function"==typeof mr.requestAnimationFrame;let n=mr[t?"requestAnimationFrame":"setTimeout"],i=mr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function V_(t){const n=()=>{!function zc(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ip(t),t.isCheckStableRunning=!0,Su(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ip(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,u,f,v,C)=>{if(function U_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(C))return i.invokeTask(u,f,v,C);try{return Hy(t),i.invokeTask(u,f,v,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),tc(t)}},onInvoke:(i,s,u,f,v,C,S)=>{try{return Hy(t),i.invoke(u,f,v,C,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),tc(t)}},onHasTask:(i,s,u,f)=>{i.hasTask(u,f),s===u&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Ip(t),Su(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,s,u,f)=>(i.handleError(u,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new Te(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,u){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+u,n,ec,jy,jy);try{return f.runTask(v,i,s)}finally{f.cancelTask(v)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const ec={};function Su(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ip(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Hy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tc(t){t._nesting--,Su(t)}class B_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,u){return n.apply(i,s)}}const zy=new sn("",{providedIn:"root",factory:Gy});function Gy(){const t=tt(Po);let n=!0;const i=new se.y(u=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(n),u.complete()})}),s=new se.y(u=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const v=t.onUnstable.subscribe(()=>{Po.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),v.unsubscribe()}});return(0,M.T)(i,s.pipe((0,pe.B)()))}function nc(t){return t instanceof Function?t():t}let nm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=vn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kh(t){for(;t;){t[B]|=64;const n=zl(t);if(Wr(t)&&!n)return t;t=n}return null}const Ky=new sn("",{providedIn:"root",factory:()=>!1});let bp=null;function Zy(t,n){return t[n]??Jy()}function Qy(t,n){const i=Jy();i.producerNode?.length&&(t[n]=bp,i.lView=t,bp=Xy())}const G_={...oa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kh(t.lView)},lView:null};function Xy(){return Object.create(G_)}function Jy(){return bp??=Xy(),bp}const gi={};function W_(t){im(Br(),dn(),_s()+t,!1)}function im(t,n,i,s){if(!s)if(3==(3&n[B])){const f=t.preOrderCheckHooks;null!==f&&va(n,f,i)}else{const f=t.preOrderHooks;null!==f&&qs(n,f,0,i)}Pl(i)}function Od(t,n=Hn.Default){const i=dn();return null===i?xn(t,n):Xd(Xr(),i,He(t),n)}function Y_(){throw new Error("invalid")}function om(t,n,i,s,u,f,v,C,S,H,de){const qe=n.blueprint.slice();return qe[be]=u,qe[B]=140|s,(null!==H||t&&2048&t[B])&&(qe[B]|=2048),qi(qe),qe[re]=qe[rr]=t,qe[Kt]=i,qe[an]=v||t&&t[an],qe[Ht]=C||t&&t[Ht],qe[rn]=S||t&&t[rn]||null,qe[bt]=f,qe[Qi]=function ud(){return gh++}(),qe[Ni]=de,qe[Si]=H,qe[Bn]=2==n.type?t[Bn]:qe,qe}function qh(t,n,i,s,u){let f=t.data[n];if(null===f)f=function Dp(t,n,i,s,u){const f=wl(),v=ns(),S=t.data[n]=function Q_(t,n,i,s,u,f){let v=n?n.injectorIndex:-1,C=0;return us()&&(C|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,i,n,s,u);return null===t.firstChild&&(t.firstChild=S),null!==f&&(v?null==f.child&&null!==S.parent&&(f.child=S):null===f.next&&(f.next=S,S.prev=f)),S}(t,n,i,s,u),function R(){return Er.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=s,f.attrs=u;const v=function to(){const t=Er.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Zi(f,!0),f}function xd(t,n,i,s){if(0===i)return-1;const u=n.length;for(let f=0;f<i;f++)n.push(s),t.blueprint.push(s),t.data.push(null);return u}function K_(t,n,i,s,u){const f=Zy(n,Mo),v=_s(),C=2&s;try{Pl(-1),C&&n.length>Zr&&im(t,n,Zr,!1),I(C?2:0,u);const H=C?f:null,de=Ss(H);try{null!==H&&(H.dirty=!1),i(s,u)}finally{Rs(H,de)}}finally{C&&null===n[Mo]&&Qy(n,Mo),Pl(v),I(C?3:1,u)}}function ev(t,n,i){if(Fs(n)){const s=lo(null);try{const f=n.directiveEnd;for(let v=n.directiveStart;v<f;v++){const C=t.data[v];C.contentQueries&&C.contentQueries(1,i[v],v)}}finally{lo(s)}}}function tv(t,n,i){Ko()&&(function Bs(t,n,i,s){const u=i.directiveStart,f=i.directiveEnd;ao(i)&&function tE(t,n,i){const s=Bt(n,t),u=Qh(i);let v=16;i.signals?v=4096:i.onPush&&(v=64);const C=rf(t,om(t,u,null,v,s,n,null,t[an].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=C}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||ou(i,n),is(s,n);const v=i.initialInputs;for(let C=u;C<f;C++){const S=t.data[C],H=Qs(n,t,C,i);is(H,n),null!==v&&ov(0,C-u,H,S,0,v),Bo(S)&&(zr(i.index,n)[Kt]=Qs(n,t,C,i))}}(t,n,i,Bt(i,n)),64==(64&i.flags)&&iv(t,n,i))}function Zh(t,n,i=Bt){const s=n.localNames;if(null!==s){let u=n.index+1;for(let f=0;f<s.length;f+=2){const v=s[f+1],C=-1===v?i(n,t):t[v];t[u++]=C}}}function Qh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=sm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function sm(t,n,i,s,u,f,v,C,S,H,de){const qe=Zr+s,Mt=qe+u,jt=function q_(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:gi);return i}(qe,Mt),yn="function"==typeof H?H():H;return jt[mn]={type:t,blueprint:jt,template:i,queries:null,viewQuery:C,declTNode:n,data:jt.slice().fill(null,qe),bindingStartIndex:qe,expandoStartIndex:Mt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:S,consts:yn,incompleteFirstPass:!1,ssrId:de}}let lm=t=>null;function um(t,n,i,s){for(let u in t)if(t.hasOwnProperty(u)){i=null===i?{}:i;const f=t[u];null===s?Jh(i,n,u,f):s.hasOwnProperty(u)&&Jh(i,n,s[u],f)}return i}function Jh(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function Ap(t,n,i,s){if(Ko()){const u=null===s?null:{"":-1},f=function Nd(t,n){const i=t.directiveRegistry;let s=null,u=null;if(i)for(let f=0;f<i.length;f++){const v=i[f];if(_n(n,v.selectors,!1))if(s||(s=[]),Bo(v))if(null!==v.findHostDirectiveDefs){const C=[];u=u||new Map,v.findHostDirectiveDefs(v,C,u),s.unshift(...C,v),ic(t,n,C.length)}else s.unshift(v),ic(t,n,0);else u=u||new Map,v.findHostDirectiveDefs?.(v,s,u),s.push(v)}return null===s?null:[s,u]}(t,i);let v,C;null===f?v=C=null:[v,C]=f,null!==v&&dm(t,n,i,v,u,C),u&&function fm(t,n,i){if(n){const s=t.localNames=[];for(let u=0;u<n.length;u+=2){const f=i[n[u+1]];if(null==f)throw new Te(-301,!1);s.push(n[u],f)}}}(i,s,u)}i.mergedAttrs=jr(i.mergedAttrs,i.attrs)}function dm(t,n,i,s,u,f){for(let H=0;H<s.length;H++)hl(ou(i,n),t,s[H].type);!function J_(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let H=0;H<s.length;H++){const de=s[H];de.providersResolver&&de.providersResolver(de)}let v=!1,C=!1,S=xd(t,n,s.length,null);for(let H=0;H<s.length;H++){const de=s[H];i.mergedAttrs=jr(i.mergedAttrs,de.hostAttrs),eE(t,i,n,S,de),Mu(S,de,u),null!==de.contentQueries&&(i.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(i.flags|=64);const qe=de.type.prototype;!v&&(qe.ngOnChanges||qe.ngOnInit||qe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),v=!0),!C&&(qe.ngOnChanges||qe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),C=!0),S++}!function X_(t,n,i){const u=n.directiveEnd,f=t.data,v=n.attrs,C=[];let S=null,H=null;for(let de=n.directiveStart;de<u;de++){const qe=f[de],Mt=i?i.get(qe):null,yn=Mt?Mt.outputs:null;S=um(qe.inputs,de,S,Mt?Mt.inputs:null),H=um(qe.outputs,de,H,yn);const Un=null===S||null===v||$e(n)?null:gm(S,de,v);C.push(Un)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=8),S.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=C,n.inputs=S,n.outputs=H}(t,i,f)}function iv(t,n,i){const s=i.directiveStart,u=i.directiveEnd,f=i.index,v=function z(){return Er.lFrame.currentDirectiveIndex}();try{Pl(f);for(let C=s;C<u;C++){const S=t.data[C],H=n[C];_e(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&hm(S,H)}}finally{Pl(-1),_e(v)}}function hm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function ic(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Mu(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;Bo(n)&&(i[""]=t)}}function eE(t,n,i,s,u){t.data[s]=u;const f=u.factory||(u.factory=no(u.type)),v=new ul(f,Bo(u),Od);t.blueprint[s]=v,i[s]=v,function ef(t,n,i,s,u){const f=u.hostBindings;if(f){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const C=~n.index;(function tf(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(v)!=C&&v.push(C),v.push(i,s,f)}}(t,n,s,xd(t,i,u.hostVars,gi),u)}function Cl(t,n,i,s,u,f){const v=Bt(t,n);!function pm(t,n,i,s,u,f,v){if(null==f)t.removeAttribute(n,u,i);else{const C=null==v?he(f):v(f,s||"",u);t.setAttribute(n,u,C,i)}}(n[Ht],v,f,t.value,i,s,u)}function ov(t,n,i,s,u,f){const v=f[n];if(null!==v)for(let C=0;C<v.length;)sv(s,i,v[C++],v[C++],v[C++])}function sv(t,n,i,s,u){const f=lo(null);try{const v=t.inputTransforms;null!==v&&v.hasOwnProperty(s)&&(u=v[s].call(n,u)),null!==t.setInput?t.setInput(n,u,i,s):n[s]=u}finally{lo(f)}}function gm(t,n,i){let s=null,u=0;for(;u<i.length;){const f=i[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===s&&(s=[]);const v=t[f];for(let C=0;C<v.length;C+=2)if(v[C]===n){s.push(f,v[C+1],i[u+1]);break}}u+=2}else u+=2;else u+=4}return s}function mm(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function nf(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const f=i[s+1];if(-1!==f){const v=t.data[f];Zt(i[s]),v.contentQueries(2,n[f],f)}}}function rf(t,n){return t[Vn]?t[$n][Ye]=n:t[Vn]=n,t[$n]=n,n}function ym(t,n,i){Zt(0);const s=lo(null);try{n(t,i)}finally{lo(s)}}function lv(t){return t[St]||(t[St]=[])}function vm(t){return t.cleanup||(t.cleanup=[])}function cv(t,n){const i=t[rn],s=i?i.get(Xl,null):null;s&&s.handleError(n)}function wp(t,n,i,s,u){for(let f=0;f<i.length;){const v=i[f++],C=i[f++];sv(t.data[v],n[v],s,C,u)}}function nE(t,n){const i=zr(n,t),s=i[mn];!function rE(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const u=i[be];null!==u&&null===i[Ni]&&(i[Ni]=Gg(u,i[rn])),Sp(s,i,i[Kt])}function Sp(t,n,i){io(n);try{const s=t.viewQuery;null!==s&&ym(1,s,i);const u=t.template;null!==u&&K_(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&nf(t,n),t.staticViewQueries&&ym(2,t.viewQuery,i);const f=t.components;null!==f&&function uv(t,n){for(let i=0;i<n.length;i++)nE(t,n[i])}(n,f)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[B]&=-5,Rl()}}let dv=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,u){const f=typeof Zone>"u"?null:Zone.current,v=function pn(t,n,i){const s=Object.create(si);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const u=v=>{s.cleanupFn=v};return s.ref={notify:()=>gs(s),run:()=>{if(s.dirty=!1,s.hasRun&&!js(s))return;s.hasRun=!0;const v=Ss(s);try{s.cleanupFn(),s.cleanupFn=sr,s.fn(u)}finally{Rs(s,v)}},cleanup:()=>s.cleanupFn()},s.ref}(i,H=>{this.all.has(H)&&this.queue.set(H,f)},u);let C;this.all.add(v),v.notify();const S=()=>{v.cleanup(),C?.(),this.all.delete(v),this.queue.delete(v)};return C=s?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=vn({token:t,providedIn:"root",factory:()=>new t})}return t})();function e(t,n,i){let s=i?t.styles:null,u=i?t.classes:null,f=0;if(null!==n)for(let v=0;v<n.length;v++){const C=n[v];"number"==typeof C?f=C:1==f?u=Ve(u,C):2==f&&(s=Ve(s,C+": "+n[++v]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=u:t.classesWithoutHost=u}function r(t,n,i,s,u=!1){for(;null!==i;){const f=n[i.index];null!==f&&s.push(Se(f)),Ki(f)&&o(f,s);const v=i.type;if(8&v)r(t,n,i.child,s);else if(32&v){const C=hs(i,n);let S;for(;S=C();)s.push(S)}else if(16&v){const C=hy(n,i);if(Array.isArray(C))s.push(...C);else{const S=zl(n[Bn]);r(S[mn],S,C,s,!0)}}i=u?i.projectionNext:i.next}return s}function o(t,n){for(let i=Ji;i<t.length;i++){const s=t[i],u=s[mn].firstChild;null!==u&&r(s[mn],s,u,n)}t[Ao]!==t[be]&&n.push(t[Ao])}function c(t,n,i,s=!0){const u=n[an],f=u.rendererFactory,v=u.afterRenderEventManager;f.begin?.(),v?.begin();try{D(t,n,t.template,i)}catch(S){throw s&&cv(n,S),S}finally{f.end?.(),u.effectManager?.flush(),v?.end()}}function D(t,n,i,s){const u=n[B];if(256!=(256&u)){n[an].effectManager?.flush(),io(n);try{qi(n),function Sl(t){return Er.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&K_(t,n,i,2,s);const v=3==(3&u);if(v){const H=t.preOrderCheckHooks;null!==H&&va(n,H,null)}else{const H=t.preOrderHooks;null!==H&&qs(n,H,0,null),Ml(n,0)}if(function Y(t){for(let n=_l(t);null!==n;n=dd(n)){if(!n[Xi])continue;const i=n[Go];for(let s=0;s<i.length;s++){Pi(i[s])}}}(n),k(n,2),null!==t.contentQueries&&nf(t,n),v){const H=t.contentCheckHooks;null!==H&&va(n,H)}else{const H=t.contentHooks;null!==H&&qs(n,H,1),Ml(n,1)}!function W0(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Zy(n,yo);try{for(let u=0;u<i.length;u++){const f=i[u];if(f<0)Pl(~f);else{const v=f,C=i[++u],S=i[++u];P(C,v),s.dirty=!1;const H=Ss(s);try{S(2,n[v])}finally{Rs(s,H)}}}}finally{null===n[yo]&&Qy(n,yo),Pl(-1)}}(t,n);const C=t.components;null!==C&&_t(n,C,0);const S=t.viewQuery;if(null!==S&&ym(2,S,s),v){const H=t.viewCheckHooks;null!==H&&va(n,H)}else{const H=t.viewHooks;null!==H&&qs(n,H,2),Ml(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[B]&=-73,So(n)}finally{Rl()}}}function k(t,n){for(let i=_l(t);null!==i;i=dd(i))for(let s=Ji;s<i.length;s++)ze(i[s],n)}function me(t,n,i){ze(zr(n,t),i)}function ze(t,n){if(!function wr(t){return 128==(128&t[B])}(t))return;const i=t[mn],s=t[B];if(80&s&&0===n||1024&s||2===n)D(i,t,i.template,t[Kt]);else if(t[rt]>0){k(t,1);const u=i.components;null!==u&&_t(t,u,1)}}function _t(t,n,i){for(let s=0;s<n.length;s++)me(t,n[s],i)}class Yt{get rootNodes(){const n=this._lView,i=n[mn];return r(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(n){this._lView[Kt]=n}get destroyed(){return 256==(256&this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[re];if(Ki(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(at(n,s),No(i,s))}this._attachedToViewContainer=!1}Ft(this._lView[mn],this._lView)}onDestroy(n){!function ci(t,n){if(256==(256&t[B]))throw new Te(911,!1);null===t[Ui]&&(t[Ui]=[]),t[Ui].push(n)}(this._lView,n)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){this._lView[B]|=128}detectChanges(){c(this._lView[mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function d(t,n){Tu(t,n,n[Ht],2,null,null)}(this._lView[mn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=n}}class Cn extends Yt{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;c(n[mn],n,n[Kt],!1)}checkNoChanges(){}get context(){return null}}class jn extends Au{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Pr(n);return new _r(i,this.ngModule)}}function Pn(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Lr{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=Qn(s);const u=this.injector.get(n,Zg,s);return u!==Zg||i===Zg?u:this.parentInjector.get(n,i,s)}}class _r extends Kg{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=Pn(n.inputs);if(null!==i)for(const u of s)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return s}get outputs(){return Pn(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Tr(t){return t.map(qr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,u){let f=(u=u||this.ngModule)instanceof Ja?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new Lr(n,f):n,C=v.get(Hh,null);if(null===C)throw new Te(407,!1);const qe={rendererFactory:C,sanitizer:v.get(zh,null),effectManager:v.get(dv,null),afterRenderEventManager:v.get(nm,null)},Mt=C.createRenderer(null,this.componentDef),jt=this.componentDef.selectors[0][0]||"div",yn=s?function am(t,n,i,s){const f=s.get(Ky,!1)||i===On.ShadowDom,v=t.selectRootElement(n,f);return function nv(t){lm(t)}(v),v}(Mt,s,this.componentDef.encapsulation,v):xc(Mt,jt,function br(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(jt)),Vr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Mn=null;null!==yn&&(Mn=Gg(yn,v,!0));const ui=sm(0,null,null,1,0,null,null,null,null,null,null),Oi=om(null,ui,null,Vr,null,null,qe,Mt,v,null,Mn);let fo,Oa;io(Oi);try{const zu=this.componentDef;let sg,QE=null;zu.findHostDirectiveDefs?(sg=[],QE=new Map,zu.findHostDirectiveDefs(zu,sg,QE),sg.push(zu)):sg=[zu];const DS=function Mi(t,n){const i=t[mn],s=Zr;return t[s]=n,qh(i,s,2,"#host",null)}(Oi,yn),AS=function Ei(t,n,i,s,u,f,v){const C=u[mn];!function kt(t,n,i,s){for(const u of t)n.mergedAttrs=jr(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(e(n,n.mergedAttrs,!0),null!==i&&Ig(s,i,n))}(s,t,n,v);let S=null;null!==n&&(S=Gg(n,u[rn]));const H=f.rendererFactory.createRenderer(n,i);let de=16;i.signals?de=4096:i.onPush&&(de=64);const qe=om(u,Qh(i),null,de,u[t.index],t,f,H,null,null,S);return C.firstCreatePass&&ic(C,t,s.length-1),rf(u,qe),u[t.index]=qe}(DS,yn,zu,sg,Oi,qe,Mt);Oa=Zn(ui,Zr),yn&&function Rt(t,n,i,s){if(s)In(t,i,["ng-version",Rd.full]);else{const{attrs:u,classes:f}=function Ai(t){const n=[],i=[];let s=1,u=2;for(;s<t.length;){let f=t[s];if("string"==typeof f)2===u?""!==f&&n.push(f,t[++s]):8===u&&i.push(f);else{if(!vt(u))break;u=f}s++}return{attrs:n,classes:i}}(n.selectors[0]);u&&In(t,i,u),f&&f.length>0&&Zf(t,i,f.join(" "))}}(Mt,zu,yn,s),void 0!==i&&function Vt(t,n,i){const s=t.projection=[];for(let u=0;u<n.length;u++){const f=i[u];s.push(null!=f?Array.from(f):null)}}(Oa,this.ngContentSelectors,i),fo=function dt(t,n,i,s,u,f){const v=Xr(),C=u[mn],S=Bt(v,u);dm(C,u,v,i,null,s);for(let de=0;de<i.length;de++)is(Qs(u,C,v.directiveStart+de,v),u);iv(C,u,v),S&&is(S,u);const H=Qs(u,C,v.directiveStart+v.componentOffset,v);if(t[Kt]=u[Kt]=H,null!==f)for(const de of f)de(H,n);return ev(C,v,t),H}(AS,zu,sg,QE,Oi,[zt]),Sp(ui,Oi,null)}finally{Rl()}return new Jr(this.componentType,fo,wu(Oa,Oi),Oi,Oa)}}class Jr extends Du{constructor(n,i,s,u,f){super(),this.location=s,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Cn(u),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let u;if(null!==s&&(u=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;wp(f[mn],f,u,n,i),this.previousInputValues.set(n,i),Kh(zr(this._tNode.index,f))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function zt(){const t=Xr();Ks(dn()[mn],t)}function Dt(t){let n=function Xt(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let u;if(Bo(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Te(903,!1);u=n.\u0275dir}if(u){if(i){s.push(u);const v=t;v.inputs=Gc(t.inputs),v.inputTransforms=Gc(t.inputTransforms),v.declaredInputs=Gc(t.declaredInputs),v.outputs=Gc(t.outputs);const C=u.hostBindings;C&&af(t,C);const S=u.viewQuery,H=u.contentQueries;if(S&&iE(t,S),H&&sf(t,H),ne(t.inputs,u.inputs),ne(t.declaredInputs,u.declaredInputs),ne(t.outputs,u.outputs),null!==u.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),ne(v.inputTransforms,u.inputTransforms)),Bo(u)&&u.data.animation){const de=t.data;de.animation=(de.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let v=0;v<f.length;v++){const C=f[v];C&&C.ngInherit&&C(t),C===Dt&&(i=!1)}}n=Object.getPrototypeOf(n)}!function oc(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const u=t[s];u.hostVars=n+=u.hostVars,u.hostAttrs=jr(u.hostAttrs,i=jr(i,u.hostAttrs))}}(s)}function Gc(t){return t===Ar?{}:t===Nn?[]:t}function iE(t,n){const i=t.viewQuery;t.viewQuery=i?(s,u)=>{n(s,u),i(s,u)}:n}function sf(t,n){const i=t.contentQueries;t.contentQueries=i?(s,u,f)=>{n(s,u,f),i(s,u,f)}:n}function af(t,n){const i=t.hostBindings;t.hostBindings=i?(s,u)=>{n(s,u),i(s,u)}:n}function pv(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const u=n[s];Array.isArray(u)&&u[2]&&(i[s]=u[2])}t.inputTransforms=i}function Ou(t){return!!cf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function cf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ts(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function df(t,n,i,s){const u=dn();return Ts(u,Ys(),n)&&(Br(),Cl(Wi(),u,t,n,i,s)),df}function Xc(t,n,i,s,u,f,v,C){const S=dn(),H=Br(),de=t+Zr,qe=H.firstCreatePass?function pf(t,n,i,s,u,f,v,C,S){const H=n.consts,de=qh(n,t,4,v||null,ki(H,C));Ap(n,i,de,ki(H,S)),Ks(n,de);const qe=de.tView=sm(2,de,s,u,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,de),qe.queries=n.queries.embeddedTView(de)),de}(de,H,S,n,i,s,u,f,v):H.data[de];Zi(qe,!1);const Mt=Up(H,S,qe,t);Wu()&&Fc(H,S,Mt,qe),is(Mt,S),rf(S,S[de]=mm(Mt,S,Mt,qe)),ps(qe)&&tv(H,S,qe),null!=v&&Zh(S,qe,C)}let Up=function wv(t,n,i,s){return ja(!0),n[Ht].createComment("")};function $p(t){return function ir(t,n){return t[n]}(function ca(){return Er.lFrame.contextLView}(),Zr+t)}function gf(t,n,i){const s=dn();return Ts(s,Ys(),n)&&function ta(t,n,i,s,u,f,v,C){const S=Bt(n,i);let de,H=n.inputs;!C&&null!=H&&(de=H[s])?(wp(t,i,de,s,u),ao(n)&&function Pu(t,n){const i=zr(n,t);16&i[B]||(i[B]|=64)}(i,n.index)):3&n.type&&(s=function rv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),u=null!=v?v(u,n.value||"",s):u,f.setProperty(S,s,u))}(Br(),Wi(),s,t,n,s[Ht],i,!1),gf}function jp(t,n,i,s,u){const v=u?"class":"style";wp(t,i,n.inputs[v],v,s)}function Hp(t,n,i,s){const u=dn(),f=Br(),v=Zr+t,C=u[Ht],S=f.firstCreatePass?function Mv(t,n,i,s,u,f){const v=n.consts,S=qh(n,t,2,s,ki(v,u));return Ap(n,i,S,ki(v,f)),null!==S.attrs&&e(S,S.attrs,!1),null!==S.mergedAttrs&&e(S,S.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,S),S}(v,f,u,n,i,s):f.data[v],H=Mm(f,u,S,C,n,t);u[v]=H;const de=ps(S);return Zi(S,!0),Ig(C,H,S),32!=(32&S.flags)&&Wu()&&Fc(f,u,H,S),0===function ys(){return Er.lFrame.elementDepthCount}()&&is(H,u),function Fa(){Er.lFrame.elementDepthCount++}(),de&&(tv(f,u,S),ev(f,S,u)),null!==s&&Zh(u,S),Hp}function zp(){let t=Xr();ns()?_o():(t=t.parent,Zi(t,!1));const n=t;(function Va(t){return Er.skipHydrationRootTNode===t})(n)&&function vi(){Er.skipHydrationRootTNode=null}(),function La(){Er.lFrame.elementDepthCount--}();const i=Br();return i.firstCreatePass&&(Ks(i,t),Fs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ol(t){return 0!=(8&t.flags)}(n)&&jp(i,n,dn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function xl(t){return 0!=(16&t.flags)}(n)&&jp(i,n,dn(),n.stylesWithoutHost,!1),zp}function Gp(t,n,i,s){return Hp(t,n,i,s),zp(),Gp}let Mm=(t,n,i,s,u,f)=>(ja(!0),xc(s,u,function ya(){return Er.lFrame.currentNamespace}()));function Bu(t,n,i){const s=dn(),u=Br(),f=t+Zr,v=u.firstCreatePass?function lc(t,n,i,s,u){const f=n.consts,v=ki(f,s),C=qh(n,t,8,"ng-container",v);return null!==v&&e(C,v,!0),Ap(n,i,C,ki(f,u)),null!==n.queries&&n.queries.elementStart(n,C),C}(f,u,s,n,i):u.data[f];Zi(v,!0);const C=Eo(u,s,v,t);return s[f]=C,Wu()&&Fc(u,s,C,v),is(C,s),ps(v)&&(tv(u,s,v),ev(u,v,s)),null!=i&&Zh(s,v),Bu}function Uu(){let t=Xr();const n=Br();return ns()?_o():(t=t.parent,Zi(t,!1)),n.firstCreatePass&&(Ks(n,t),Fs(t)&&n.queries.elementEnd(t)),Uu}function Wp(t,n,i){return Bu(t,n,i),Uu(),Wp}let Eo=(t,n,i,s)=>(ja(!0),Da(n[Ht],""));function Ud(){return dn()}function Om(t){return!!t&&"function"==typeof t.then}function xm(t){return!!t&&"function"==typeof t.subscribe}function Nm(t,n,i,s){const u=dn(),f=Br(),v=Xr();return function xv(t,n,i,s,u,f,v){const C=ps(s),H=t.firstCreatePass&&vm(t),de=n[Kt],qe=lv(n);let Mt=!0;if(3&s.type||v){const Un=Bt(s,n),lr=v?v(Un):Un,Vr=qe.length,Mn=v?Oi=>v(Se(Oi[s.index])):s.index;let ui=null;if(!v&&C&&(ui=function uE(t,n,i,s){const u=t.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const v=u[f];if(v===i&&u[f+1]===s){const C=n[St],S=u[f+2];return C.length>S?C[S]:null}"string"==typeof v&&(f+=2)}return null}(t,n,u,s.index)),null!==ui)(ui.__ngLastListenerFn__||ui).__ngNextListenerFn__=f,ui.__ngLastListenerFn__=f,Mt=!1;else{f=cc(s,n,de,f,!1);const Oi=i.listen(lr,u,f);qe.push(f,Oi),H&&H.push(u,Mn,Vr,Vr+1)}}else f=cc(s,n,de,f,!1);const jt=s.outputs;let yn;if(Mt&&null!==jt&&(yn=jt[u])){const Un=yn.length;if(Un)for(let lr=0;lr<Un;lr+=2){const fo=n[yn[lr]][yn[lr+1]].subscribe(f),Oa=qe.length;qe.push(f,fo),H&&H.push(u,s.index,Oa,-(Oa+1))}}}(f,u,u[Ht],v,t,n,s),Nm}function $d(t,n,i,s){try{return I(6,n,i),!1!==i(s)}catch(u){return cv(t,u),!1}finally{I(7,n,i)}}function cc(t,n,i,s,u){return function f(v){if(v===Function)return s;Kh(t.componentOffset>-1?zr(t.index,n):n);let S=$d(n,i,s,v),H=f.__ngNextListenerFn__;for(;H;)S=$d(n,i,H,v)&&S,H=H.__ngNextListenerFn__;return u&&!1===S&&v.preventDefault(),S}}function km(t=1){return function $a(t){return(Er.lFrame.contextLView=function pc(t,n){for(;t>0;)n=n[rr],t--;return n}(t,Er.lFrame.contextLView))[Kt]}(t)}function Nv(t,n){let i=null;const s=function An(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const f=n[u];if("*"!==f){if(null===s?_n(t,f,!0):or(s,f))return u}else i=u}return i}function Fm(t){const n=dn()[Bn][bt];if(!n.projection){const s=n.projection=du(t?t.length:1,null),u=s.slice();let f=n.child;for(;null!==f;){const v=t?Nv(f,t):0;null!==v&&(u[v]?u[v].projectionNext=f:s[v]=f,u[v]=f),f=f.next}}}function $u(t,n=0,i){const s=dn(),u=Br(),f=qh(u,Zr+t,16,null,i||null);null===f.projection&&(f.projection=n),_o(),(!s[Ni]||us())&&32!=(32&f.flags)&&function l_(t,n,i){qf(n[Ht],0,n,i,cr(t,i,n),pd(i.parent||n[bt],i,n))}(u,s,f)}function Jc(t,n){return t<<17|n<<2}function dc(t){return t>>17&32767}function Um(t){return 2|t}function ju(t){return(131068&t)>>2}function Kp(t,n){return-131069&t|n<<2}function qp(t){return 1|t}function $v(t,n,i,s,u){const f=t[i+1],v=null===n;let C=s?dc(f):ju(f),S=!1;for(;0!==C&&(!1===S||v);){const de=t[C+1];vf(t[C],n)&&(S=!0,t[C+1]=s?qp(de):Um(de)),C=s?dc(de):ju(de)}S&&(t[i+1]=s?Um(f):qp(f))}function vf(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Wa(t,n)>=0}function fc(t,n){return function ra(t,n,i,s){const u=dn(),f=Br(),v=function b(t){const n=Er.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);f.firstUpdatePass&&function Wm(t,n,i,s){const u=t.data;if(null===u[i+1]){const f=u[_s()],v=function Gm(t,n){return n>=t.expandoStartIndex}(t,i);(function Ra(t,n){return 0!=(t.flags&(n?8:16))})(f,s)&&null===n&&!v&&(n=!1),n=function Gd(t,n,i,s){const u=function Xe(t){const n=Er.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=s?n.residualClasses:n.residualStyles;if(null===u)0===(s?n.classBindings:n.styleBindings)&&(i=Gt(i=ke(null,t,n,i,s),n.attrs,s),f=null);else{const v=n.directiveStylingLast;if(-1===v||t[v]!==u)if(i=ke(u,t,n,i,s),null===f){let S=function g(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==ju(s))return t[dc(s)]}(t,n,s);void 0!==S&&Array.isArray(S)&&(S=ke(null,t,n,S[1],s),S=Gt(S,n.attrs,s),function F(t,n,i,s){t[dc(i?n.classBindings:n.styleBindings)]=s}(t,n,s,S))}else f=function Z(t,n,i){let s;const u=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<u;f++)s=Gt(s,t[f].hostAttrs,i);return Gt(s,n.attrs,i)}(t,n,s)}return void 0!==f&&(s?n.residualClasses=f:n.residualStyles=f),i}(u,f,n,s),function hc(t,n,i,s,u,f){let v=f?n.classBindings:n.styleBindings,C=dc(v),S=ju(v);t[s]=i;let de,H=!1;if(Array.isArray(i)?(de=i[1],(null===de||Wa(i,de)>0)&&(H=!0)):de=i,u)if(0!==S){const Mt=dc(t[C+1]);t[s+1]=Jc(Mt,C),0!==Mt&&(t[Mt+1]=Kp(t[Mt+1],s)),t[C+1]=function Vo(t,n){return 131071&t|n<<17}(t[C+1],s)}else t[s+1]=Jc(C,0),0!==C&&(t[C+1]=Kp(t[C+1],s)),C=s;else t[s+1]=Jc(S,0),0===C?C=s:t[S+1]=Kp(t[S+1],s),S=s;H&&(t[s+1]=Um(t[s+1])),$v(t,de,s,!0),$v(t,de,s,!1),function Uv(t,n,i,s,u){const f=u?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Wa(f,n)>=0&&(i[s+1]=qp(i[s+1]))}(n,de,t,s,f),v=Jc(C,S),f?n.classBindings=v:n.styleBindings=v}(u,f,n,i,v,s)}}(f,t,v,s),n!==gi&&Ts(u,v,n)&&function ji(t,n,i,s,u,f,v,C){if(!(3&n.type))return;const S=t.data,H=S[C+1],de=function Bv(t){return 1==(1&t)}(H)?bs(S,n,i,u,ju(H),v):void 0;os(de)||(os(f)||function Bm(t){return 2==(2&t)}(H)&&(f=bs(S,null,i,u,C,v)),function Eg(t,n,i,s,u){if(n)u?t.addClass(i,s):t.removeClass(i,s);else{let f=-1===s.indexOf("-")?void 0:Vs.DashCase;null==u?t.removeStyle(i,s,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Vs.Important),t.setStyle(i,s,u,f))}}(s,v,yt(_s(),i),u,f))}(f,f.data[_s()],u,u[Ht],t,u[v+1]=function Wd(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Me(Vc(t)))),t}(n,i),s,v)}(t,n,null,!0),fc}function ke(t,n,i,s,u){let f=null;const v=i.directiveEnd;let C=i.directiveStylingLast;for(-1===C?C=i.directiveStart:C++;C<v&&(f=n[C],s=Gt(s,f.hostAttrs,u),f!==t);)C++;return null!==t&&(i.directiveStylingLast=C),s}function Gt(t,n,i){const s=i?1:2;let u=-1;if(null!==n)for(let f=0;f<n.length;f++){const v=n[f];"number"==typeof v?u=v:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ls(t,v,!!i||n[++f]))}return void 0===t?null:t}function bs(t,n,i,s,u,f){const v=null===n;let C;for(;u>0;){const S=t[u],H=Array.isArray(S),de=H?S[1]:S,qe=null===de;let Mt=i[u+1];Mt===gi&&(Mt=qe?Nn:void 0);let jt=qe?bc(Mt,s):de===s?Mt:void 0;if(H&&!os(jt)&&(jt=bc(S,s)),os(jt)&&(C=jt,v))return C;const yn=t[u+1];u=v?dc(yn):ju(yn)}if(null!==n){let S=f?n.residualClasses:n.residualStyles;null!=S&&(C=bc(S,s))}return C}function os(t){return void 0!==t}function If(t,n=""){const i=dn(),s=Br(),u=t+Zr,f=s.firstCreatePass?qh(s,u,1,n,null):s.data[u],v=Jp(s,i,f,n,t);i[u]=v,Wu()&&Fc(s,i,v,f),Zi(f,!1)}let Jp=(t,n,i,s,u)=>(ja(!0),function Il(t,n){return t.createText(n)}(n[Ht],s));function pE(t){return Yv("",t,""),pE}function Yv(t,n,i){const s=dn(),u=function Ld(t,n,i,s){return Ts(t,Ys(),i)?n+he(i)+s:gi}(s,t,n,i);return u!==gi&&function bl(t,n,i){const s=yt(n,t);!function Gl(t,n,i){t.setValue(n,i)}(t[Ht],s,i)}(s,_s(),u),Yv}const Tf=void 0;var Kb=["en",[["a","p"],["AM","PM"],Tf],[["AM","PM"],Tf,Tf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tf,"{1} 'at' {0}",Tf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yb(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let eg={};function gE(t){const n=function qb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=gT(n);if(i)return i;const s=n.split("-")[0];if(i=gT(s),i)return i;if("en"===s)return Kb;throw new Te(701,!1)}function pT(t){return gE(t)[tg.PluralCase]}function gT(t){return t in eg||(eg[t]=mr.ng&&mr.ng.common&&mr.ng.common.locales&&mr.ng.common.locales[t]),eg[t]}var tg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tg||{});const ng="en-US";let mT=ng;function vE(t,n,i,s,u){if(t=He(t),Array.isArray(t))for(let f=0;f<t.length;f++)vE(t[f],n,i,s,u);else{const f=Br(),v=dn(),C=Xr();let S=Uc(t)?t:He(t.provide);const H=Py(t),de=1048575&C.providerIndexes,qe=C.directiveStart,Mt=C.providerIndexes>>20;if(Uc(t)||!t.multi){const jt=new ul(H,u,Od),yn=EE(S,n,u?de:de+Mt,qe);-1===yn?(hl(ou(C,v),f,S),_E(f,t,n.length),n.push(S),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),i.push(jt),v.push(jt)):(i[yn]=jt,v[yn]=jt)}else{const jt=EE(S,n,de+Mt,qe),yn=EE(S,n,de,de+Mt),lr=yn>=0&&i[yn];if(u&&!lr||!u&&!(jt>=0&&i[jt])){hl(ou(C,v),f,S);const Vr=function YD(t,n,i,s,u){const f=new ul(t,i,Od);return f.multi=[],f.index=n,f.componentProviders=0,$T(f,u,s&&!i),f}(u?WD:GD,i.length,u,s,H);!u&&lr&&(i[yn].providerFactory=Vr),_E(f,t,n.length,0),n.push(S),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),i.push(Vr),v.push(Vr)}else _E(f,t,jt>-1?jt:yn,$T(i[u?yn:jt],H,!u&&s));!u&&s&&lr&&i[yn].componentProviders++}}}function _E(t,n,i,s){const u=Uc(n),f=function wy(t){return!!t.useClass}(n);if(u||f){const S=(f?He(n.useClass):n).prototype.ngOnDestroy;if(S){const H=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const de=H.indexOf(i);-1===de?H.push(i,[s,S]):H[de+1].push(s,S)}else H.push(i,S)}}}function $T(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function EE(t,n,i,s){for(let u=i;u<s;u++)if(n[u]===t)return u;return-1}function GD(t,n,i,s){return IE(this.multi,[])}function WD(t,n,i,s){const u=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Qs(i,i[mn],this.providerFactory.index,s);f=C.slice(0,v),IE(u,f);for(let S=v;S<C.length;S++)f.push(C[S])}else f=[],IE(u,f);return f}function IE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function jT(t,n=[]){return i=>{i.providersResolver=(s,u)=>function zD(t,n,i){const s=Br();if(s.firstCreatePass){const u=Bo(t);vE(i,s.data,s.blueprint,u,!0),vE(n,s.data,s.blueprint,u,!1)}}(s,u?u(t):t,n)}}class Cf{}class HT{}function KD(t,n){return new TE(t,n??null,[])}class TE extends Cf{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jn(this);const u=Or(n);this._bootstrapComponents=nc(u.bootstrap),this._r3Injector=Uy(n,i,[{provide:Cf,useValue:this},{provide:Au,useValue:this.componentFactoryResolver},...s],Me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class CE extends HT{constructor(n){super(),this.moduleType=n}create(n){return new TE(this.moduleType,n,[])}}class zT extends Cf{constructor(n){super(),this.componentFactoryResolver=new jn(this),this.instance=null;const i=new Lo([...n.providers,{provide:Cf,useValue:this},{provide:Au,useValue:this.componentFactoryResolver}],n.parent||$c(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function GT(t,n,i=null){return new zT({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let ZD=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=by(0,i.type),u=s.length>0?GT([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,u)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=vn({token:t,providedIn:"environment",factory:()=>new t(xn(Ja))})}return t})();function WT(t){t.getStandaloneInjector=n=>n.get(ZD).getOrCreateStandaloneInjector(t)}function JT(t,n,i,s,u){return function tC(t,n,i,s,u,f,v){const C=n+i;return function xu(t,n,i,s){const u=Ts(t,n,i);return Ts(t,n+1,s)||u}(t,C,u,f)?function Sa(t,n,i){return t[n]=i}(t,C+2,v?s.call(v,u,f):s(u,f)):function Xm(t,n){const i=t[n];return i===gi?void 0:i}(t,C+2)}(dn(),function Ho(){const t=Er.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),t,n,i,s,u)}function IA(){return this._results[Symbol.iterator]()}class DE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Jl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=DE.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=IA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const u=function ea(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Mf(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let u=t[s],f=n[s];if(i&&(u=i(u),f=i(f)),f!==u)return!1}return!0}(s._results,u,i))&&(s._results=u,s.length=u.length,s.last=u[this.length-1],s.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function CA(t,n,i,s=!0){const u=n[mn];if(function E(t,n,i,s){const u=Ji+s,f=i.length;s>0&&(i[u-1][Ye]=n),s<f-Ji?(n[Ye]=i[u],Cc(i,Ji+s,n)):(i.push(n),n[Ye]=null),n[re]=i;const v=n[ri];null!==v&&i!==v&&function U(t,n){const i=t[Go];n[Bn]!==n[re][re][Bn]&&(t[Xi]=!0),null===i?t[Go]=[n]:i.push(n)}(v,n);const C=n[kr];null!==C&&C.insertView(t),n[B]|=128}(u,n,t,i),s){const f=Ih(i,t),v=n[Ht],C=kc(v,t[Ao]);null!==C&&function y(t,n,i,s,u,f){s[be]=u,s[bt]=n,Tu(t,s,i,1,u,f)}(u,t[bt],v,n,C,f)}}let ey=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AA}return t})();const bA=ey,DA=class extends bA{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const u=function TA(t,n,i,s){const u=n.tView,C=om(t,u,i,4096&t[B]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);C[ri]=t[n.index];const H=t[kr];return null!==H&&(C[kr]=H.createEmbeddedView(u)),Sp(u,C,i),C}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new Yt(u)}};function AA(){return Xv(Xr(),dn())}function Xv(t,n){return 4&t.type?new DA(n,t,wu(t,n)):null}let e_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=OA}return t})();function OA(){return dC(Xr(),dn())}const xA=e_,cC=class extends xA{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const n=kl(this._hostTNode,this._hostLView);if(ru(n)){const i=za(n,this._hostLView),s=gc(n);return new qo(i[mn].data[s+8],i)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=uC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ji}createEmbeddedView(n,i,s){let u,f;"number"==typeof s?u=s:null!=s&&(u=s.index,f=s.injector);const C=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(C,u,false),C}createComponent(n,i,s,u,f){const v=n&&!uu(n);let C;if(v)C=i;else{const Un=i||{};C=Un.index,s=Un.injector,u=Un.projectableNodes,f=Un.environmentInjector||Un.ngModuleRef}const S=v?n:new _r(Pr(n)),H=s||this.parentInjector;if(!f&&null==S.ngModule){const lr=(v?H:this.parentInjector).get(Ja,null);lr&&(f=lr)}Pr(S.componentType??{});const jt=S.create(H,u,null,f);return this.insertImpl(jt.hostView,C,false),jt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const u=n._lView;if(function Gr(t){return Ki(t[re])}(u)){const S=this.indexOf(n);if(-1!==S)this.detach(S);else{const H=u[re],de=new cC(H,H[bt],H[re]);de.detach(de.indexOf(n))}}const v=this._adjustIndex(i),C=this._lContainer;return CA(C,u,v,!s),n.attachToViewContainerRef(),Cc(AE(C),v,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=uC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=at(this._lContainer,i);s&&(No(AE(this._lContainer),i),Ft(s[mn],s))}detach(n){const i=this._adjustIndex(n,-1),s=at(this._lContainer,i);return s&&null!=No(AE(this._lContainer),i)?new Yt(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function uC(t){return t[8]}function AE(t){return t[8]||(t[8]=[])}function dC(t,n){let i;const s=n[t.index];return Ki(s)?i=s:(i=mm(s,n,null,t),n[t.index]=i,rf(n,i)),hC(i,n,t,s),new cC(i,t,n)}let hC=function fC(t,n,i,s){if(t[Ao])return;let u;u=8&i.type?Se(s):function NA(t,n){const i=t[Ht],s=i.createComment(""),u=Bt(n,t);return Zo(i,kc(i,u),s,function fd(t,n){return t.nextSibling(n)}(i,u),!1),s}(n,i),t[Ao]=u};class wE{constructor(n){this.queryList=n,this.matches=null}clone(){return new wE(this.queryList)}setDirty(){this.queryList.setDirty()}}class SE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let f=0;f<s;f++){const v=i.getByIndex(f);u.push(this.queries[v.indexInDeclarationView].clone())}return new SE(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==TC(n,i).matches&&this.queries[i].setDirty()}}class pC{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class RE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const u=null!==i?i.length:0,f=this.getByIndex(s).embeddedTView(n,u);f&&(f.indexInDeclarationView=s,null!==i?i.push(f):i=[f])}return null!==i?new RE(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class PE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new PE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let u=0;u<s.length;u++){const f=s[u];this.matchTNodeWithReadOption(n,i,LA(i,f)),this.matchTNodeWithReadOption(n,i,Ea(i,n,f,!1,!1))}else s===ey?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Ea(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const u=this.metadata.read;if(null!==u)if(u===Zl||u===e_||u===ey&&4&i.type)this.addMatch(i.index,-2);else{const f=Ea(i,n,u,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function LA(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function BA(t,n,i,s){return-1===i?function VA(t,n){return 11&t.type?wu(t,n):4&t.type?Xv(t,n):null}(n,t):-2===i?function UA(t,n,i){return i===Zl?wu(n,t):i===ey?Xv(n,t):i===e_?dC(n,t):void 0}(t,n,s):Qs(t,t[mn],i,n)}function gC(t,n,i,s){const u=n[kr].queries[s];if(null===u.matches){const f=t.data,v=i.matches,C=[];for(let S=0;S<v.length;S+=2){const H=v[S];C.push(H<0?null:BA(n,f[H],v[S+1],i.metadata.read))}u.matches=C}return u.matches}function ME(t,n,i,s){const u=t.queries.getByIndex(i),f=u.matches;if(null!==f){const v=gC(t,n,u,i);for(let C=0;C<f.length;C+=2){const S=f[C];if(S>0)s.push(v[C/2]);else{const H=f[C+1],de=n[-S];for(let qe=Ji;qe<de.length;qe++){const Mt=de[qe];Mt[ri]===Mt[re]&&ME(Mt[mn],Mt,H,s)}if(null!==de[Go]){const qe=de[Go];for(let Mt=0;Mt<qe.length;Mt++){const jt=qe[Mt];ME(jt[mn],jt,H,s)}}}}}return s}function mC(t){const n=dn(),i=Br(),s=en();Zt(s+1);const u=TC(i,s);if(t.dirty&&function Yr(t){return 4==(4&t[B])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const f=u.crossesNgTemplate?ME(i,n,s,[]):gC(i,n,u,s);t.reset(f,P_),t.notifyOnChanges()}return!0}return!1}function yC(t,n,i){const s=Br();s.firstCreatePass&&(IC(s,new pC(t,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),EC(s,dn(),n)}function vC(t,n,i,s){const u=Br();if(u.firstCreatePass){const f=Xr();IC(u,new pC(n,i,s),f.index),function jA(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}EC(u,dn(),i)}function _C(){return function $A(t,n){return t[kr].queries[n].queryList}(dn(),en())}function EC(t,n,i){const s=new DE(4==(4&i));(function Z_(t,n,i,s){const u=lv(n);u.push(i),t.firstCreatePass&&vm(t).push(s,u.length-1)})(t,n,s,s.destroy),null===n[kr]&&(n[kr]=new SE),n[kr].queries.push(new wE(s))}function IC(t,n,i){null===t.queries&&(t.queries=new RE),t.queries.track(new PE(n,i))}function TC(t,n){return t.queries.getByIndex(n)}function CC(t,n){return Xv(t,n)}function OE(t){return!!Or(t)}const UC=new sn("Application Initializer");let LE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=tt(UC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const u of this.appInits){const f=u();if(Om(f))i.push(f);else if(xm(f)){const v=new Promise((C,S)=>{f.subscribe({complete:C,error:S})});i.push(v)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(u=>{this.reject(u)}),0===i.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$C=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const n_=new sn("LocaleId",{providedIn:"root",factory:()=>tt(n_,Hn.Optional|Hn.SkipSelf)||function cw(){return typeof $localize<"u"&&$localize.locale||ng}()}),uw=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let jC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class hw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let fw=(()=>{class t{compileModuleSync(i){return new CE(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),f=nc(Or(i).declarations).reduce((v,C)=>{const S=Pr(C);return S&&v.push(new _r(S)),v},[]);return new hw(s,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const WC=new sn(""),YC=new sn("");let UE,kw=(()=>{class t{constructor(i,s,u){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,UE||(function Fw(t){UE=t}(u),u.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,u){let f=-1;s&&s>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:u})}whenStable(i,s,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,u){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(xn(Po),xn(KC),xn(YC))};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac})}return t})(),KC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return UE?.findTestabilityInTree(this,i,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Yd=null;const qC=new sn("AllowMultipleToken"),$E=new sn("PlatformDestroyListeners"),jE=new sn("appBootstrapListener");class Bw{constructor(n,i){this.name=n,this.token=i}}function XC(t,n,i=[]){const s=`Platform: ${n}`,u=new sn(s);return(f=[])=>{let v=HE();if(!v||v.injector.get(qC,!1)){const C=[...i,...f,{provide:u,useValue:!0}];t?t(C):function Uw(t){if(Yd&&!Yd.get(qC,!1))throw new Te(400,!1);(function ZC(){!function al(t){sl=t}(()=>{throw new Te(600,!1)})})(),Yd=t;const n=t.get(eb);(function QC(t){t.get(oo,null)?.forEach(i=>i())})(t)}(function JC(t=[],n){return tl.create({name:n,providers:[{provide:Cd,useValue:"platform"},{provide:$E,useValue:new Set([()=>Yd=null])},...t]})}(C,s))}return function jw(t){const n=HE();if(!n)throw new Te(401,!1);return n}()}}function HE(){return Yd?.get(eb)??null}let eb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const u=function Hw(t="zone.js",n){return"noop"===t?new B_:"zone.js"===t?new Po(n):t}(s?.ngZone,function tb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return u.run(()=>{const f=function qD(t,n,i){return new TE(t,n,i)}(i.moduleType,this.injector,function sb(t){return[{provide:Po,useFactory:t},{provide:kh,multi:!0,useFactory:()=>{const n=tt(Gw,{optional:!0});return()=>n.initialize()}},{provide:ob,useFactory:zw},{provide:zy,useFactory:Gy}]}(()=>u)),v=f.injector.get(Xl,null);return u.runOutsideAngular(()=>{const C=u.onError.subscribe({next:S=>{v.handleError(S)}});f.onDestroy(()=>{i_(this._modules,f),C.unsubscribe()})}),function nb(t,n,i){try{const s=i();return Om(s)?s.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(v,u,()=>{const C=f.injector.get(LE);return C.runInitializers(),C.donePromise.then(()=>(function yT(t){Tt(t,"Expected localeId to be defined"),"string"==typeof t&&(mT=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(n_,ng)||ng),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,s=[]){const u=rb({},s);return function Lw(t,n,i){const s=new CE(i);return Promise.resolve(s)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(i){const s=i.injector.get(og);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>s.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new Te(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get($E,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(xn(tl))};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rb(t,n){return Array.isArray(n)?n.reduce(rb,t):{...t,...n}}let og=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tt(ob),this.zoneIsStable=tt(zy),this.componentTypes=[],this.components=[],this.isStable=tt(jC).hasPendingTasks.pipe((0,Le.w)(i=>i?(0,Ee.of)(!1):this.zoneIsStable),(0,je.x)(),(0,pe.B)()),this._injector=tt(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const u=i instanceof Kg;if(!this._injector.get(LE).done)throw!u&&wi(i),new Te(405,!1);let v;v=u?i:this._injector.get(Au).resolveComponentFactory(i),this.componentTypes.push(v.componentType);const C=function Vw(t){return t.isBoundToModule}(v)?void 0:this._injector.get(Cf),H=v.create(tl.NULL,[],s||v.selector,C),de=H.location.nativeElement,qe=H.injector.get(WC,null);return qe?.registerApplication(de),H.onDestroy(()=>{this.detachView(H.hostView),i_(this.components,H),qe?.unregisterApplication(de)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;i_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(jE,[]);s.push(...this._bootstrapListeners),s.forEach(u=>u(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>i_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Te(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const ob=new sn("",{providedIn:"root",factory:()=>tt(Xl).handleError.bind(void 0)});function zw(){const t=tt(Po),n=tt(Xl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let Gw=(()=>{class t{constructor(){this.zone=tt(Po),this.applicationRef=tt(og)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yw(){return!1}let Kw=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qw}return t})();function qw(t){return function Zw(t,n,i){if(ao(t)&&!i){const s=zr(t.index,n);return new Yt(s,s)}return 47&t.type?new Yt(n[Bn],n):null}(Xr(),dn(),16==(16&t))}class ub{constructor(){}supports(n){return Ou(n)}create(n){return new nS(n)}}const tS=(t,n)=>n;class nS{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||tS}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,u=0,f=null;for(;i||s;){const v=!s||i&&i.currentIndex<hb(s,u,f)?i:s,C=hb(v,u,f),S=v.currentIndex;if(v===s)u--,s=s._nextRemoved;else if(i=i._next,null==v.previousIndex)u++;else{f||(f=[]);const H=C-u,de=S-u;if(H!=de){for(let Mt=0;Mt<H;Mt++){const jt=Mt<f.length?f[Mt]:f[Mt]=0,yn=jt+Mt;de<=yn&&yn<H&&(f[Mt]=jt+1)}f[v.previousIndex]=de-H}}C!==S&&n(v,C,S)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Ou(n))throw new Te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,f,v,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)f=n[C],v=this._trackByFn(C,f),null!==i&&Object.is(i.trackById,v)?(s&&(i=this._verifyReinsertion(i,f,v,C)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,v,C),s=!0),i=i._next}else u=0,function Im(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,C=>{v=this._trackByFn(u,C),null!==i&&Object.is(i.trackById,v)?(s&&(i=this._verifyReinsertion(i,C,v,u)),Object.is(i.item,C)||this._addIdentityChange(i,C)):(i=this._mismatch(i,C,v,u),s=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,u){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,u)):n=this._addAfter(new rS(i,s),f,u),n}_verifyReinsertion(n,i,s,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==f?n=this._reinsertAfter(f,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,f=n._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new db),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new db),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class rS{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iS{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class db{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new iS,this.map.set(i,s)),s.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hb(t,n,i){const s=t.previousIndex;if(null===s)return s;let u=0;return i&&s<i.length&&(u=i[s]),s+n+u}class fb{constructor(){}supports(n){return n instanceof Map||cf(n)}create(){return new oS}}class oS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||cf(n)))throw new Te(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(u,s);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const f=u._prev,v=u._next;return f&&(f._next=v),v&&(v._prev=f),u._next=null,u._prev=null,u}const s=new sS(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class sS{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pb(){return new KE([new ub])}let KE=(()=>{class t{static#e=this.\u0275prov=vn({token:t,providedIn:"root",factory:pb});constructor(i){this.factories=i}static create(i,s){if(null!=s){const u=s.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||pb()),deps:[[t,new Vl,new Xu]]}}find(i){const s=this.factories.find(u=>u.supports(i));if(null!=s)return s;throw new Te(901,!1)}}return t})();function gb(){return new qE([new fb])}let qE=(()=>{class t{static#e=this.\u0275prov=vn({token:t,providedIn:"root",factory:gb});constructor(i){this.factories=i}static create(i,s){if(s){const u=s.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||gb()),deps:[[t,new Vl,new Xu]]}}find(i){const s=this.factories.find(u=>u.supports(i));if(s)return s;throw new Te(901,!1)}}return t})();const cS=XC(null,"core",[]);let uS=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(s){return new(s||t)(xn(og))};static#t=this.\u0275mod=bi({type:t});static#n=this.\u0275inj=Ir({})}return t})();function IS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function CS(t,n){const i=Pr(t),s=n.elementInjector||$c();return new _r(i).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function bS(t){const n=Pr(t);if(!n)return null;const i=new _r(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(bn,gt,A)=>{"use strict";A.d(gt,{zQ:()=>it,ww:()=>Pt,rT:()=>Ge,f7:()=>gn,L6:()=>Ze,_Q:()=>Lt,lh:()=>qt,Qv:()=>st,nw:()=>It}),A(3985);var $=A(6814),se=A(5879),M=A(8326),Ne=A(7217),Ee=A(8645),pe=A(2096),Le=A(5592),je=A(2459),ye=A(3019),ne=A(3093),Me=A(4664),Ve=A(7398),Be=A(4552);class Je extends Ee.x{constructor(ue=1/0,G=1/0,W=Be.l){super(),this._bufferSize=ue,this._windowTime=G,this._timestampProvider=W,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=G===1/0,this._bufferSize=Math.max(1,ue),this._windowTime=Math.max(1,G)}next(ue){const{isStopped:G,_buffer:W,_infiniteTimeWindow:ie,_timestampProvider:Ae,_windowTime:ut}=this;G||(W.push(ue),!ie&&W.push(Ae.now()+ut)),this._trimBuffer(),super.next(ue)}_subscribe(ue){this._throwIfClosed(),this._trimBuffer();const G=this._innerSubscribe(ue),{_infiniteTimeWindow:W,_buffer:ie}=this,Ae=ie.slice();for(let ut=0;ut<Ae.length&&!ue.closed;ut+=W?1:2)ue.next(Ae[ut]);return this._checkFinalizedStatuses(ue),G}_trimBuffer(){const{_bufferSize:ue,_timestampProvider:G,_buffer:W,_infiniteTimeWindow:ie}=this,Ae=(ie?1:2)*ue;if(ue<1/0&&Ae<W.length&&W.splice(0,W.length-Ae),!ie){const ut=G.now();let Oe=0;for(let Tt=1;Tt<W.length&&W[Tt]<=ut;Tt+=2)Oe=Tt;Oe&&W.splice(0,Oe+1)}}}var He=A(3020);function lt(Ue,ue,G){let W,ie=!1;return Ue&&"object"==typeof Ue?({bufferSize:W=1/0,windowTime:ue=1/0,refCount:ie=!1,scheduler:G}=Ue):W=Ue??1/0,(0,He.B)({connector:()=>new Je(W,ue,G),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ie})}var xe=A(1374),Et=A(4674);function De(Ue,ue){return(0,Et.m)(ue)?(0,Me.w)(()=>Ue,ue):(0,Me.w)(()=>Ue)}var Te=A(5137),Re=A(2181),he=A(7142);const st=new se.OlP("angularfire2.auth.use-emulator"),Ze=new se.OlP("angularfire2.auth.settings"),Lt=new se.OlP("angularfire2.auth.tenant-id"),Ge=new se.OlP("angularfire2.auth.langugage-code"),qt=new se.OlP("angularfire2.auth.use-device-language"),gn=new se.OlP("angularfire.auth.persistence"),It=(Ue,ue,G,W,ie,Ae,ut,Oe)=>(0,Ne.cc)(`${Ue.name}.auth`,"AngularFireAuth",Ue.name,()=>{const Tt=ue.runOutsideAngular(()=>Ue.auth());if(G&&Tt.useEmulator(...G),W&&(Tt.tenantId=W),Tt.languageCode=ie,Ae&&Tt.useDeviceLanguage(),ut)for(const[xt,fn]of Object.entries(ut))Tt.settings[xt]=fn;return Oe&&Tt.setPersistence(Oe),Tt},[G,W,ie,Ae,ut,Oe]);let it=(()=>{class Ue{authState;idToken;user;idTokenResult;credential;constructor(G,W,ie,Ae,ut,Oe,Tt,xt,fn,Rn,Nt,vn){const Yn=new Ee.x,Ir=(0,pe.of)(void 0).pipe((0,ne.Q)(ut.outsideAngular),(0,Me.w)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,3985)))),(0,Ve.U)(()=>(0,Ne.on)(G,Ae,W)),(0,Ve.U)(on=>It(on,Ae,Oe,xt,fn,Rn,Tt,Nt)),lt({bufferSize:1,refCount:!1}));if((0,$.PM)(ie))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pe.of)(null);else{Ir.pipe((0,xe.P)()).subscribe();const on=Ir.pipe((0,Me.w)(Wt=>Wt.getRedirectResult().then(Ke=>Ke,()=>null)),M.iC,lt({bufferSize:1,refCount:!1})),nn=Ir.pipe((0,Me.w)(Wt=>new Le.y(Ke=>({unsubscribe:Ae.runOutsideAngular(()=>Wt.onAuthStateChanged(We=>Ke.next(We),We=>Ke.error(We),()=>Ke.complete()))})))),xr=Ir.pipe((0,Me.w)(Wt=>new Le.y(Ke=>({unsubscribe:Ae.runOutsideAngular(()=>Wt.onIdTokenChanged(We=>Ke.next(We),We=>Ke.error(We),()=>Ke.complete()))}))));this.authState=on.pipe(De(nn),(0,Te.R)(ut.outsideAngular),(0,ne.Q)(ut.insideAngular)),this.user=on.pipe(De(xr),(0,Te.R)(ut.outsideAngular),(0,ne.Q)(ut.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(Wt=>Wt?(0,je.D)(Wt.getIdToken()):(0,pe.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(Wt=>Wt?(0,je.D)(Wt.getIdTokenResult()):(0,pe.of)(null))),this.credential=(0,ye.T)(on,Yn,this.authState.pipe((0,Re.h)(Wt=>!Wt))).pipe((0,Ve.U)(Wt=>Wt?.user?Wt:null),(0,Te.R)(ut.outsideAngular),(0,ne.Q)(ut.insideAngular))}return(0,Ne.pX)(this,Ir,Ae,{spy:{apply:(on,nn,xr)=>{(on.startsWith("signIn")||on.startsWith("createUser"))&&xr.then(Wt=>Yn.next(Wt))}}})}static \u0275fac=function(W){return new(W||Ue)(se.LFG(Ne.Dh),se.LFG(Ne.xv,8),se.LFG(se.Lbi),se.LFG(se.R0b),se.LFG(M.HU),se.LFG(st,8),se.LFG(Ze,8),se.LFG(Lt,8),se.LFG(Ge,8),se.LFG(qt,8),se.LFG(gn,8),se.LFG(M.Rf,8))};static \u0275prov=se.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"any"})}return Ue})(),Pt=(()=>{class Ue{constructor(){he.Z.registerVersion("angularfire",M.q4.full,"auth-compat")}static \u0275fac=function(W){return new(W||Ue)};static \u0275mod=se.oAB({type:Ue});static \u0275inj=se.cJS({providers:[it]})}return Ue})()},7650:(bn,gt,A)=>{"use strict";A.d(gt,{ST:()=>uv,yb:()=>dv});var a=A(6814),$=A(5879),se=A(8326),M=A(7217),Ne=A(7213),Ee=A(6321),pe=A(5592),Le=A(2459),je=A(2096),ye=A(7921),ne=A(9360),Me=A(8251);function Ve(){return(0,ne.e)((l,e)=>{let r,o=!1;l.subscribe((0,Me.x)(e,c=>{const p=r;r=c,o&&e.next([p,c]),o=!0}))})}var Lt,Ge,Be=A(7398),Je=A(6699),He=A(3997),lt=A(2181),Et=(A(3985),A(3106)),De=A(5861),Te=A(534),Re=A(4537),he=A(7879),Fe=A(9058),st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ze={};(function(){var l;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(kt,dt,Rt){Rt||(Rt=0);var Vt=Array(16);if("string"==typeof dt)for(var zt=0;16>zt;++zt)Vt[zt]=dt.charCodeAt(Rt++)|dt.charCodeAt(Rt++)<<8|dt.charCodeAt(Rt++)<<16|dt.charCodeAt(Rt++)<<24;else for(zt=0;16>zt;++zt)Vt[zt]=dt[Rt++]|dt[Rt++]<<8|dt[Rt++]<<16|dt[Rt++]<<24;var Xt=kt.g[3],Dt=(dt=kt.g[0])+(Xt^(Rt=kt.g[1])&((zt=kt.g[2])^Xt))+Vt[0]+3614090360&4294967295;Dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=(Rt=(zt=(Xt=(dt=Rt+(Dt<<7&4294967295|Dt>>>25))+((Dt=Xt+(zt^dt&(Rt^zt))+Vt[1]+3905402710&4294967295)<<12&4294967295|Dt>>>20))+((Dt=zt+(Rt^Xt&(dt^Rt))+Vt[2]+606105819&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(dt^zt&(Xt^dt))+Vt[3]+3250441966&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Xt^Rt&(zt^Xt))+Vt[4]+4118548399&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Xt+(zt^dt&(Rt^zt))+Vt[5]+1200080426&4294967295)<<12&4294967295|Dt>>>20))+((Dt=zt+(Rt^Xt&(dt^Rt))+Vt[6]+2821735955&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(dt^zt&(Xt^dt))+Vt[7]+4249261313&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Xt^Rt&(zt^Xt))+Vt[8]+1770035416&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Xt+(zt^dt&(Rt^zt))+Vt[9]+2336552879&4294967295)<<12&4294967295|Dt>>>20))+((Dt=zt+(Rt^Xt&(dt^Rt))+Vt[10]+4294925233&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(dt^zt&(Xt^dt))+Vt[11]+2304563134&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Xt^Rt&(zt^Xt))+Vt[12]+1804603682&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Xt+(zt^dt&(Rt^zt))+Vt[13]+4254626195&4294967295)<<12&4294967295|Dt>>>20))+((Dt=zt+(Rt^Xt&(dt^Rt))+Vt[14]+2792965006&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Rt+(dt^zt&(Xt^dt))+Vt[15]+1236535329&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(zt^Xt&(Rt^zt))+Vt[1]+4129170786&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Xt+(Rt^zt&(dt^Rt))+Vt[6]+3225465664&4294967295)<<9&4294967295|Dt>>>23))+((Dt=zt+(dt^Rt&(Xt^dt))+Vt[11]+643717713&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(Xt^dt&(zt^Xt))+Vt[0]+3921069994&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(zt^Xt&(Rt^zt))+Vt[5]+3593408605&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Xt+(Rt^zt&(dt^Rt))+Vt[10]+38016083&4294967295)<<9&4294967295|Dt>>>23))+((Dt=zt+(dt^Rt&(Xt^dt))+Vt[15]+3634488961&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(Xt^dt&(zt^Xt))+Vt[4]+3889429448&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(zt^Xt&(Rt^zt))+Vt[9]+568446438&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Xt+(Rt^zt&(dt^Rt))+Vt[14]+3275163606&4294967295)<<9&4294967295|Dt>>>23))+((Dt=zt+(dt^Rt&(Xt^dt))+Vt[3]+4107603335&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(Xt^dt&(zt^Xt))+Vt[8]+1163531501&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(zt^Xt&(Rt^zt))+Vt[13]+2850285829&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Xt+(Rt^zt&(dt^Rt))+Vt[2]+4243563512&4294967295)<<9&4294967295|Dt>>>23))+((Dt=zt+(dt^Rt&(Xt^dt))+Vt[7]+1735328473&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Rt+(Xt^dt&(zt^Xt))+Vt[12]+2368359562&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Rt^zt^Xt)+Vt[5]+4294588738&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Xt+(dt^Rt^zt)+Vt[8]+2272392833&4294967295)<<11&4294967295|Dt>>>21))+((Dt=zt+(Xt^dt^Rt)+Vt[11]+1839030562&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(zt^Xt^dt)+Vt[14]+4259657740&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Rt^zt^Xt)+Vt[1]+2763975236&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Xt+(dt^Rt^zt)+Vt[4]+1272893353&4294967295)<<11&4294967295|Dt>>>21))+((Dt=zt+(Xt^dt^Rt)+Vt[7]+4139469664&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(zt^Xt^dt)+Vt[10]+3200236656&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Rt^zt^Xt)+Vt[13]+681279174&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Xt+(dt^Rt^zt)+Vt[0]+3936430074&4294967295)<<11&4294967295|Dt>>>21))+((Dt=zt+(Xt^dt^Rt)+Vt[3]+3572445317&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(zt^Xt^dt)+Vt[6]+76029189&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Rt^zt^Xt)+Vt[9]+3654602809&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Xt+(dt^Rt^zt)+Vt[12]+3873151461&4294967295)<<11&4294967295|Dt>>>21))+((Dt=zt+(Xt^dt^Rt)+Vt[15]+530742520&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Rt+(zt^Xt^dt)+Vt[2]+3299628645&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(zt^(Rt|~Xt))+Vt[0]+4096336452&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Xt+(Rt^(dt|~zt))+Vt[7]+1126891415&4294967295)<<10&4294967295|Dt>>>22))+((Dt=zt+(dt^(Xt|~Rt))+Vt[14]+2878612391&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Rt+(Xt^(zt|~dt))+Vt[5]+4237533241&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(zt^(Rt|~Xt))+Vt[12]+1700485571&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Xt+(Rt^(dt|~zt))+Vt[3]+2399980690&4294967295)<<10&4294967295|Dt>>>22))+((Dt=zt+(dt^(Xt|~Rt))+Vt[10]+4293915773&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Rt+(Xt^(zt|~dt))+Vt[1]+2240044497&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(zt^(Rt|~Xt))+Vt[8]+1873313359&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Xt+(Rt^(dt|~zt))+Vt[15]+4264355552&4294967295)<<10&4294967295|Dt>>>22))+((Dt=zt+(dt^(Xt|~Rt))+Vt[6]+2734768916&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Rt+(Xt^(zt|~dt))+Vt[13]+1309151649&4294967295)<<21&4294967295|Dt>>>11))+((Xt=(dt=Rt+((Dt=dt+(zt^(Rt|~Xt))+Vt[4]+4149444226&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Xt+(Rt^(dt|~zt))+Vt[11]+3174756917&4294967295)<<10&4294967295|Dt>>>22))^((zt=Xt+((Dt=zt+(dt^(Xt|~Rt))+Vt[2]+718787259&4294967295)<<15&4294967295|Dt>>>17))|~dt))+Vt[9]+3951481745&4294967295,kt.g[0]=kt.g[0]+dt&4294967295,kt.g[1]=kt.g[1]+(zt+(Dt<<21&4294967295|Dt>>>11))&4294967295,kt.g[2]=kt.g[2]+zt&4294967295,kt.g[3]=kt.g[3]+Xt&4294967295}function m(kt,dt){this.h=dt;for(var Rt=[],Vt=!0,zt=kt.length-1;0<=zt;zt--){var Xt=0|kt[zt];Vt&&Xt==dt||(Rt[zt]=Xt,Vt=!1)}this.g=Rt}(function e(kt,dt){function Rt(){}Rt.prototype=dt.prototype,kt.D=dt.prototype,kt.prototype=new Rt,kt.prototype.constructor=kt,kt.C=function(Vt,zt,Xt){for(var Dt=Array(arguments.length-2),oc=2;oc<arguments.length;oc++)Dt[oc-2]=arguments[oc];return dt.prototype[zt].apply(Vt,Dt)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(kt,dt){void 0===dt&&(dt=kt.length);for(var Rt=dt-this.blockSize,Vt=this.B,zt=this.h,Xt=0;Xt<dt;){if(0==zt)for(;Xt<=Rt;)c(this,kt,Xt),Xt+=this.blockSize;if("string"==typeof kt){for(;Xt<dt;)if(Vt[zt++]=kt.charCodeAt(Xt++),zt==this.blockSize){c(this,Vt),zt=0;break}}else for(;Xt<dt;)if(Vt[zt++]=kt[Xt++],zt==this.blockSize){c(this,Vt),zt=0;break}}this.h=zt,this.o+=dt},o.prototype.v=function(){var kt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);kt[0]=128;for(var dt=1;dt<kt.length-8;++dt)kt[dt]=0;var Rt=8*this.o;for(dt=kt.length-8;dt<kt.length;++dt)kt[dt]=255&Rt,Rt/=256;for(this.u(kt),kt=Array(16),dt=Rt=0;4>dt;++dt)for(var Vt=0;32>Vt;Vt+=8)kt[Rt++]=this.g[dt]>>>Vt&255;return kt};var D={};function k(kt){return-128<=kt&&128>kt?function p(kt,dt){var Rt=D;return Object.prototype.hasOwnProperty.call(Rt,kt)?Rt[kt]:Rt[kt]=dt(kt)}(kt,function(dt){return new m([0|dt],0>dt?-1:0)}):new m([0|kt],0>kt?-1:0)}function Y(kt){if(isNaN(kt)||!isFinite(kt))return ze;if(0>kt)return Pn(Y(-kt));for(var dt=[],Rt=1,Vt=0;kt>=Rt;Vt++)dt[Vt]=kt/Rt|0,Rt*=4294967296;return new m(dt,0)}var ze=k(0),_t=k(1),Yt=k(16777216);function Cn(kt){if(0!=kt.h)return!1;for(var dt=0;dt<kt.g.length;dt++)if(0!=kt.g[dt])return!1;return!0}function jn(kt){return-1==kt.h}function Pn(kt){for(var dt=kt.g.length,Rt=[],Vt=0;Vt<dt;Vt++)Rt[Vt]=~kt.g[Vt];return new m(Rt,~kt.h).add(_t)}function br(kt,dt){return kt.add(Pn(dt))}function Lr(kt,dt){for(;(65535&kt[dt])!=kt[dt];)kt[dt+1]+=kt[dt]>>>16,kt[dt]&=65535,dt++}function _r(kt,dt){this.g=kt,this.h=dt}function Jr(kt,dt){if(Cn(dt))throw Error("division by zero");if(Cn(kt))return new _r(ze,ze);if(jn(kt))return dt=Jr(Pn(kt),dt),new _r(Pn(dt.g),Pn(dt.h));if(jn(dt))return dt=Jr(kt,Pn(dt)),new _r(Pn(dt.g),dt.h);if(30<kt.g.length){if(jn(kt)||jn(dt))throw Error("slowDivide_ only works with positive integers.");for(var Rt=_t,Vt=dt;0>=Vt.l(kt);)Rt=Mi(Rt),Vt=Mi(Vt);var zt=Ei(Rt,1),Xt=Ei(Vt,1);for(Vt=Ei(Vt,2),Rt=Ei(Rt,2);!Cn(Vt);){var Dt=Xt.add(Vt);0>=Dt.l(kt)&&(zt=zt.add(Rt),Xt=Dt),Vt=Ei(Vt,1),Rt=Ei(Rt,1)}return dt=br(kt,zt.j(dt)),new _r(zt,dt)}for(zt=ze;0<=kt.l(dt);){for(Rt=Math.max(1,Math.floor(kt.m()/dt.m())),Vt=48>=(Vt=Math.ceil(Math.log(Rt)/Math.LN2))?1:Math.pow(2,Vt-48),Dt=(Xt=Y(Rt)).j(dt);jn(Dt)||0<Dt.l(kt);)Dt=(Xt=Y(Rt-=Vt)).j(dt);Cn(Xt)&&(Xt=_t),zt=zt.add(Xt),kt=br(kt,Dt)}return new _r(zt,kt)}function Mi(kt){for(var dt=kt.g.length+1,Rt=[],Vt=0;Vt<dt;Vt++)Rt[Vt]=kt.i(Vt)<<1|kt.i(Vt-1)>>>31;return new m(Rt,kt.h)}function Ei(kt,dt){var Rt=dt>>5;dt%=32;for(var Vt=kt.g.length-Rt,zt=[],Xt=0;Xt<Vt;Xt++)zt[Xt]=0<dt?kt.i(Xt+Rt)>>>dt|kt.i(Xt+Rt+1)<<32-dt:kt.i(Xt+Rt);return new m(zt,kt.h)}(l=m.prototype).m=function(){if(jn(this))return-Pn(this).m();for(var kt=0,dt=1,Rt=0;Rt<this.g.length;Rt++){var Vt=this.i(Rt);kt+=(0<=Vt?Vt:4294967296+Vt)*dt,dt*=4294967296}return kt},l.toString=function(kt){if(2>(kt=kt||10)||36<kt)throw Error("radix out of range: "+kt);if(Cn(this))return"0";if(jn(this))return"-"+Pn(this).toString(kt);for(var dt=Y(Math.pow(kt,6)),Rt=this,Vt="";;){var zt=Jr(Rt,dt).g,Xt=((0<(Rt=br(Rt,zt.j(dt))).g.length?Rt.g[0]:Rt.h)>>>0).toString(kt);if(Cn(Rt=zt))return Xt+Vt;for(;6>Xt.length;)Xt="0"+Xt;Vt=Xt+Vt}},l.i=function(kt){return 0>kt?0:kt<this.g.length?this.g[kt]:this.h},l.l=function(kt){return jn(kt=br(this,kt))?-1:Cn(kt)?0:1},l.abs=function(){return jn(this)?Pn(this):this},l.add=function(kt){for(var dt=Math.max(this.g.length,kt.g.length),Rt=[],Vt=0,zt=0;zt<=dt;zt++){var Xt=Vt+(65535&this.i(zt))+(65535&kt.i(zt)),Dt=(Xt>>>16)+(this.i(zt)>>>16)+(kt.i(zt)>>>16);Vt=Dt>>>16,Rt[zt]=(Dt&=65535)<<16|(Xt&=65535)}return new m(Rt,-2147483648&Rt[Rt.length-1]?-1:0)},l.j=function(kt){if(Cn(this)||Cn(kt))return ze;if(jn(this))return jn(kt)?Pn(this).j(Pn(kt)):Pn(Pn(this).j(kt));if(jn(kt))return Pn(this.j(Pn(kt)));if(0>this.l(Yt)&&0>kt.l(Yt))return Y(this.m()*kt.m());for(var dt=this.g.length+kt.g.length,Rt=[],Vt=0;Vt<2*dt;Vt++)Rt[Vt]=0;for(Vt=0;Vt<this.g.length;Vt++)for(var zt=0;zt<kt.g.length;zt++){var Xt=this.i(Vt)>>>16,Dt=65535&this.i(Vt),oc=kt.i(zt)>>>16,Gc=65535&kt.i(zt);Rt[2*Vt+2*zt]+=Dt*Gc,Lr(Rt,2*Vt+2*zt),Rt[2*Vt+2*zt+1]+=Xt*Gc,Lr(Rt,2*Vt+2*zt+1),Rt[2*Vt+2*zt+1]+=Dt*oc,Lr(Rt,2*Vt+2*zt+1),Rt[2*Vt+2*zt+2]+=Xt*oc,Lr(Rt,2*Vt+2*zt+2)}for(Vt=0;Vt<dt;Vt++)Rt[Vt]=Rt[2*Vt+1]<<16|Rt[2*Vt];for(Vt=dt;Vt<2*dt;Vt++)Rt[Vt]=0;return new m(Rt,0)},l.A=function(kt){return Jr(this,kt).h},l.and=function(kt){for(var dt=Math.max(this.g.length,kt.g.length),Rt=[],Vt=0;Vt<dt;Vt++)Rt[Vt]=this.i(Vt)&kt.i(Vt);return new m(Rt,this.h&kt.h)},l.or=function(kt){for(var dt=Math.max(this.g.length,kt.g.length),Rt=[],Vt=0;Vt<dt;Vt++)Rt[Vt]=this.i(Vt)|kt.i(Vt);return new m(Rt,this.h|kt.h)},l.xor=function(kt){for(var dt=Math.max(this.g.length,kt.g.length),Rt=[],Vt=0;Vt<dt;Vt++)Rt[Vt]=this.i(Vt)^kt.i(Vt);return new m(Rt,this.h^kt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ge=Ze.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=Y,m.fromString=function me(kt,dt){if(0==kt.length)throw Error("number format error: empty string");if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if("-"==kt.charAt(0))return Pn(me(kt.substring(1),dt));if(0<=kt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rt=Y(Math.pow(dt,8)),Vt=ze,zt=0;zt<kt.length;zt+=8){var Xt=Math.min(8,kt.length-zt),Dt=parseInt(kt.substring(zt,zt+Xt),dt);8>Xt?(Xt=Y(Math.pow(dt,Xt)),Vt=Vt.j(Xt).add(Y(Dt))):Vt=(Vt=Vt.j(Rt)).add(Y(Dt))}return Vt},Lt=Ze.Integer=m}).apply(typeof st<"u"?st:typeof self<"u"?self:typeof window<"u"?window:{});var It,it,Pt,Ue,ue,G,W,ie,Ae,qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,F,Z){return g==Array.prototype||g==Object.prototype||(g[F]=Z.value),g},o=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof qt&&qt];for(var F=0;F<g.length;++F){var Z=g[F];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}(this);!function c(g,F){if(F)e:{var Z=o;g=g.split(".");for(var ke=0;ke<g.length-1;ke++){var Gt=g[ke];if(!(Gt in Z))break e;Z=Z[Gt]}(F=F(ke=Z[g=g[g.length-1]]))!=ke&&null!=F&&e(Z,g,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(g){return g||function(){return function p(g,F){g instanceof String&&(g+="");var Z=0,ke=!1,Gt={next:function(){if(!ke&&Z<g.length){var cn=Z++;return{value:F(cn,g[cn]),done:!1}}return ke=!0,{done:!0,value:void 0}}};return Gt[Symbol.iterator]=function(){return Gt},Gt}(this,function(F,Z){return Z})}});var m=m||{},D=this||self;function k(g){var F=typeof g;return"array"==(F="object"!=F?F:g?Array.isArray(g)?"array":F:"null")||"object"==F&&"number"==typeof g.length}function Y(g){var F=typeof g;return"object"==F&&null!=g||"function"==F}function me(g,F,Z){return g.call.apply(g.bind,arguments)}function ze(g,F,Z){if(!g)throw Error();if(2<arguments.length){var ke=Array.prototype.slice.call(arguments,2);return function(){var Gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Gt,ke),g.apply(F,Gt)}}return function(){return g.apply(F,arguments)}}function _t(g,F,Z){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?me:ze).apply(null,arguments)}function Yt(g,F){var Z=Array.prototype.slice.call(arguments,1);return function(){var ke=Z.slice();return ke.push.apply(ke,arguments),g.apply(this,ke)}}function Cn(g,F){function Z(){}Z.prototype=F.prototype,g.aa=F.prototype,g.prototype=new Z,g.prototype.constructor=g,g.Qb=function(ke,Gt,cn){for(var tr=Array(arguments.length-2),ho=2;ho<arguments.length;ho++)tr[ho-2]=arguments[ho];return F.prototype[Gt].apply(ke,tr)}}function jn(g){const F=g.length;if(0<F){const Z=Array(F);for(let ke=0;ke<F;ke++)Z[ke]=g[ke];return Z}return[]}function Pn(g,F){for(let Z=1;Z<arguments.length;Z++){const ke=arguments[Z];if(k(ke)){const Gt=g.length||0,cn=ke.length||0;g.length=Gt+cn;for(let tr=0;tr<cn;tr++)g[Gt+tr]=ke[tr]}else g.push(ke)}}function Lr(g){return/^[\s\xa0]*$/.test(g)}function _r(){var g=D.navigator;return g&&(g=g.userAgent)?g:""}function Jr(g){return Jr[" "](g),g}Jr[" "]=function(){};var Mi=!(-1==_r().indexOf("Gecko")||-1!=_r().toLowerCase().indexOf("webkit")&&-1==_r().indexOf("Edge")||-1!=_r().indexOf("Trident")||-1!=_r().indexOf("MSIE")||-1!=_r().indexOf("Edge"));function Ei(g,F,Z){for(const ke in g)F.call(Z,g[ke],ke,g)}function dt(g){const F={};for(const Z in g)F[Z]=g[Z];return F}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vt(g,F){let Z,ke;for(let Gt=1;Gt<arguments.length;Gt++){for(Z in ke=arguments[Gt],ke)g[Z]=ke[Z];for(let cn=0;cn<Rt.length;cn++)Z=Rt[cn],Object.prototype.hasOwnProperty.call(ke,Z)&&(g[Z]=ke[Z])}}function zt(g){var F=1;g=g.split(":");const Z=[];for(;0<F&&g.length;)Z.push(g.shift()),F--;return g.length&&Z.push(g.join(":")),Z}function Xt(g){D.setTimeout(()=>{throw g},0)}function Dt(){var g=Em;let F=null;return g.g&&(F=g.g,g.g=g.g.next,g.g||(g.h=null),F.next=null),F}var Gc=new class br{constructor(F,Z){this.i=F,this.j=Z,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new iE,g=>g.reset());class iE{constructor(){this.next=this.g=this.h=null}set(F,Z){this.h=F,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let sf,af=!1,Em=new class oc{constructor(){this.h=this.g=null}add(F,Z){const ke=Gc.get();ke.set(F,Z),this.h?this.h.next=ke:this.g=ke,this.h=ke}},hv=()=>{const g=D.Promise.resolve(void 0);sf=()=>{g.then(oE)}};var oE=()=>{for(var g;g=Dt();){try{g.h.call(g.g)}catch(Z){Xt(Z)}var F=Gc;F.j(g),100>F.h&&(F.h++,g.next=F.g,F.g=g)}af=!1};function Wc(){this.s=this.s,this.C=this.C}function Is(g,F){this.type=g,this.g=this.target=F,this.defaultPrevented=!1}Wc.prototype.s=!1,Wc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Is.prototype.h=function(){this.defaultPrevented=!0};var fv=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var g=!1,F=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const Z=()=>{};D.addEventListener("test",Z,F),D.removeEventListener("test",Z,F)}catch{}return g}();function lf(g,F){if(Is.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var Z=this.type=g.type,ke=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=F,F=g.relatedTarget){if(Mi){e:{try{Jr(F.nodeName);var Gt=!0;break e}catch{}Gt=!1}Gt||(F=null)}}else"mouseover"==Z?F=g.fromElement:"mouseout"==Z&&(F=g.toElement);this.relatedTarget=F,ke?(this.clientX=void 0!==ke.clientX?ke.clientX:ke.pageX,this.clientY=void 0!==ke.clientY?ke.clientY:ke.pageY,this.screenX=ke.screenX||0,this.screenY=ke.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:Y0[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&lf.aa.h.call(this)}}Cn(lf,Is);var Y0={2:"touch",3:"pen",4:"mouse"};lf.prototype.h=function(){lf.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var kd="closure_listenable_"+(1e6*Math.random()|0),pv=0;function K0(g,F,Z,ke,Gt){this.listener=g,this.proxy=null,this.src=F,this.type=Z,this.capture=!!ke,this.ha=Gt,this.key=++pv,this.da=this.fa=!1}function Ou(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Rp(g){this.src=g,this.g={},this.h=0}function Im(g,F){var Z=F.type;if(Z in g.g){var cn,ke=g.g[Z],Gt=Array.prototype.indexOf.call(ke,F,void 0);(cn=0<=Gt)&&Array.prototype.splice.call(ke,Gt,1),cn&&(Ou(F),0==g.g[Z].length&&(delete g.g[Z],g.h--))}}function cf(g,F,Z,ke){for(var Gt=0;Gt<g.length;++Gt){var cn=g[Gt];if(!cn.da&&cn.listener==F&&cn.capture==!!Z&&cn.ha==ke)return Gt}return-1}Rp.prototype.add=function(g,F,Z,ke,Gt){var cn=g.toString();(g=this.g[cn])||(g=this.g[cn]=[],this.h++);var tr=cf(g,F,ke,Gt);return-1<tr?(F=g[tr],Z||(F.fa=!1)):((F=new K0(F,this.src,cn,!!ke,Gt)).fa=Z,g.push(F)),F};var Tm="closure_lm_"+(1e6*Math.random()|0),Sa={};function Fd(g,F,Z,ke,Gt){if(ke&&ke.once)return uf(g,F,Z,ke,Gt);if(Array.isArray(F)){for(var cn=0;cn<F.length;cn++)Fd(g,F[cn],Z,ke,Gt);return null}return Z=qc(Z),g&&g[kd]?g.K(F,Z,Y(ke)?!!ke.capture:!!ke,Gt):Ts(g,F,Z,!1,ke,Gt)}function Ts(g,F,Z,ke,Gt,cn){if(!F)throw Error("Invalid event type");var tr=Y(Gt)?!!Gt.capture:!!Gt,ho=Yc(g);if(ho||(g[Tm]=ho=new Rp(g)),(Z=ho.add(F,Z,ke,tr,cn)).proxy)return Z;if(ke=function xu(){const F=Ld;return function g(Z){return F.call(g.src,g.listener,Z)}}(),Z.proxy=ke,ke.src=g,ke.listener=Z,g.addEventListener)fv||(Gt=tr),void 0===Gt&&(Gt=!1),g.addEventListener(F.toString(),ke,Gt);else if(g.attachEvent)g.attachEvent(Nu(F.toString()),ke);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ke)}return Z}function uf(g,F,Z,ke,Gt){if(Array.isArray(F)){for(var cn=0;cn<F.length;cn++)uf(g,F[cn],Z,ke,Gt);return null}return Z=qc(Z),g&&g[kd]?g.L(F,Z,Y(ke)?!!ke.capture:!!ke,Gt):Ts(g,F,Z,!0,ke,Gt)}function ha(g,F,Z,ke,Gt){if(Array.isArray(F))for(var cn=0;cn<F.length;cn++)ha(g,F[cn],Z,ke,Gt);else ke=Y(ke)?!!ke.capture:!!ke,Z=qc(Z),g&&g[kd]?(g=g.i,(F=String(F).toString())in g.g&&-1<(Z=cf(cn=g.g[F],Z,ke,Gt))&&(Ou(cn[Z]),Array.prototype.splice.call(cn,Z,1),0==cn.length&&(delete g.g[F],g.h--))):g&&(g=Yc(g))&&(F=g.g[F.toString()],g=-1,F&&(g=cf(F,Z,ke,Gt)),(Z=-1<g?F[g]:null)&&df(Z))}function df(g){if("number"!=typeof g&&g&&!g.da){var F=g.src;if(F&&F[kd])Im(F.i,g);else{var Z=g.type,ke=g.proxy;F.removeEventListener?F.removeEventListener(Z,ke,g.capture):F.detachEvent?F.detachEvent(Nu(Z),ke):F.addListener&&F.removeListener&&F.removeListener(ke),(Z=Yc(F))?(Im(Z,g),0==Z.h&&(Z.src=null,F[Tm]=null)):Ou(g)}}}function Nu(g){return g in Sa?Sa[g]:Sa[g]="on"+g}function Ld(g,F){if(g.da)g=!0;else{F=new lf(F,this);var Z=g.listener,ke=g.ha||g.src;g.fa&&df(g),g=Z.call(ke,F)}return g}function Yc(g){return(g=g[Tm])instanceof Rp?g:null}var Kc="__closure_events_fn_"+(1e9*Math.random()>>>0);function qc(g){return"function"==typeof g?g:(g[Kc]||(g[Kc]=function(F){return g.handleEvent(F)}),g[Kc])}function zo(){Wc.call(this),this.i=new Rp(this),this.M=this,this.F=null}function Qo(g,F){var Z,ke=g.F;if(ke)for(Z=[];ke;ke=ke.F)Z.push(ke);if(g=g.M,ke=F.type||F,"string"==typeof F)F=new Is(F,g);else if(F instanceof Is)F.target=F.target||g;else{var Gt=F;Vt(F=new Is(ke,g),Gt)}if(Gt=!0,Z)for(var cn=Z.length-1;0<=cn;cn--){var tr=F.g=Z[cn];Gt=sc(tr,ke,!0,F)&&Gt}if(Gt=sc(tr=F.g=g,ke,!0,F)&&Gt,Gt=sc(tr,ke,!1,F)&&Gt,Z)for(cn=0;cn<Z.length;cn++)Gt=sc(tr=F.g=Z[cn],ke,!1,F)&&Gt}function sc(g,F,Z,ke){if(!(F=g.i.g[String(F)]))return!0;F=F.concat();for(var Gt=!0,cn=0;cn<F.length;++cn){var tr=F[cn];if(tr&&!tr.da&&tr.capture==Z){var ho=tr.listener,Cs=tr.ha||tr.src;tr.fa&&Im(g.i,tr),Gt=!1!==ho.call(Cs,ke)&&Gt}}return Gt&&!ke.defaultPrevented}function ku(g,F,Z){if("function"==typeof g)Z&&(g=_t(g,Z));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=_t(g.handleEvent,g)}return 2147483647<Number(F)?-1:D.setTimeout(g,F||0)}function Cm(g){g.g=ku(()=>{g.g=null,g.i&&(g.i=!1,Cm(g))},g.l);const F=g.h;g.h=null,g.m.apply(null,F)}Cn(zo,Wc),zo.prototype[kd]=!0,zo.prototype.removeEventListener=function(g,F,Z,ke){ha(this,g,F,Z,ke)},zo.prototype.N=function(){if(zo.aa.N.call(this),this.i){var F,g=this.i;for(F in g.g){for(var Z=g.g[F],ke=0;ke<Z.length;ke++)Ou(Z[ke]);delete g.g[F],g.h--}}this.F=null},zo.prototype.K=function(g,F,Z,ke){return this.i.add(String(g),F,!1,Z,ke)},zo.prototype.L=function(g,F,Z,ke){return this.i.add(String(g),F,!0,Z,ke)};class gv extends Wc{constructor(F,Z){super(),this.m=F,this.l=Z,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Cm(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vd(g){Wc.call(this),this.h=g,this.g={}}Cn(Vd,Wc);var bm=[];function Dm(g){Ei(g.g,function(F,Z){this.g.hasOwnProperty(Z)&&df(F)},g),g.g={}}Vd.prototype.N=function(){Vd.aa.N.call(this),Dm(this)},Vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pp=D.JSON.stringify,mv=D.JSON.parse,yv=class{stringify(g){return D.JSON.stringify(g,void 0)}parse(g){return D.JSON.parse(g,void 0)}};function Mp(){}function vv(){}Mp.prototype.h=null;var xp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _v(){Is.call(this,"d")}function Am(){Is.call(this,"c")}Cn(_v,Is),Cn(Am,Is);var Fu={},sE=null;function Np(){return sE=sE||new zo}function aE(g){Is.call(this,Fu.La,g)}function hf(g){const F=Np();Qo(F,new aE(F))}function Ev(g,F){Is.call(this,Fu.STAT_EVENT,g),this.stat=F}function Us(g){const F=Np();Qo(F,new Ev(F,g))}function kp(g,F){Is.call(this,Fu.Ma,g),this.size=F}function ac(g,F){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){g()},F)}function Lu(){this.g=!0}function Dl(g,F,Z,ke){g.info(function(){return"XMLHTTP TEXT ("+F+"): "+function lE(g,F){if(!g.g)return F;if(!F)return null;try{var Z=JSON.parse(F);if(Z)for(g=0;g<Z.length;g++)if(Array.isArray(Z[g])){var ke=Z[g];if(!(2>ke.length)){var Gt=ke[1];if(Array.isArray(Gt)&&!(1>Gt.length)){var cn=Gt[0];if("noop"!=cn&&"stop"!=cn&&"close"!=cn)for(var tr=1;tr<Gt.length;tr++)Gt[tr]=""}}}return Pp(Z)}catch{return F}}(g,Z)+(ke?" "+ke:"")})}Fu.La="serverreachability",Cn(aE,Is),Fu.STAT_EVENT="statevent",Cn(Ev,Is),Fu.Ma="timingevent",Cn(kp,Is),Lu.prototype.xa=function(){this.g=!1},Lu.prototype.info=function(){};var wm,Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Lp(){}function Qc(g,F,Z,ke){this.j=g,this.i=F,this.l=Z,this.R=ke||1,this.U=new Vd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vp}function Vp(){this.i=null,this.g="",this.h=!1}Cn(Lp,Mp),Lp.prototype.g=function(){return new XMLHttpRequest},Lp.prototype.i=function(){return{}},wm=new Lp;var ff={},Bd={};function bv(g,F,Z){g.L=1,g.v=Yp(lc(F)),g.m=Z,g.P=!0,Dv(g,null)}function Dv(g,F){g.F=Date.now(),Bp(g),g.A=lc(g.v);var Z=g.A,ke=g.R;Array.isArray(ke)||(ke=[String(ke)]),Fm(Z.i,"t",ke),g.C=0,Z=g.j.J,g.h=new Vp,g.g=Wv(g.j,Z?F:null,!g.m),0<g.O&&(g.M=new gv(_t(g.Y,g,g.g),g.O)),F=g.U,Z=g.g,ke=g.ca;var Gt="readystatechange";Array.isArray(Gt)||(Gt&&(bm[0]=Gt.toString()),Gt=bm);for(var cn=0;cn<Gt.length;cn++){var tr=Fd(Z,Gt[cn],ke||F.handleEvent,!1,F.h||F);if(!tr)break;F.g[tr.key]=tr}F=g.H?dt(g.H):{},g.m?(g.u||(g.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,F)):(g.u="GET",g.g.ea(g.A,g.u,null,F)),hf(),function Fp(g,F,Z,ke,Gt,cn){g.info(function(){if(g.g)if(cn)for(var tr="",ho=cn.split("&"),Cs=0;Cs<ho.length;Cs++){var ji=ho[Cs].split("=");if(1<ji.length){var bs=ji[0];ji=ji[1];var os=bs.split("_");tr=2<=os.length&&"type"==os[1]?tr+(bs+"=")+ji+"&":tr+(bs+"=redacted&")}}else tr=null;else tr=cn;return"XMLHTTP REQ ("+ke+") [attempt "+Gt+"]: "+F+"\n"+Z+"\n"+tr})}(g.i,g.u,g.A,g.l,g.R,g.m)}function Av(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function Sm(g,F){var Z=g.C,ke=F.indexOf("\n",Z);return-1==ke?Bd:(Z=Number(F.substring(Z,ke)),isNaN(Z)?ff:(ke+=1)+Z>F.length?Bd:(F=F.slice(ke,ke+Z),g.C=ke+Z,F))}function Bp(g){g.S=Date.now()+g.I,Rm(g,g.I)}function Rm(g,F){if(null!=g.B)throw Error("WatchDog timer not null");g.B=ac(_t(g.ba,g),F)}function Pm(g){g.B&&(D.clearTimeout(g.B),g.B=null)}function pf(g){0==g.j.G||g.J||fE(g.j,g)}function Xc(g){Pm(g);var F=g.M;F&&"function"==typeof F.ma&&F.ma(),g.M=null,Dm(g.U),g.g&&(F=g.g,g.g=null,F.abort(),F.ma())}function Up(g,F){try{var Z=g.j;if(0!=Z.G&&(Z.g==g||$p(Z.h,g)))if(!g.K&&$p(Z.h,g)&&3==Z.G){try{var ke=Z.Da.g.parse(F)}catch{ke=null}if(Array.isArray(ke)&&3==ke.length){var Gt=ke;if(0==Gt[0]){e:if(!Z.u){if(Z.g){if(!(Z.g.F+3e3<g.F))break e;Ef(Z),Qp(Z)}Hm(Z),Us(18)}}else Z.za=Gt[1],0<Z.za-Z.T&&37500>Gt[2]&&Z.F&&0==Z.v&&!Z.C&&(Z.C=ac(_t(Z.Za,Z),6e3));if(1>=Pv(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else fc(Z,11)}else if((g.K||Z.g==g)&&Ef(Z),!Lr(F))for(Gt=Z.Da.g.parse(F),F=0;F<Gt.length;F++){let ji=Gt[F];if(Z.T=ji[0],ji=ji[1],2==Z.G)if("c"==ji[0]){Z.K=ji[1],Z.ia=ji[2];const bs=ji[3];null!=bs&&(Z.la=bs,Z.j.info("VER="+Z.la));const os=ji[4];null!=os&&(Z.Aa=os,Z.j.info("SVER="+Z.Aa));const Wd=ji[5];null!=Wd&&"number"==typeof Wd&&0<Wd&&(Z.L=ke=1.5*Wd,Z.j.info("backChannelRequestTimeoutMs_="+ke)),ke=Z;const Ra=g.g;if(Ra){const If=Ra.g?Ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(If){var cn=ke.h;cn.g||-1==If.indexOf("spdy")&&-1==If.indexOf("quic")&&-1==If.indexOf("h2")||(cn.j=cn.l,cn.g=new Set,cn.h&&(gf(cn,cn.h),cn.h=null))}if(ke.D){const Jp=Ra.g?Ra.g.getResponseHeader("X-HTTP-Session-Id"):null;Jp&&(ke.ya=Jp,Eo(ke.I,ke.D,Jp))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-g.F,Z.j.info("Handshake RTT: "+Z.R+"ms"));var tr=g;if((ke=Z).qa=Gv(ke,ke.J?ke.ia:null,ke.W),tr.K){jp(ke.h,tr);var ho=tr,Cs=ke.L;Cs&&(ho.I=Cs),ho.B&&(Pm(ho),Bp(ho)),ke.g=tr}else Hv(ke);0<Z.i.length&&_f(Z)}else"stop"!=ji[0]&&"close"!=ji[0]||fc(Z,7);else 3==Z.G&&("stop"==ji[0]||"close"==ji[0]?"stop"==ji[0]?fc(Z,7):Zp(Z):"noop"!=ji[0]&&Z.l&&Z.l.ta(ji),Z.v=0)}hf()}catch{}}function Sv(g){this.l=g||10,g=D.PerformanceNavigationTiming?0<(g=D.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function Pv(g){return g.h?1:g.g?g.g.size:0}function $p(g,F){return g.h?g.h==F:!!g.g&&g.g.has(F)}function gf(g,F){g.g?g.g.add(F):g.h=F}function jp(g,F){g.h&&g.h==F?g.h=null:g.g&&g.g.has(F)&&g.g.delete(F)}function Mv(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let F=g.i;for(const Z of g.g.values())F=F.concat(Z.D);return F}return jn(g.i)}function Gp(g,F){if(g.forEach&&"function"==typeof g.forEach)g.forEach(F,void 0);else if(k(g)||"string"==typeof g)Array.prototype.forEach.call(g,F,void 0);else for(var Z=function zp(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(k(g)||"string"==typeof g){var F=[];g=g.length;for(var Z=0;Z<g;Z++)F.push(Z);return F}F=[],Z=0;for(const ke in g)F[Z++]=ke;return F}}}(g),ke=function Hp(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(k(g)){for(var F=[],Z=g.length,ke=0;ke<Z;ke++)F.push(g[ke]);return F}for(ke in F=[],Z=0,g)F[Z++]=g[ke];return F}(g),Gt=ke.length,cn=0;cn<Gt;cn++)F.call(void 0,ke[cn],Z&&Z[cn],g)}Qc.prototype.ca=function(g){g=g.target;const F=this.M;F&&3==hc(g)?F.j():this.Y(g)},Qc.prototype.Y=function(g){try{if(g==this.g)e:{const os=hc(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>os)&&(3!=os||this.g&&(this.h.h||this.g.oa()||Uv(this.g)))){this.J||4!=os||7==F||hf(),Pm(this);var Z=this.g.Z();this.X=Z;t:if(Av(this)){var ke=Uv(this.g);g="";var Gt=ke.length,cn=4==hc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xc(this),pf(this);var tr="";break t}this.h.i=new D.TextDecoder}for(F=0;F<Gt;F++)this.h.h=!0,g+=this.h.i.decode(ke[F],{stream:!(cn&&F==Gt-1)});ke.length=0,this.h.g+=g,this.C=0,tr=this.h.g}else tr=this.g.oa();if(this.o=200==Z,function Iv(g,F,Z,ke,Gt,cn,tr){g.info(function(){return"XMLHTTP RESP ("+ke+") [ attempt "+Gt+"]: "+F+"\n"+Z+"\n"+cn+" "+tr})}(this.i,this.u,this.A,this.l,this.R,os,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var ho,Cs=this.g;if((ho=Cs.g?Cs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lr(ho)){var ji=ho;break t}}ji=null}if(!(Z=ji)){this.o=!1,this.s=3,Us(12),Xc(this),pf(this);break e}Dl(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Up(this,Z)}if(this.P){let Ra;for(Z=!0;!this.J&&this.C<tr.length;){if(Ra=Sm(this,tr),Ra==Bd){4==os&&(this.s=4,Us(14),Z=!1),Dl(this.i,this.l,null,"[Incomplete Response]");break}if(Ra==ff){this.s=4,Us(15),Dl(this.i,this.l,tr,"[Invalid Chunk]"),Z=!1;break}Dl(this.i,this.l,Ra,null),Up(this,Ra)}if(Av(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=os||0!=tr.length||this.h.h||(this.s=1,Us(16),Z=!1),this.o=this.o&&Z,Z){if(0<tr.length&&!this.W){this.W=!0;var bs=this.j;bs.g==this&&bs.ba&&!bs.M&&(bs.j.info("Great, no buffering proxy detected. Bytes received: "+tr.length),Xp(bs),bs.M=!0,Us(11))}}else Dl(this.i,this.l,tr,"[Invalid Chunked Response]"),Xc(this),pf(this)}else Dl(this.i,this.l,tr,null),Up(this,tr);4==os&&Xc(this),this.o&&!this.J&&(4==os?fE(this.j,this):(this.o=!1,Bp(this)))}else(function $v(g){const F={};g=(g.g&&2<=hc(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ke=0;ke<g.length;ke++){if(Lr(g[ke]))continue;var Z=zt(g[ke]);const Gt=Z[0];if("string"!=typeof(Z=Z[1]))continue;Z=Z.trim();const cn=F[Gt]||[];F[Gt]=cn,cn.push(Z)}!function kt(g,F){for(const Z in g)F.call(void 0,g[Z],Z,g)}(F,function(ke){return ke.join(", ")})})(this.g),400==Z&&0<tr.indexOf("Unknown SID")?(this.s=3,Us(12)):(this.s=0,Us(13)),Xc(this),pf(this)}}}catch{}},Qc.prototype.cancel=function(){this.J=!0,Xc(this)},Qc.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function Tv(g,F){g.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(hf(),Us(17)),Xc(this),this.s=2,pf(this)):Rm(this,this.S-g)},Sv.prototype.cancel=function(){if(this.i=Mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var Mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vu(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Vu){this.h=g.h,Bu(this,g.j),this.o=g.o,this.g=g.g,Uu(this,g.s),this.l=g.l;var F=g.i,Z=new $d;Z.i=F.i,F.g&&(Z.g=new Map(F.g),Z.h=F.h),Wp(this,Z),this.m=g.m}else g&&(F=String(g).match(Mm))?(this.h=!1,Bu(this,F[1]||"",!0),this.o=mf(F[2]||""),this.g=mf(F[3]||"",!0),Uu(this,F[4]),this.l=mf(F[5]||"",!0),Wp(this,F[6]||"",!0),this.m=mf(F[7]||"")):(this.h=!1,this.i=new $d(null,this.h))}function lc(g){return new Vu(g)}function Bu(g,F,Z){g.j=Z?mf(F,!0):F,g.j&&(g.j=g.j.replace(/:$/,""))}function Uu(g,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);g.s=F}else g.s=null}function Wp(g,F,Z){F instanceof $d?(g.i=F,function kv(g,F){F&&!g.j&&(cc(g),g.i=null,g.g.forEach(function(Z,ke){var Gt=ke.toLowerCase();ke!=Gt&&(km(this,ke),Fm(this,Gt,Z))},g)),g.j=F}(g.i,g.h)):(Z||(F=Ud(F,uE)),g.i=new $d(F,g.h))}function Eo(g,F,Z){g.i.set(F,Z)}function Yp(g){return Eo(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function mf(g,F){return g?F?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ud(g,F,Z){return"string"==typeof g?(g=encodeURI(g).replace(F,Om),Z&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Om(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}Vu.prototype.toString=function(){var g=[],F=this.j;F&&g.push(Ud(F,xm,!0),":");var Z=this.g;return(Z||"file"==F)&&(g.push("//"),(F=this.o)&&g.push(Ud(F,xm,!0),"@"),g.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Z=this.s)&&g.push(":",String(Z))),(Z=this.l)&&(this.g&&"/"!=Z.charAt(0)&&g.push("/"),g.push(Ud(Z,"/"==Z.charAt(0)?Ov:Nm,!0))),(Z=this.i.toString())&&g.push("?",Z),(Z=this.m)&&g.push("#",Ud(Z,xv)),g.join("")};var g,xm=/[#\/\?@]/g,Nm=/[#\?:]/g,Ov=/[#\?]/g,uE=/[#\?@]/g,xv=/#/g;function $d(g,F){this.h=this.g=null,this.i=g||null,this.j=!!F}function cc(g){g.g||(g.g=new Map,g.h=0,g.i&&function cE(g,F){if(g){g=g.split("&");for(var Z=0;Z<g.length;Z++){var ke=g[Z].indexOf("="),Gt=null;if(0<=ke){var cn=g[Z].substring(0,ke);Gt=g[Z].substring(ke+1)}else cn=g[Z];F(cn,Gt?decodeURIComponent(Gt.replace(/\+/g," ")):"")}}}(g.i,function(F,Z){g.add(decodeURIComponent(F.replace(/\+/g," ")),Z)}))}function km(g,F){cc(g),F=$u(g,F),g.g.has(F)&&(g.i=null,g.h-=g.g.get(F).length,g.g.delete(F))}function Nv(g,F){return cc(g),F=$u(g,F),g.g.has(F)}function Fm(g,F,Z){km(g,F),0<Z.length&&(g.i=null,g.g.set($u(g,F),jn(Z)),g.h+=Z.length)}function $u(g,F){return F=String(F),g.j&&(F=F.toLowerCase()),F}function uc(g,F,Z,ke,Gt){try{Gt&&(Gt.onload=null,Gt.onerror=null,Gt.onabort=null,Gt.ontimeout=null),ke(Z)}catch{}}function Lv(){this.g=new yv}function Vv(g,F,Z){const ke=Z||"";try{Gp(g,function(Gt,cn){let tr=Gt;Y(Gt)&&(tr=Pp(Gt)),F.push(ke+cn+"="+encodeURIComponent(tr))})}catch(Gt){throw F.push(ke+"type="+encodeURIComponent("_badmap")),Gt}}function jd(g){this.l=g.Ub||null,this.j=g.eb||!1}function yf(g,F){zo.call(this),this.D=g,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vm(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function Hd(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Jc(g)}function Jc(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function dc(g){let F="";return Ei(g,function(Z,ke){F+=ke,F+=":",F+=Z,F+="\r\n"}),F}function Bm(g,F,Z){e:{for(ke in Z){var ke=!1;break e}ke=!0}ke||(Z=dc(Z),"string"==typeof g?null!=Z&&encodeURIComponent(String(Z)):Eo(g,F,Z))}function Vo(g){zo.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=$d.prototype).add=function(g,F){cc(this),this.i=null,g=$u(this,g);var Z=this.g.get(g);return Z||this.g.set(g,Z=[]),Z.push(F),this.h+=1,this},l.forEach=function(g,F){cc(this),this.g.forEach(function(Z,ke){Z.forEach(function(Gt){g.call(F,Gt,ke,this)},this)},this)},l.na=function(){cc(this);const g=Array.from(this.g.values()),F=Array.from(this.g.keys()),Z=[];for(let ke=0;ke<F.length;ke++){const Gt=g[ke];for(let cn=0;cn<Gt.length;cn++)Z.push(F[ke])}return Z},l.V=function(g){cc(this);let F=[];if("string"==typeof g)Nv(this,g)&&(F=F.concat(this.g.get($u(this,g))));else{g=Array.from(this.g.values());for(let Z=0;Z<g.length;Z++)F=F.concat(g[Z])}return F},l.set=function(g,F){return cc(this),this.i=null,Nv(this,g=$u(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[F]),this.h+=1,this},l.get=function(g,F){return g&&0<(g=this.V(g)).length?String(g[0]):F},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],F=Array.from(this.g.keys());for(var Z=0;Z<F.length;Z++){var ke=F[Z];const cn=encodeURIComponent(String(ke)),tr=this.V(ke);for(ke=0;ke<tr.length;ke++){var Gt=cn;""!==tr[ke]&&(Gt+="="+encodeURIComponent(String(tr[ke]))),g.push(Gt)}}return this.i=g.join("&")},Cn(jd,Mp),jd.prototype.g=function(){return new yf(this.l,this.j)},jd.prototype.i=(g={},function(){return g}),Cn(yf,zo),(l=yf.prototype).open=function(g,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=F,this.readyState=1,Jc(this)},l.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(F.body=g),(this.D||D).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hd(this)),this.readyState=0},l.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vm(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var F=g.value?g.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!g.done}))&&(this.response=this.responseText+=F)}g.done?Hd(this):Jc(this),3==this.readyState&&Vm(this)}},l.Ra=function(g){this.g&&(this.response=this.responseText=g,Hd(this))},l.Qa=function(g){this.g&&(this.response=g,Hd(this))},l.ga=function(){this.g&&Hd(this)},l.setRequestHeader=function(g,F){this.u.append(g,F)},l.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],F=this.h.entries();for(var Z=F.next();!Z.done;)g.push((Z=Z.value)[0]+": "+Z[1]),Z=F.next();return g.join("\r\n")},Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),Cn(Vo,zo);var Um=/^https?$/i,ju=["POST","PUT"];function Kp(g,F){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=F,g.m=5,Bv(g),$m(g)}function Bv(g){g.A||(g.A=!0,Qo(g,"complete"),Qo(g,"error"))}function qp(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=hc(g)||2!=g.Z()))if(g.u&&4==hc(g))ku(g.Ea,0,g);else if(Qo(g,"readystatechange"),4==hc(g)){g.h=!1;try{const tr=g.Z();e:switch(tr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var Z;if(!(Z=F)){var ke;if(ke=0===tr){var Gt=String(g.D).match(Mm)[1]||null;!Gt&&D.self&&D.self.location&&(Gt=D.self.location.protocol.slice(0,-1)),ke=!Um.test(Gt?Gt.toLowerCase():"")}Z=ke}if(Z)Qo(g,"complete"),Qo(g,"success");else{g.m=6;try{var cn=2<hc(g)?g.g.statusText:""}catch{cn=""}g.l=cn+" ["+g.Z()+"]",Bv(g)}}finally{$m(g)}}}function $m(g,F){if(g.g){dE(g);const Z=g.g,ke=g.v[0]?()=>{}:null;g.g=null,g.v=null,F||Qo(g,"ready");try{Z.onreadystatechange=ke}catch{}}}function dE(g){g.I&&(D.clearTimeout(g.I),g.I=null)}function hc(g){return g.g?g.g.readyState:0}function Uv(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(g,F,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[g]||F}function Xo(g){this.Aa=0,this.i=[],this.j=new Lu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vf("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vf("baseRetryDelayMs",5e3,g),this.cb=vf("retryDelaySeedMs",1e4,g),this.Wa=vf("forwardChannelMaxRetries",2,g),this.wa=vf("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Sv(g&&g.concurrentRequestLimit),this.Da=new Lv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Zp(g){if(jv(g),3==g.G){var F=g.U++,Z=lc(g.I);if(Eo(Z,"SID",g.K),Eo(Z,"RID",F),Eo(Z,"TYPE","terminate"),zd(g,Z),(F=new Qc(g,g.j,F)).L=2,F.v=Yp(lc(Z)),Z=!1,D.navigator&&D.navigator.sendBeacon)try{Z=D.navigator.sendBeacon(F.v.toString(),"")}catch{}!Z&&D.Image&&((new Image).src=F.v,Z=!0),Z||(F.g=Wv(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Bp(F)}nl(g)}function Qp(g){g.g&&(Xp(g),g.g.cancel(),g.g=null)}function jv(g){Qp(g),g.u&&(D.clearTimeout(g.u),g.u=null),Ef(g),g.h.cancel(),g.s&&("number"==typeof g.s&&D.clearTimeout(g.s),g.s=null)}function _f(g){if(!Rv(g.h)&&!g.s){g.s=!0;var F=g.Ga;sf||hv(),af||(sf(),af=!0),Em.add(F,g),g.B=0}}function jm(g,F){var Z;Z=F?F.l:g.U++;const ke=lc(g.I);Eo(ke,"SID",g.K),Eo(ke,"RID",Z),Eo(ke,"AID",g.T),zd(g,ke),g.m&&g.o&&Bm(ke,g.m,g.o),Z=new Qc(g,g.j,Z,g.B+1),null===g.m&&(Z.H=g.o),F&&(g.i=F.D.concat(g.i)),F=Hu(g,Z,1e3),Z.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),gf(g.h,Z),bv(Z,ke,F)}function zd(g,F){g.H&&Ei(g.H,function(Z,ke){Eo(F,ke,Z)}),g.l&&Gp({},function(Z,ke){Eo(F,ke,Z)})}function Hu(g,F,Z){Z=Math.min(g.i.length,Z);var ke=g.l?_t(g.l.Na,g.l,g):null;e:{var Gt=g.i;let cn=-1;for(;;){const tr=["count="+Z];-1==cn?0<Z?(cn=Gt[0].g,tr.push("ofs="+cn)):cn=0:tr.push("ofs="+cn);let ho=!0;for(let Cs=0;Cs<Z;Cs++){let ji=Gt[Cs].g;const bs=Gt[Cs].map;if(ji-=cn,0>ji)cn=Math.max(0,Gt[Cs].g-100),ho=!1;else try{Vv(bs,tr,"req"+ji+"_")}catch{ke&&ke(bs)}}if(ho){ke=tr.join("&");break e}}}return g=g.i.splice(0,Z),F.D=g,ke}function Hv(g){if(!g.g&&!g.u){g.Y=1;var F=g.Fa;sf||hv(),af||(sf(),af=!0),Em.add(F,g),g.v=0}}function Hm(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=ac(_t(g.Fa,g),zm(g,g.v)),g.v++,0))}function Xp(g){null!=g.A&&(D.clearTimeout(g.A),g.A=null)}function zv(g){g.g=new Qc(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var F=lc(g.qa);Eo(F,"RID","rpc"),Eo(F,"SID",g.K),Eo(F,"AID",g.T),Eo(F,"CI",g.F?"0":"1"),!g.F&&g.ja&&Eo(F,"TO",g.ja),Eo(F,"TYPE","xmlhttp"),zd(g,F),g.m&&g.o&&Bm(F,g.m,g.o),g.L&&(g.g.I=g.L);var Z=g.g;g=g.ia,Z.L=1,Z.v=Yp(lc(F)),Z.m=null,Z.P=!0,Dv(Z,g)}function Ef(g){null!=g.C&&(D.clearTimeout(g.C),g.C=null)}function fE(g,F){var Z=null;if(g.g==F){Ef(g),Xp(g),g.g=null;var ke=2}else{if(!$p(g.h,F))return;Z=F.D,jp(g.h,F),ke=1}if(0!=g.G)if(F.o)if(1==ke){Z=F.m?F.m.length:0,F=Date.now()-F.F;var Gt=g.B;Qo(ke=Np(),new kp(ke,Z)),_f(g)}else Hv(g);else if(3==(Gt=F.s)||0==Gt&&0<F.X||!(1==ke&&function hE(g,F){return!(Pv(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=F.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=ac(_t(g.Ga,g,F),zm(g,g.B)),g.B++,0)))}(g,F)||2==ke&&Hm(g)))switch(Z&&0<Z.length&&(F=g.h,F.i=F.i.concat(Z)),Gt){case 1:fc(g,5);break;case 4:fc(g,10);break;case 3:fc(g,6);break;default:fc(g,2)}}function zm(g,F){let Z=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(Z*=2),Z*F}function fc(g,F){if(g.j.info("Error code "+F),2==F){var Z=_t(g.fb,g),ke=g.Xa;const Gt=!ke;ke=new Vu(ke||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||Bu(ke,"https"),Yp(ke),Gt?function Lm(g,F){const Z=new Lu;if(D.Image){const ke=new Image;ke.onload=Yt(uc,Z,"TestLoadImage: loaded",!0,F,ke),ke.onerror=Yt(uc,Z,"TestLoadImage: error",!1,F,ke),ke.onabort=Yt(uc,Z,"TestLoadImage: abort",!1,F,ke),ke.ontimeout=Yt(uc,Z,"TestLoadImage: timeout",!1,F,ke),D.setTimeout(function(){ke.ontimeout&&ke.ontimeout()},1e4),ke.src=g}else F(!1)}(ke.toString(),Z):function Fv(g,F){new Lu;const ke=new AbortController,Gt=setTimeout(()=>{ke.abort(),uc(0,0,!1,F)},1e4);fetch(g,{signal:ke.signal}).then(cn=>{clearTimeout(Gt),uc(0,0,!!cn.ok,F)}).catch(()=>{clearTimeout(Gt),uc(0,0,!1,F)})}(ke.toString(),Z)}else Us(2);g.G=0,g.l&&g.l.sa(F),nl(g),jv(g)}function nl(g){if(g.G=0,g.ka=[],g.l){const F=Mv(g.h);(0!=F.length||0!=g.i.length)&&(Pn(g.ka,F),Pn(g.ka,g.i),g.h.i.length=0,jn(g.i),g.i.length=0),g.l.ra()}}function Gv(g,F,Z){var ke=Z instanceof Vu?lc(Z):new Vu(Z);if(""!=ke.g)F&&(ke.g=F+"."+ke.g),Uu(ke,ke.s);else{var Gt=D.location;ke=Gt.protocol,F=F?F+"."+Gt.hostname:Gt.hostname,Gt=+Gt.port;var cn=new Vu(null);ke&&Bu(cn,ke),F&&(cn.g=F),Gt&&Uu(cn,Gt),Z&&(cn.l=Z),ke=cn}return F=g.ya,(Z=g.D)&&F&&Eo(ke,Z,F),Eo(ke,"VER",g.la),zd(g,ke),ke}function Wv(g,F,Z){if(F&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new Vo(g.Ca&&!g.pa?new jd({eb:Z}):g.pa)).Ha(g.J),F}function rl(){}function ra(){}function ko(g,F){zo.call(this),this.g=new Xo(F),this.l=g,this.h=F&&F.messageUrlParams||null,g=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(g?g["X-WebChannel-Content-Type"]=F.messageContentType:g={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(g?g["X-WebChannel-Client-Profile"]=F.va:g={"X-WebChannel-Client-Profile":F.va}),this.g.S=g,(g=F&&F.Sb)&&!Lr(g)&&(this.g.m=g),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!Lr(F)&&(this.g.D=F,null!==(g=this.h)&&F in g&&F in(g=this.h)&&delete g[F]),this.j=new Gd(this)}function Gm(g){_v.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var F=g.__sm__;if(F){e:{for(const Z in F){g=Z;break e}g=void 0}(this.i=g)&&(g=this.i,F=null!==F&&g in F?F[g]:void 0),this.data=F}else this.data=g}function Wm(){Am.call(this),this.status=1}function Gd(g){this.g=g}(l=Vo.prototype).Ha=function(g){this.J=g},l.ea=function(g,F,Z,ke){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);F=F?F.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wm.g(),this.v=function Op(g){return g.h||(g.h=g.i())}(this.o?this.o:wm),this.g.onreadystatechange=_t(this.Ea,this);try{this.B=!0,this.g.open(F,String(g),!0),this.B=!1}catch(cn){return void Kp(this,cn)}if(g=Z||"",Z=new Map(this.headers),ke)if(Object.getPrototypeOf(ke)===Object.prototype)for(var Gt in ke)Z.set(Gt,ke[Gt]);else{if("function"!=typeof ke.keys||"function"!=typeof ke.get)throw Error("Unknown input type for opt_headers: "+String(ke));for(const cn of ke.keys())Z.set(cn,ke.get(cn))}ke=Array.from(Z.keys()).find(cn=>"content-type"==cn.toLowerCase()),Gt=D.FormData&&g instanceof D.FormData,!(0<=Array.prototype.indexOf.call(ju,F,void 0))||ke||Gt||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[cn,tr]of Z)this.g.setRequestHeader(cn,tr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dE(this),this.u=!0,this.g.send(g),this.u=!1}catch(cn){Kp(this,cn)}},l.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qo(this,"complete"),Qo(this,"abort"),$m(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$m(this,!0)),Vo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?qp(this):this.bb())},l.bb=function(){qp(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<hc(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(g){if(this.g){var F=this.g.responseText;return g&&0==F.indexOf(g)&&(F=F.substring(g.length)),mv(F)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Xo.prototype).la=8,l.G=1,l.connect=function(g,F,Z,ke){Us(0),this.W=g,this.H=F||{},Z&&void 0!==ke&&(this.H.OSID=Z,this.H.OAID=ke),this.F=this.X,this.I=Gv(this,null,this.W),_f(this)},l.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Gt=new Qc(this,this.j,g);let cn=this.o;if(this.S&&(cn?(cn=dt(cn),Vt(cn,this.S)):cn=this.S),null!==this.m||this.O||(Gt.H=cn,cn=null),this.P)e:{for(var F=0,Z=0;Z<this.i.length;Z++){var ke=this.i[Z];if(void 0===(ke="__data__"in ke.map&&"string"==typeof(ke=ke.map.__data__)?ke.length:void 0))break;if(4096<(F+=ke)){F=Z;break e}if(4096===F||Z===this.i.length-1){F=Z+1;break e}}F=1e3}else F=1e3;F=Hu(this,Gt,F),Eo(Z=lc(this.I),"RID",g),Eo(Z,"CVER",22),this.D&&Eo(Z,"X-HTTP-Session-Id",this.D),zd(this,Z),cn&&(this.O?F="headers="+encodeURIComponent(String(dc(cn)))+"&"+F:this.m&&Bm(Z,this.m,cn)),gf(this.h,Gt),this.Ua&&Eo(Z,"TYPE","init"),this.P?(Eo(Z,"$req",F),Eo(Z,"SID","null"),Gt.T=!0,bv(Gt,Z,null)):bv(Gt,Z,F),this.G=2}}else 3==this.G&&(g?jm(this,g):0==this.i.length||Rv(this.h)||jm(this))},l.Fa=function(){if(this.u=null,zv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ac(_t(this.ab,this),g)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Us(10),Qp(this),zv(this))},l.Za=function(){null!=this.C&&(this.C=null,Qp(this),Hm(this),Us(19))},l.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Us(2)):(this.j.info("Failed to ping google.com"),Us(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=rl.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},ra.prototype.g=function(g,F){return new ko(g,F)},Cn(ko,zo),ko.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ko.prototype.close=function(){Zp(this.g)},ko.prototype.o=function(g){var F=this.g;if("string"==typeof g){var Z={};Z.__data__=g,g=Z}else this.u&&((Z={}).__data__=Pp(g),g=Z);F.i.push(new class{constructor(g,F){this.g=g,this.map=F}}(F.Ya++,g)),3==F.G&&_f(F)},ko.prototype.N=function(){this.g.l=null,delete this.j,Zp(this.g),delete this.g,ko.aa.N.call(this)},Cn(Gm,_v),Cn(Wm,Am),Cn(Gd,rl),Gd.prototype.ua=function(){Qo(this.g,"a")},Gd.prototype.ta=function(g){Qo(this.g,new Gm(g))},Gd.prototype.sa=function(g){Qo(this.g,new Wm)},Gd.prototype.ra=function(){Qo(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,ko.prototype.send=ko.prototype.o,ko.prototype.open=ko.prototype.m,ko.prototype.close=ko.prototype.close,Ae=gn.createWebChannelTransport=function(){return new ra},ie=gn.getStatEventTarget=function(){return Np()},W=gn.Event=Fu,G=gn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,ue=gn.ErrorCode=Zc,Cv.COMPLETE="complete",Ue=gn.EventType=Cv,vv.EventType=xp,xp.OPEN="a",xp.CLOSE="b",xp.ERROR="c",xp.MESSAGE="d",zo.prototype.listen=zo.prototype.K,Pt=gn.WebChannel=vv,it=gn.FetchXmlHttpFactory=jd,Vo.prototype.listenOnce=Vo.prototype.L,Vo.prototype.getLastError=Vo.prototype.Ka,Vo.prototype.getLastErrorCode=Vo.prototype.Ba,Vo.prototype.getStatus=Vo.prototype.Z,Vo.prototype.getResponseJson=Vo.prototype.Oa,Vo.prototype.getResponseText=Vo.prototype.oa,Vo.prototype.send=Vo.prototype.ea,Vo.prototype.setWithCredentials=Vo.prototype.Ha,It=gn.XhrIo=Vo}).apply(typeof qt<"u"?qt:typeof self<"u"?self:typeof window<"u"?window:{});const ut="@firebase/firestore";class Oe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");let Tt="10.12.1";const xt=new he.Yd("@firebase/firestore");function fn(){return xt.logLevel}function Nt(l,...e){if(xt.logLevel<=he.in.DEBUG){const r=e.map(Ir);xt.debug(`Firestore (${Tt}): ${l}`,...r)}}function vn(l,...e){if(xt.logLevel<=he.in.ERROR){const r=e.map(Ir);xt.error(`Firestore (${Tt}): ${l}`,...r)}}function Yn(l,...e){if(xt.logLevel<=he.in.WARN){const r=e.map(Ir);xt.warn(`Firestore (${Tt}): ${l}`,...r)}}function Ir(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function on(l="Unexpected state"){const e=`FIRESTORE (${Tt}) INTERNAL ASSERTION FAILED: `+l;throw vn(e),new Error(e)}function nn(l,e){l||on()}function Wt(l,e){return l}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Fe.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ln{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Oe.UNAUTHENTICATED))}shutdown(){}}class Hn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class zn{constructor(e){this.t=e,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let c=this.i;const p=Y=>this.i!==c?(c=this.i,r(Y)):Promise.resolve();let m=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ut,e.enqueueRetryable(()=>p(this.currentUser))};const D=()=>{const Y=m;e.enqueueRetryable((0,De.Z)(function*(){yield Y.promise,yield p(o.currentUser)}))},k=Y=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(Y=>k(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?k(Y):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ut)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(nn("string"==typeof o.accessToken),new Ln(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new Oe(e)}}class Gn{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kn{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Gn(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=p=>{null!=p.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const m=p.token!==this.R;return this.R=p.token,Nt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const c=p=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?c(p):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(nn("string"==typeof r.token),this.R=r.token,new Cr(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ni(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<l;o++)r[o]=Math.floor(256*Math.random());return r}class Ci{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=ni(40);for(let p=0;p<c.length;++p)o.length<20&&c[p]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return o}}function sn(l,e){return l<e?-1:l>e?1:0}function di(l,e,r){return l.length===e.length&&l.every((o,c)=>r(o,e[c]))}function Dr(l){return l+"\0"}class Nr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new We(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new We(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new We(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Nr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Nr(0,0))}static max(){return new Fn(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ii{constructor(e,r,o){void 0===r?r=0:r>e.length&&on(),void 0===o?o=e.length-r:o>e.length-r&&on(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Ii.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const p=e.get(c),m=r.get(c);if(p<m)return-1;if(p>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class qn extends Ii{construct(e,r,o){return new qn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new We(Ke.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new qn(r)}static emptyPath(){return new qn([])}}const ei=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends Ii{construct(e,r,o){return new ur(e,r,o)}static isValidIdentifier(e){return ei.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const p=()=>{if(0===o.length)throw new We(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let m=!1;for(;c<e.length;){const D=e[c];if("\\"===D){if(c+1===e.length)throw new We(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[c+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new We(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=k,c+=2}else"`"===D?(m=!m,c++):"."!==D||m?(o+=D,c++):(p(),c++)}if(p(),m)throw new We(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(r)}static emptyPath(){return new ur([])}}class Dn{constructor(e){this.path=e}static fromPath(e){return new Dn(qn.fromString(e))}static fromName(e){return new Dn(qn.fromString(e).popFirst(5))}static empty(){return new Dn(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return qn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dn(new qn(e.slice()))}}class ai{constructor(e,r,o,c){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=c}}function Ti(l){return l.fields.find(e=>2===e.kind)}function Kr(l){return l.fields.filter(e=>2!==e.kind)}ai.UNKNOWN_ID=-1;class hi{constructor(e,r){this.fieldPath=e,this.kind=r}}class fe{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new fe(0,ve.min())}}function Ce(l,e){const r=l.toTimestamp().seconds,o=l.toTimestamp().nanoseconds+1,c=Fn.fromTimestamp(1e9===o?new Nr(r+1,0):new Nr(r,o));return new ve(c,Dn.empty(),e)}function ge(l){return new ve(l.readTime,l.key,-1)}class ve{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new ve(Fn.min(),Dn.empty(),-1)}static max(){return new ve(Fn.max(),Dn.empty(),-1)}}function wt(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=Dn.comparator(l.documentKey,e.documentKey),0!==r?r:sn(l.largestBatchId,e.largestBatchId))}const tn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xn(l){return yr.apply(this,arguments)}function yr(){return(yr=(0,De.Z)(function*(l){if(l.code!==Ke.FAILED_PRECONDITION||l.message!==tn)throw l;Nt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&on(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new tt((o,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,c)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof tt?r:tt.resolve(r)}catch(r){return tt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.reject(r)}static resolve(e){return new tt((r,o)=>{r(e)})}static reject(e){return new tt((r,o)=>{o(e)})}static waitFor(e){return new tt((r,o)=>{let c=0,p=0,m=!1;e.forEach(D=>{++c,D.next(()=>{++p,m&&p===c&&r()},k=>o(k))}),m=!0,p===c&&r()})}static or(e){let r=tt.resolve(!1);for(const o of e)r=r.next(c=>c?tt.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,p)=>{o.push(r.call(this,c,p))}),this.waitFor(o)}static mapArray(e,r){return new tt((o,c)=>{const p=e.length,m=new Array(p);let D=0;for(let k=0;k<p;k++){const Y=k;r(e[Y]).next(me=>{m[Y]=me,++D,D===p&&o(m)},me=>c(me))}})}static doWhile(e,r){return new tt((o,c)=>{const p=()=>{!0===e()?r().next(()=>{p()},c):o()};p()})}}class Qn{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new ht(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const c=Ar(o.target.error);this.V.reject(new ht(e,c))}}static open(e,r,o,c){try{return new Qn(r,e.transaction(c,o))}catch(p){throw new ht(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new En(r)}}class dr{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===dr.S((0,Fe.z$)())&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nt("SimpleDb","Removing database:",e),wn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fe.hl)())return!1;if(dr.C())return!0;const e=(0,Fe.z$)(),r=dr.S(e),o=0<r&&r<10,c=Ct(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,De.Z)(function*(){return r.db||(Nt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,c)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=m=>{o(m.target.result)},p.onblocked=()=>{c(new ht(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=m=>{const D=m.target.error;c("VersionError"===D.name?new We(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new We(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new ht(e,D))},p.onupgradeneeded=m=>{Nt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,p.transaction,m.oldVersion,r.version).next(()=>{Nt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,c){var p=this;return(0,De.Z)(function*(){const m="readonly"===r;let D=0;for(;;){++D;try{p.db=yield p.M(e);const k=Qn.open(p.db,e,m?"readonly":"readwrite",o),Y=c(k).next(me=>(k.g(),me)).catch(me=>(k.abort(me),tt.reject(me))).toPromise();return Y.catch(()=>{}),yield k.m,Y}catch(k){const Y=k,me="FirebaseError"!==Y.name&&D<3;if(Nt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",me),p.close(),!me)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ct(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ot{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return wn(this.B.delete())}}class ht extends We{constructor(e,r){super(Ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Qt(l){return"IndexedDbTransactionError"===l.name}class En{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Nt("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),wn(o)}add(e){return Nt("SimpleDb","ADD",this.store.name,e,e),wn(this.store.add(e))}get(e){return wn(this.store.get(e)).next(r=>(void 0===r&&(r=null),Nt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Nt("SimpleDb","DELETE",this.store.name,e),wn(this.store.delete(e))}count(){return Nt("SimpleDb","COUNT",this.store.name),wn(this.store.count())}U(e,r){const o=this.options(e,r),c=o.index?this.store.index(o.index):this.store;if("function"==typeof c.getAll){const p=c.getAll(o.range);return new tt((m,D)=>{p.onerror=k=>{D(k.target.error)},p.onsuccess=k=>{m(k.target.result)}})}{const p=this.cursor(o),m=[];return this.W(p,(D,k)=>{m.push(k)}).next(()=>m)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new tt((c,p)=>{o.onerror=m=>{p(m.target.error)},o.onsuccess=m=>{c(m.target.result)}})}j(e,r){Nt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const c=this.cursor(o);return this.W(c,(p,m,D)=>D.delete())}J(e,r){let o;r?o=e:(o={},r=e);const c=this.cursor(o);return this.W(c,r)}Y(e){const r=this.cursor({});return new tt((o,c)=>{r.onerror=p=>{const m=Ar(p.target.error);c(m)},r.onsuccess=p=>{const m=p.target.result;m?e(m.primaryKey,m.value).next(D=>{D?m.continue():o()}):o()}})}W(e,r){const o=[];return new tt((c,p)=>{e.onerror=m=>{p(m.target.error)},e.onsuccess=m=>{const D=m.target.result;if(!D)return void c();const k=new ot(D),Y=r(D.primaryKey,D.value,k);if(Y instanceof tt){const me=Y.catch(ze=>(k.done(),tt.reject(ze)));o.push(me)}k.isDone?c():null===k.K?D.continue():D.continue(k.K)}}).next(()=>tt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function wn(l){return new tt((e,r)=>{l.onsuccess=o=>{e(o.target.result)},l.onerror=o=>{const c=Ar(o.target.error);r(c)}})}let On=!1;function Ar(l){const e=dr.S((0,Fe.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const o=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return On||(On=!0,setTimeout(()=>{throw o},0)),o}}return l}class Nn{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Nt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){r.task=null;try{Nt("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){Qt(o)?Nt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield xn(o)}yield r.X(6e4)}))}}class oe{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,De.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let c=r,p=!0;return tt.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return Nt("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,c).next(D=>{c-=D,o.add(m)});p=!1})).next(()=>r-c)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,o).next(p=>{const m=p.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(c,p)).next(D=>(Nt("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>m.size)}))}re(e,r){let o=e;return r.changes.forEach((c,p)=>{const m=ge(p);wt(m,o)>0&&(o=m)}),new ve(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let ee=(()=>{class l{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function j(l){return null==l}function le(l){return 0===l&&1/l==-1/0}function Qe(l){return"number"==typeof l&&Number.isInteger(l)&&!le(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Pe(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=$t(e)),e=ft(l.get(r),e);return $t(e)}function ft(l,e){let r=e;const o=l.length;for(let c=0;c<o;c++){const p=l.charAt(c);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function $t(l){return l+"\x01\x01"}function In(l){const e=l.length;if(nn(e>=2),2===e)return nn("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),qn.emptyPath();const r=e-2,o=[];let c="";for(let p=0;p<e;){const m=l.indexOf("\x01",p);switch((m<0||m>r)&&on(),l.charAt(m+1)){case"\x01":const D=l.substring(p,m);let k;0===c.length?k=D:(c+=D,k=c,c=""),o.push(k);break;case"\x10":c+=l.substring(p,m),c+="\0";break;case"\x11":c+=l.substring(p,m+1);break;default:on()}p=m+2}return new qn(o)}const Jn=["userId","batchId"];function hr(l,e){return[l,Pe(e)]}function jr(l,e,r){return[l,Pe(e),r]}const ar={},we=["prefixPath","collectionGroup","readTime","documentId"],nt=["prefixPath","collectionGroup","documentId"],$e=["collectionGroup","readTime","prefixPath","documentId"],At=["canonicalId","targetId"],Ot=["targetId","path"],vt=["path","targetId"],un=["collectionId","parent"],_n=["indexId","uid"],An=["uid","sequenceNumber"],Tn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sn=["indexId","uid","orderedDocumentKey"],or=["userId","collectionPath","documentId"],Sr=["userId","collectionPath","largestBatchId"],qr=["userId","collectionGroup","largestBatchId"],Tr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ai=[...Tr,"documentOverlays"],mi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Li=mi,bo=[...Li,"indexConfiguration","indexState","indexEntries"],Do=bo;class bi extends kn{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function $r(l,e){const r=Wt(l);return dr.F(r._e,e)}function Hr(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function po(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Pr(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class Mr{constructor(e,r){this.comparator=e,this.root=r||wi.EMPTY}insert(e,r){return new Mr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $i(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $i(this.root,e,this.comparator,!1)}getReverseIterator(){return new $i(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $i(this.root,e,this.comparator,!0)}}class $i{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,r,o,c,p){this.key=e,this.value=r,this.color=o??wi.RED,this.left=c??wi.EMPTY,this.right=p??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,p){return new wi(e??this.key,r??this.value,o??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const p=o(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===p?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return wi.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw on();const e=this.left.check();if(e!==this.right.check())throw on();return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1,wi.EMPTY=new class{constructor(){this.size=0}get key(){throw on()}get value(){throw on()}get color(){throw on()}get left(){throw on()}get right(){throw on()}copy(e,r,o,c,p){return this}insert(e,r,o){return new wi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Or{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new mo(this.data.getIterator())}getIteratorFrom(e){return new mo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Or(this.comparator);return r.data=e,r}}class mo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function q(l){return l.hasNext()?l.getNext():void 0}class fr{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new fr([])}unionWith(e){let r=new Or(ur.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new fr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return di(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Q extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class be{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Q("Invalid base64 string: "+p):p}}(e);return new be(r)}static fromUint8Array(e){const r=function(c){let p="";for(let m=0;m<c.length;++m)p+=String.fromCharCode(c[m]);return p}(e);return new be(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}be.EMPTY_BYTE_STRING=new be("");const mn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B(l){if(nn(!!l),"string"==typeof l){let e=0;const r=mn.exec(l);if(nn(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(l);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:re(l.seconds),nanos:re(l.nanos)}}function re(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ye(l){return"string"==typeof l?be.fromBase64String(l):be.fromUint8Array(l)}function rt(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function bt(l){const e=l.mapValue.fields.__previous_value__;return rt(e)?bt(e):e}function St(l){const e=B(l.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class Kt{constructor(e,r,o,c,p,m,D,k,Y){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=m,this.autoDetectLongPolling=D,this.longPollingOptions=k,this.useFetchStreams=Y}}class rn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new rn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rn&&e.projectId===this.projectId&&e.database===this.database}}const an={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ht={nullValue:"NULL_VALUE"};function Vn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?rt(l)?4:ss(l)?9007199254740991:10:on()}function $n(l,e){if(l===e)return!0;const r=Vn(l);if(r!==Vn(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return St(l).isEqual(St(e));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;const m=B(c.timestampValue),D=B(p.timestampValue);return m.seconds===D.seconds&&m.nanos===D.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return p=e,Ye(l.bytesValue).isEqual(Ye(p.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(c,p){return re(c.geoPointValue.latitude)===re(p.geoPointValue.latitude)&&re(c.geoPointValue.longitude)===re(p.geoPointValue.longitude)}(l,e);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return re(c.integerValue)===re(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){const m=re(c.doubleValue),D=re(p.doubleValue);return m===D?le(m)===le(D):isNaN(m)&&isNaN(D)}return!1}(l,e);case 9:return di(l.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(c,p){const m=c.mapValue.fields||{},D=p.mapValue.fields||{};if(Hr(m)!==Hr(D))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===D[k]||!$n(m[k],D[k])))return!1;return!0}(l,e);default:return on()}var p}function rr(l,e){return void 0!==(l.values||[]).find(r=>$n(r,e))}function Bn(l,e){if(l===e)return 0;const r=Vn(l),o=Vn(e);if(r!==o)return sn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return sn(l.booleanValue,e.booleanValue);case 2:return function(p,m){const D=re(p.integerValue||p.doubleValue),k=re(m.integerValue||m.doubleValue);return D<k?-1:D>k?1:D===k?0:isNaN(D)?isNaN(k)?0:-1:1}(l,e);case 3:return ri(l.timestampValue,e.timestampValue);case 4:return ri(St(l),St(e));case 5:return sn(l.stringValue,e.stringValue);case 6:return function(p,m){const D=Ye(p),k=Ye(m);return D.compareTo(k)}(l.bytesValue,e.bytesValue);case 7:return function(p,m){const D=p.split("/"),k=m.split("/");for(let Y=0;Y<D.length&&Y<k.length;Y++){const me=sn(D[Y],k[Y]);if(0!==me)return me}return sn(D.length,k.length)}(l.referenceValue,e.referenceValue);case 8:return function(p,m){const D=sn(re(p.latitude),re(m.latitude));return 0!==D?D:sn(re(p.longitude),re(m.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(p,m){const D=p.values||[],k=m.values||[];for(let Y=0;Y<D.length&&Y<k.length;++Y){const me=Bn(D[Y],k[Y]);if(me)return me}return sn(D.length,k.length)}(l.arrayValue,e.arrayValue);case 10:return function(p,m){if(p===an.mapValue&&m===an.mapValue)return 0;if(p===an.mapValue)return 1;if(m===an.mapValue)return-1;const D=p.fields||{},k=Object.keys(D),Y=m.fields||{},me=Object.keys(Y);k.sort(),me.sort();for(let ze=0;ze<k.length&&ze<me.length;++ze){const _t=sn(k[ze],me[ze]);if(0!==_t)return _t;const Yt=Bn(D[k[ze]],Y[me[ze]]);if(0!==Yt)return Yt}return sn(k.length,me.length)}(l.mapValue,e.mapValue);default:throw on()}}function ri(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return sn(l,e);const r=B(l),o=B(e),c=sn(r.seconds,o.seconds);return 0!==c?c:sn(r.nanos,o.nanos)}function xi(l){return kr(l)}function kr(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const o=B(r);return`time(${o.seconds},${o.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ye(l.bytesValue).toBase64():"referenceValue"in l?Dn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let o="[",c=!0;for(const p of r.values||[])c?c=!1:o+=",",o+=kr(p);return o+"]"}(l.arrayValue):"mapValue"in l?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",p=!0;for(const m of o)p?p=!1:c+=",",c+=`${m}:${kr(r.fields[m])}`;return c+"}"}(l.mapValue):on()}function Si(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function Ui(l){return!!l&&"integerValue"in l}function Ni(l){return!!l&&"arrayValue"in l}function Mo(l){return!!l&&"nullValue"in l}function yo(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Zr(l){return!!l&&"mapValue"in l}function fs(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return po(l.mapValue.fields,(r,o)=>e.mapValue.fields[r]=fs(o)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=fs(l.arrayValue.values[r]);return e}return Object.assign({},l)}function ss(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xi(l){return"nullValue"in l?Ht:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Si(rn.empty(),Dn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:on()}function Ao(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Si(rn.empty(),Dn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?an:on()}function as(l,e){const r=Bn(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function Go(l,e){const r=Bn(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Zr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=fs(r)}setAll(e){let r=ur.emptyPath(),o={},c=[];e.forEach((m,D)=>{if(!r.isImmediateParentOf(D)){const k=this.getFieldsMap(r);this.applyChanges(k,o,c),o={},c=[],r=D.popLast()}m?o[D.lastSegment()]=fs(m):c.push(D.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,c)}delete(e){const r=this.field(e.popLast());Zr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];Zr(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){po(r,(c,p)=>e[c]=p);for(const c of o)delete e[c]}clone(){return new Yi(fs(this.value))}}function Ji(l){const e=[];return po(l.fields,(r,o)=>{const c=new ur([r]);if(Zr(o)){const p=Ji(o.mapValue).fields;if(0===p.length)e.push(c);else for(const m of p)e.push(c.child(m))}else e.push(c)}),new fr(e)}class li{constructor(e,r,o,c,p,m,D){this.key=e,this.documentType=r,this.version=o,this.readTime=c,this.createTime=p,this.data=m,this.documentState=D}static newInvalidDocument(e){return new li(e,0,Fn.min(),Fn.min(),Fn.min(),Yi.empty(),0)}static newFoundDocument(e,r,o,c){return new li(e,1,r,Fn.min(),o,c,0)}static newNoDocument(e,r){return new li(e,2,r,Fn.min(),Fn.min(),Yi.empty(),0)}static newUnknownDocument(e,r){return new li(e,3,r,Fn.min(),Fn.min(),Yi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Di{constructor(e,r){this.position=e,this.inclusive=r}}function Ki(l,e,r){let o=0;for(let c=0;c<l.position.length;c++){const p=e[c],m=l.position[c];if(o=p.field.isKeyField()?Dn.comparator(Dn.fromName(m.referenceValue),r.key):Bn(m,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Fs(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!$n(l.position[r],e.position[r]))return!1;return!0}class ao{constructor(e,r="asc"){this.field=e,this.dir=r}}function ps(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class Bo{}class Wr extends Bo{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new ga(e,r,o):"array-contains"===r?new O(e,o):"in"===r?new Ie(e,o):"not-in"===r?new pt(e,o):"array-contains-any"===r?new Xn(e,o):new Wr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Na(e,o):new K(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Bn(r,this.value)):null!==r&&Vn(this.value)===Vn(r)&&this.matchesComparison(Bn(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return on()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends Bo{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fi(e,r)}matches(e){return wo(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wo(l){return"and"===l.op}function xa(l){return"or"===l.op}function ia(l){return Ds(l)&&wo(l)}function Ds(l){for(const e of l.filters)if(e instanceof fi)return!1;return!0}function Oo(l){if(l instanceof Wr)return l.field.canonicalString()+l.op.toString()+xi(l.value);if(ia(l))return l.filters.map(e=>Oo(e)).join(",");{const e=l.filters.map(r=>Oo(r)).join(",");return`${l.op}(${e})`}}function pa(l,e){return l instanceof Wr?(o=l,(c=e)instanceof Wr&&o.op===c.op&&o.field.isEqual(c.field)&&$n(o.value,c.value)):l instanceof fi?function(o,c){return c instanceof fi&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((p,m,D)=>p&&pa(m,c.filters[D]),!0)}(l,e):void on();var o,c}function Al(l,e){const r=l.filters.concat(e);return fi.create(r,l.op)}function Hi(l){return l instanceof Wr?`${(r=l).field.canonicalString()} ${r.op} ${xi(r.value)}`:l instanceof fi?function(r){return r.op.toString()+" {"+r.getFilters().map(Hi).join(" ,")+"}"}(l):"Filter";var r}class ga extends Wr{constructor(e,r,o){super(e,r,o),this.key=Dn.fromName(o.referenceValue)}matches(e){const r=Dn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Na extends Wr{constructor(e,r){super(e,"in",r),this.keys=X(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class K extends Wr{constructor(e,r){super(e,"not-in",r),this.keys=X(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function X(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Dn.fromName(o.referenceValue))}class O extends Wr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ni(r)&&rr(r.arrayValue,this.value)}}class Ie extends Wr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&rr(this.value.arrayValue,r)}}class pt extends Wr{constructor(e,r){super(e,"not-in",r)}matches(e){if(rr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!rr(this.value.arrayValue,r)}}class Xn extends Wr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ni(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>rr(this.value.arrayValue,o))}}class Fr{constructor(e,r=null,o=[],c=[],p=null,m=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=m,this.endAt=D,this.ue=null}}function vo(l,e=null,r=[],o=[],c=null,p=null,m=null){return new Fr(l,e,r,o,c,p,m)}function Io(l){const e=Wt(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Oo(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),j(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>xi(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>xi(o)).join(",")),e.ue=r}return e.ue}function Uo(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!ps(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!pa(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!Fs(l.startAt,e.startAt)&&Fs(l.endAt,e.endAt)}function ls(l){return Dn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function no(l,e){return l.filters.filter(r=>r instanceof Wr&&r.field.isEqual(e))}function xo(l,e,r){let o=Ht,c=!0;for(const p of no(l,e)){let m=Ht,D=!0;switch(p.op){case"<":case"<=":m=Xi(p.value);break;case"==":case"in":case">=":m=p.value;break;case">":m=p.value,D=!1;break;case"!=":case"not-in":m=Ht}as({value:o,inclusive:c},{value:m,inclusive:D})<0&&(o=m,c=D)}if(null!==r)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(e)){const m=r.position[p];as({value:o,inclusive:c},{value:m,inclusive:r.inclusive})<0&&(o=m,c=r.inclusive);break}return{value:o,inclusive:c}}function cs(l,e,r){let o=an,c=!0;for(const p of no(l,e)){let m=an,D=!0;switch(p.op){case">=":case">":m=Ao(p.value),D=!1;break;case"==":case"in":case"<=":m=p.value;break;case"<":m=p.value,D=!1;break;case"!=":case"not-in":m=an}Go({value:o,inclusive:c},{value:m,inclusive:D})>0&&(o=m,c=D)}if(null!==r)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(e)){const m=r.position[p];Go({value:o,inclusive:c},{value:m,inclusive:r.inclusive})>0&&(o=m,c=r.inclusive);break}return{value:o,inclusive:c}}class Jo{constructor(e,r=null,o=[],c=[],p=null,m="F",D=null,k=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=m,this.startAt=D,this.endAt=k,this.ce=null,this.le=null,this.he=null}}function zi(l,e,r,o,c,p,m,D){return new Jo(l,e,r,o,c,p,m,D)}function Gi(l){return new Jo(l)}function lo(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function oa(l){return null!==l.collectionGroup}function $s(l){const e=Wt(l);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let D=new Or(ur.comparator);return m.filters.forEach(k=>{k.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(D=D.add(Y.field))})}),D})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new ao(p,o))}),r.has(ur.keyField().canonicalString())||e.ce.push(new ao(ur.keyField(),o))}return e.ce}function eo(l){const e=Wt(l);return e.le||(e.le=function ws(l,e){if("F"===l.limitType)return vo(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(c=>new ao(c.field,"desc"===c.dir?"asc":"desc"));const r=l.endAt?new Di(l.endAt.position,l.endAt.inclusive):null,o=l.startAt?new Di(l.startAt.position,l.startAt.inclusive):null;return vo(l.path,l.collectionGroup,e,l.filters,l.limit,r,o)}}(e,$s(l))),e.le}function gs(l,e){const r=l.filters.concat([e]);return new Jo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function Ss(l,e,r){return new Jo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function Rs(l,e){return Uo(eo(l),eo(e))&&l.limitType===e.limitType}function js(l){return`${Io(eo(l))}|lt:${l.limitType}`}function Hs(l){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(c=>Hi(c)).join(", ")}]`),j(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(c=>{return`${(m=c).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(c=>xi(c)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(c=>xi(c)).join(",")),`Target(${o})`}(eo(l))}; limitType=${l.limitType})`}function es(l,e){return e.isFoundDocument()&&function(o,c){const p=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):Dn.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(l,e)&&function(o,c){for(const p of $s(o))if(!p.field.isKeyField()&&null===c.data.field(p.field))return!1;return!0}(l,e)&&function(o,c){for(const p of o.filters)if(!p.matches(c))return!1;return!0}(l,e)&&(c=e,!((o=l).startAt&&!function(m,D,k){const Y=Ki(m,D,k);return m.inclusive?Y<=0:Y<0}(o.startAt,$s(o),c)||o.endAt&&!function(m,D,k){const Y=Ki(m,D,k);return m.inclusive?Y>=0:Y>0}(o.endAt,$s(o),c)));var o,c}function ma(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Ps(l){return(e,r)=>{let o=!1;for(const c of $s(l)){const p=sa(c,e,r);if(0!==p)return p;o=o||c.field.isKeyField()}return 0}}function sa(l,e,r){const o=l.field.isKeyField()?Dn.comparator(e.key,r.key):function(p,m,D){const k=m.data.field(p),Y=D.data.field(p);return null!==k&&null!==Y?Bn(k,Y):on()}(l.field,e,r);switch(l.dir){case"asc":return o;case"desc":return-1*o;default:return on()}}class Wo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,p]of o)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(r,o)=>{for(const[c,p]of o)e(c,p)})}isEmpty(){return Pr(this.inner)}size(){return this.innerSize}}const il=new Mr(Dn.comparator);function To(){return il}const ol=new Mr(Dn.comparator);function aa(...l){let e=ol;for(const r of l)e=e.insert(r.key,r);return e}function ka(l){let e=ol;return l.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function ts(){return zs()}function sl(){return zs()}function zs(){return new Wo(l=>l.toString(),(l,e)=>l.isEqual(e))}const al=new Mr(Dn.comparator),ll=new Or(Dn.comparator);function ti(...l){let e=ll;for(const r of l)e=e.add(r);return e}const Gs=new Or(sn);function la(){return Gs}function w(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:le(e)?"-0":e}}function ae(l){return{integerValue:""+l}}function L(l,e){return Qe(e)?ae(e):w(l,e)}class J{constructor(){this._=void 0}}function et(l,e,r){return l instanceof sr?function(c,p){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return p&&rt(p)&&(p=bt(p)),p&&(m.fields.__previous_value__=p),{mapValue:m}}(r,e):l instanceof si?Vi(l,e):l instanceof ii?Qr(l,e):function(c,p){const m=pn(c,p),D=Ri(m)+Ri(c.Pe);return Ui(m)&&Ui(c.Pe)?ae(D):w(c.serializer,D)}(l,e)}function Jt(l,e,r){return l instanceof si?Vi(l,e):l instanceof ii?Qr(l,e):r}function pn(l,e){return l instanceof Bi?Ui(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class sr extends J{}class si extends J{constructor(e){super(),this.elements=e}}function Vi(l,e){const r=ro(e);for(const o of l.elements)r.some(c=>$n(c,o))||r.push(o);return{arrayValue:{values:r}}}class ii extends J{constructor(e){super(),this.elements=e}}function Qr(l,e){let r=ro(e);for(const o of l.elements)r=r.filter(c=>!$n(c,o));return{arrayValue:{values:r}}}class Bi extends J{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ri(l){return re(l.integerValue||l.doubleValue)}function ro(l){return Ni(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class $o{constructor(e,r){this.field=e,this.transform=r}}class Ms{constructor(e,r){this.version=e,this.transformResults=r}}class V{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new V}static exists(e){return new V(void 0,e)}static updateTime(e){return new V(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class I{}function x(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new Yr(l.key,V.none()):new Bt(l.key,l.data,V.none());{const r=l.data,o=Yi.empty();let c=new Or(ur.comparator);for(let p of e.fields)if(!c.has(p)){let m=r.field(p);null===m&&p.length>1&&(p=p.popLast(),m=r.field(p)),null===m?o.delete(p):o.set(p,m),c=c.add(p)}return new ln(l.key,o,new fr(c.toArray()),V.none())}}function te(l,e,r){l instanceof Bt?function(c,p,m){const D=c.value.clone(),k=ir(c.fieldTransforms,p,m.transformResults);D.setAll(k),p.convertToFoundDocument(m.version,D).setHasCommittedMutations()}(l,e,r):l instanceof ln?function(c,p,m){if(!_(c.precondition,p))return void p.convertToUnknownDocument(m.version);const D=ir(c.fieldTransforms,p,m.transformResults),k=p.data;k.setAll(Zn(c)),k.setAll(D),p.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Se(l,e,r,o){return l instanceof Bt?function(p,m,D,k){if(!_(p.precondition,m))return D;const Y=p.value.clone(),me=zr(p.fieldTransforms,k,m);return Y.setAll(me),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(l,e,r,o):l instanceof ln?function(p,m,D,k){if(!_(p.precondition,m))return D;const Y=zr(p.fieldTransforms,k,m),me=m.data;return me.setAll(Zn(p)),me.setAll(Y),m.convertToFoundDocument(m.version,me).setHasLocalMutations(),null===D?null:D.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(ze=>ze.field))}(l,e,r,o):(D=r,_(l.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):D);var m,D}function mt(l,e){let r=null;for(const o of l.fieldTransforms){const c=e.data.field(o.field),p=pn(o.transform,c||null);null!=p&&(null===r&&(r=Yi.empty()),r.set(o.field,p))}return r||null}function yt(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(o=l.fieldTransforms)&&void 0===c||o&&c&&di(o,c,(p,m)=>function co(l,e){return l.field.isEqual(e.field)&&(c=e.transform,(o=l.transform)instanceof si&&c instanceof si||o instanceof ii&&c instanceof ii?di(o.elements,c.elements,$n):o instanceof Bi&&c instanceof Bi?$n(o.Pe,c.Pe):o instanceof sr&&c instanceof sr);var o,c}(p,m))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var o,c}class Bt extends I{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ln extends I{constructor(e,r,o,c,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Zn(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=l.data.field(r);e.set(r,o)}}),e}function ir(l,e,r){const o=new Map;nn(l.length===r.length);for(let c=0;c<r.length;c++){const p=l[c],m=p.transform,D=e.data.field(p.field);o.set(p.field,Jt(m,D,r[c]))}return o}function zr(l,e,r){const o=new Map;for(const c of l){const p=c.transform,m=r.data.field(c.field);o.set(c.field,et(p,m,e))}return o}class Yr extends I{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wr extends I{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gr{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&te(p,e,o[c])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Se(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Se(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=sl();return this.mutations.forEach(c=>{const p=e.get(c.key),m=p.overlayedDocument;let D=this.applyToLocalView(m,p.mutatedFields);D=r.has(c.key)?null:D;const k=x(m,D);null!==k&&o.set(c.key,k),m.isValidDocument()||m.convertToNoDocument(Fn.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ti())}isEqual(e){return this.batchId===e.batchId&&di(this.mutations,e.mutations,(r,o)=>yt(r,o))&&di(this.baseMutations,e.baseMutations,(r,o)=>yt(r,o))}}class ki{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){nn(e.mutations.length===o.length);let c=al;const p=e.mutations;for(let m=0;m<p.length;m++)c=c.insert(p[m].key,o[m].version);return new ki(e,r,o,c)}}class qi{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class So{constructor(e,r){this.count=e,this.unchangedNames=r}}var yi,ci;function Os(l){switch(l){default:return on();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function Er(l){if(void 0===l)return vn("GRPC error has no .code"),Ke.UNKNOWN;switch(l){case yi.OK:return Ke.OK;case yi.CANCELLED:return Ke.CANCELLED;case yi.UNKNOWN:return Ke.UNKNOWN;case yi.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case yi.INTERNAL:return Ke.INTERNAL;case yi.UNAVAILABLE:return Ke.UNAVAILABLE;case yi.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case yi.NOT_FOUND:return Ke.NOT_FOUND;case yi.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case yi.ABORTED:return Ke.ABORTED;case yi.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case yi.DATA_LOSS:return Ke.DATA_LOSS;default:return on()}}(ci=yi||(yi={}))[ci.OK=0]="OK",ci[ci.CANCELLED=1]="CANCELLED",ci[ci.UNKNOWN=2]="UNKNOWN",ci[ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ci[ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ci[ci.NOT_FOUND=5]="NOT_FOUND",ci[ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",ci[ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",ci[ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",ci[ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ci[ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ci[ci.ABORTED=10]="ABORTED",ci[ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",ci[ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",ci[ci.INTERNAL=13]="INTERNAL",ci[ci.UNAVAILABLE=14]="UNAVAILABLE",ci[ci.DATA_LOSS=15]="DATA_LOSS";function ms(){return new TextEncoder}const ys=new Lt([4294967295,4294967295],0);function Fa(l){const e=ms().encode(l),r=new Ge;return r.update(e),new Uint8Array(r.digest())}function La(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Lt([r,o],0),new Lt([c,p],0)]}class Ko{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new us(`Invalid padding: ${r}`);if(o<0)throw new us(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new us(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new us(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Lt.fromNumber(this.Ie)}Ee(e,r,o){let c=e.add(r.multiply(Lt.fromNumber(o)));return 1===c.compare(ys)&&(c=new Lt([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Fa(e),[o,c]=La(r);for(let p=0;p<this.hashCount;p++){const m=this.Ee(o,c,p);if(!this.de(m))return!1}return!0}static create(e,r,o){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),m=new Ko(p,c,r);return o.forEach(D=>m.insert(D)),m}insert(e){if(0===this.Ie)return;const r=Fa(e),[o,c]=La(r);for(let p=0;p<this.hashCount;p++){const m=this.Ee(o,c,p);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class us extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Va{constructor(e,r,o,c,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const c=new Map;return c.set(e,gr.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Va(Fn.min(),c,new Mr(sn),To(),ti())}}class gr{constructor(e,r,o,c,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new gr(o,r,ti(),ti(),ti())}}class Rr{constructor(e,r,o,c){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=c}}class Ur{constructor(e,r){this.targetId=e,this.me=r}}class vi{constructor(e,r,o=be.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class dn{constructor(){this.fe=0,this.ge=xs(),this.pe=be.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ti(),r=ti(),o=ti();return this.ge.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:on()}}),new gr(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=xs()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Br{constructor(e){this.Le=e,this.Be=new Map,this.ke=To(),this.qe=jo(),this.Qe=new Mr(sn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:on()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,c)=>{this.ze(c)&&r(c)})}He(e){const r=e.targetId,o=e.me.count,c=this.Je(r);if(c){const p=c.target;if(ls(p))if(0===o){const m=new Dn(p.path);this.Ue(r,m,li.newNoDocument(m,Fn.min()))}else nn(1===o);else{const m=this.Ye(r);if(m!==o){const D=this.Ze(e),k=D?this.Xe(D,e,m):1;0!==k&&(this.je(r),this.Qe=this.Qe.insert(r,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:p=0}=r;let m,D;try{m=Ye(o).toUint8Array()}catch(k){if(k instanceof Q)return Yn("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{D=new Ko(m,c,p)}catch(k){return Yn(k instanceof us?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===D.Ie?null:D}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let c=0;return o.forEach(p=>{const m=this.Le.tt(),D=`projects/${m.projectId}/databases/${m.database}/documents/${p.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,p,null),c++)}),c}rt(e){const r=new Map;this.Be.forEach((p,m)=>{const D=this.Je(m);if(D){if(p.current&&ls(D.target)){const k=new Dn(D.target.path);null!==this.ke.get(k)||this.it(m,k)||this.Ue(m,k,li.newNoDocument(k,e))}p.be&&(r.set(m,p.Ce()),p.ve())}});let o=ti();this.qe.forEach((p,m)=>{let D=!0;m.forEachWhile(k=>{const Y=this.Je(k);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(D=!1,!1)}),D&&(o=o.add(p))}),this.ke.forEach((p,m)=>m.setReadTime(e));const c=new Va(e,r,this.Qe,this.ke,o);return this.ke=To(),this.qe=jo(),this.Qe=new Mr(sn),c}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const c=this.Ge(e);this.it(e,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new dn,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Or(sn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Nt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dn),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function jo(){return new Mr(Dn.comparator)}function xs(){return new Mr(Dn.comparator)}const Xr={asc:"ASCENDING",desc:"DESCENDING"},wl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},to={and:"AND",or:"OR"};class Zi{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ns(l,e){return l.useProto3Json||j(e)?e:{value:e}}function _o(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ca(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function eu(l,e){return _o(l,e.toTimestamp())}function Co(l){return nn(!!l),Fn.fromTimestamp(function(r){const o=B(r);return new Nr(o.seconds,o.nanos)}(l))}function Ho(l,e){return Ws(l,e).canonicalString()}function Ws(l,e){const r=(c=l,new qn(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function Sl(l){const e=qn.fromString(l);return nn(Af(e)),e}function Ys(l,e){return Ho(l.databaseId,e.path)}function b(l,e){const r=Sl(e);if(r.get(1)!==l.databaseId.projectId)throw new We(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new We(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new Dn(z(r))}function R(l,e){return Ho(l.databaseId,e)}function T(l){const e=Sl(l);return 4===e.length?qn.emptyPath():z(e)}function P(l){return new qn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function z(l){return nn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function _e(l,e,r){return{name:Ys(l,e),fields:r.value.mapValue.fields}}function Xe(l,e,r){const o=b(l,e.name),c=Co(e.updateTime),p=e.createTime?Co(e.createTime):Fn.min(),m=new Yi({mapValue:{fields:e.fields}}),D=li.newFoundDocument(o,c,p,m);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function nr(l,e){let r;if(e instanceof Bt)r={update:_e(l,e.key,e.value)};else if(e instanceof Yr)r={delete:Ys(l,e.key)};else if(e instanceof ln)r={update:_e(l,e.key,e.data),updateMask:ag(e.fieldMask)};else{if(!(e instanceof wr))return on();r={verify:Ys(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(p,m){const D=m.transform;if(D instanceof sr)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof si)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof ii)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Bi)return{fieldPath:m.field.canonicalString(),increment:D.Pe};throw on()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:eu(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:on()),r;var p}function oi(l,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?V.updateTime(Co(p.updateTime)):void 0!==p.exists?V.exists(p.exists):V.none():V.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(m,D){let k=null;"setToServerValue"in D?(nn("REQUEST_TIME"===D.setToServerValue),k=new sr):"appendMissingElements"in D?k=new si(D.appendMissingElements.values||[]):"removeAllFromArray"in D?k=new ii(D.removeAllFromArray.values||[]):"increment"in D?k=new Bi(m,D.increment):on();const Y=ur.fromServerFormat(D.fieldPath);return new $o(Y,k)}(l,c)):[];var p;if(e.update){const c=b(l,e.update.name),p=new Yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new fr((e.updateMask.fieldPaths||[]).map(me=>ur.fromServerFormat(me)));return new ln(c,p,m,r,o)}return new Bt(c,p,r,o)}if(e.delete){const c=b(l,e.delete);return new Yr(c,r)}if(e.verify){const c=b(l,e.verify);return new wr(c,r)}return on()}function pi(l,e){return{documents:[R(l,e.path)]}}function vs(l,e){const r={structuredQuery:{}},o=e.path;let c;null!==e.collectionGroup?(c=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=R(l,c);const p=function(Y){if(0!==Y.length)return Df(fi.create(Y,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const m=function(Y){if(0!==Y.length)return Y.map(me=>{return{field:Wi((_t=me).field),direction:pc(_t.dir)};var _t})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const D=ns(l,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(r.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(e.endAt)),{_t:r,parent:c};var Y}function Ua(l){let e=T(l.parent);const r=l.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){nn(1===o);const me=r.from[0];me.allDescendants?c=me.collectionId:e=e.child(me.collectionId)}let p=[];r.where&&(p=function(ze){const _t=$a(ze);return _t instanceof fi&&ia(_t)?_t.getFilters():[_t]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(_t=>{return new ao(cl((Cn=_t).field),function(Pn){switch(Pn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Cn.direction));var Cn}));let D=null;r.limit&&(D=function(ze){let _t;return _t="object"==typeof ze?ze.value:ze,j(_t)?null:_t}(r.limit));let k=null;var ze;r.startAt&&(k=new Di((ze=r.startAt).values||[],!!ze.before));let Y=null;return r.endAt&&(Y=function(ze){return new Di(ze.values||[],!ze.before)}(r.endAt)),zi(e,c,m,p,D,"F",k,Y)}function $a(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=cl(r.unaryFilter.field);return Wr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=cl(r.unaryFilter.field);return Wr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=cl(r.unaryFilter.field);return Wr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=cl(r.unaryFilter.field);return Wr.create(m,"!=",{nullValue:"NULL_VALUE"});default:return on()}}(l):void 0!==l.fieldFilter?Wr.create(cl((r=l).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return on()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return fi.create(r.compositeFilter.filters.map(o=>$a(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return on()}}(r.compositeFilter.op))}(l):on();var r}function pc(l){return Xr[l]}function _s(l){return wl[l]}function Pl(l){return to[l]}function Wi(l){return{fieldPath:l.canonicalString()}}function cl(l){return ur.fromServerFormat(l.fieldPath)}function Df(l){return l instanceof Wr?function(r){if("=="===r.op){if(yo(r.value))return{unaryFilter:{field:Wi(r.field),op:"IS_NAN"}};if(Mo(r.value))return{unaryFilter:{field:Wi(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(yo(r.value))return{unaryFilter:{field:Wi(r.field),op:"IS_NOT_NAN"}};if(Mo(r.value))return{unaryFilter:{field:Wi(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(r.field),op:_s(r.op),value:r.value}}}(l):l instanceof fi?function(r){const o=r.getFilters().map(c=>Df(c));return 1===o.length?o[0]:{compositeFilter:{op:Pl(r.op),filters:o}}}(l):on()}function ag(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Af(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class ya{constructor(e,r,o,c,p=Fn.min(),m=Fn.min(),D=be.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=D,this.expectedCount=k}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gu{constructor(e){this.ct=e}}function ja(l,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Yu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ys(p=l.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:_o(p,m.version.toTimestamp()),createTime:_o(p,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:Ks(e.version)};else{if(!e.isUnknownDocument())return on();o.unknownDocument={path:r.path.toArray(),version:Ks(e.version)}}var p,m;return o}function Yu(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function Ks(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function va(l){const e=new Nr(l.seconds,l.nanoseconds);return Fn.fromTimestamp(e)}function qs(l,e){const r=(e.baseMutations||[]).map(p=>oi(l.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const o=e.mutations.map(p=>oi(l.ct,p)),c=Nr.fromMillis(e.localWriteTimeMs);return new Gr(e.batchId,c,r,o)}function Ml(l){const e=va(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?va(l.lastLimboFreeSnapshotVersion):Fn.min();let o;return o=void 0!==l.query.documents?(nn(1===(p=l.query).documents.length),eo(Gi(T(p.documents[0])))):function(p){return eo(Ua(p))}(l.query),new ya(o,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,be.fromBase64String(l.resumeToken));var p}function tu(l,e){const r=Ks(e.snapshotVersion),o=Ks(e.lastLimboFreeSnapshotVersion);let c;c=ls(e.target)?pi(l.ct,e.target):vs(l.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Io(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Ku(l){const e=Ua({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Ss(e,e.limit,"L"):e}function nu(l,e){return new qi(e.largestBatchId,oi(l.ct,e.overlayMutation))}function _a(l,e){const r=e.path.lastSegment();return[l,Pe(e.path.popLast()),r]}function ul(l,e,r,o){return{indexId:l,uid:e,sequenceNumber:r,readTime:Ks(o.readTime),documentKey:Pe(o.documentKey.path),largestBatchId:o.largestBatchId}}class lg{getBundleMetadata(e,r){return Kd(e).get(r).next(o=>{if(o)return{id:(p=o).bundleId,createTime:va(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Kd(e).put({bundleId:(c=r).id,createTime:Ks(Co(c.createTime)),version:c.version});var c}getNamedQuery(e,r){return dl(e).get(r).next(o=>{if(o)return{name:(p=o).name,query:Ku(p.bundledQuery),readTime:va(p.readTime)};var p})}saveNamedQuery(e,r){return dl(e).put({name:(c=r).name,readTime:Ks(Co(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Kd(l){return $r(l,"bundles")}function dl(l){return $r(l,"namedQueries")}class Ha{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Ha(e,r.uid||"")}getOverlay(e,r){return Ol(e).get(_a(this.userId,r)).next(o=>o?nu(this.serializer,o):null)}getOverlays(e,r){const o=ts();return tt.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){const c=[];return o.forEach((p,m)=>{const D=new qi(r,m);c.push(this.ht(e,D))}),tt.waitFor(c)}removeOverlaysForBatchId(e,r,o){const c=new Set;r.forEach(m=>c.add(Pe(m.getCollectionPath())));const p=[];return c.forEach(m=>{const D=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);p.push(Ol(e).j("collectionPathOverlayIndex",D))}),tt.waitFor(p)}getOverlaysForCollection(e,r,o){const c=ts(),p=Pe(r),m=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Ol(e).U("collectionPathOverlayIndex",m).next(D=>{for(const k of D){const Y=nu(this.serializer,k);c.set(Y.getKey(),Y)}return c})}getOverlaysForCollectionGroup(e,r,o,c){const p=ts();let m;const D=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ol(e).J({index:"collectionGroupOverlayIndex",range:D},(k,Y,me)=>{const ze=nu(this.serializer,Y);p.size()<c||ze.largestBatchId===m?(p.set(ze.getKey(),ze),m=ze.largestBatchId):me.done()}).next(()=>p)}ht(e,r){return Ol(e).put(function(c,p,m){const[D,k,Y]=_a(p,m.mutation.key);return{userId:p,collectionPath:k,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:nr(c.ct,m.mutation)}}(this.serializer,this.userId,r))}}function Ol(l){return $r(l,"documentOverlays")}class xl{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(re(e.integerValue));else if("doubleValue"in e){const o=re(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),le(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=B(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ye(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?ss(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):on()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const c of Object.keys(o))this.Rt(c,r),this.It(o[c],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const c of o)this.It(c,r)}gt(e,r){this.Et(r,37),Dn.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function ry(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function cg(l){const e=64-function(o){let c=0;for(let p=0;p<8;++p){const m=ry(255&o[p]);if(c+=m,8!==m)break}return c}(l);return Math.ceil(e/8)}xl.bt=new xl;class ru{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ct(o.value),o=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Mt(o.value),o=r.next();this.xt()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const c=r.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const c=r.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Lt(e){const r=this.Bt(e),o=cg(r);this.kt(1+o),this.buffer[this.position++]=255&o;for(let c=r.length-o;c<r.length;++c)this.buffer[this.position++]=255&r[c]}qt(e){const r=this.Bt(e),o=cg(r);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let c=r.length-o;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,p,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let c=1;c<r.length;++c)r[c]^=o?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class gc{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class ug{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class za{constructor(){this.Gt=new ru,this.zt=new gc(this.Gt),this.jt=new ug(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ua{constructor(e,r,o,c){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=c}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ua(this.indexId,this.documentKey,this.arrayValue,o)}}function da(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=qd(l.arrayValue,e.arrayValue),0!==r?r:(r=qd(l.directionalValue,e.directionalValue),0!==r?r:Dn.comparator(l.documentKey,e.documentKey)))}function qd(l,e){for(let r=0;r<l.length&&r<e.length;++r){const o=l[r]-e[r];if(0!==o)return o}return l.length-e.length}class Zd{constructor(e){this.Yt=new Or((r,o)=>ur.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(nn(e.collectionGroup===this.collectionId),this.en)return!1;const r=Ti(e);if(void 0!==r&&!this.nn(r))return!1;const o=Kr(e);let c=new Set,p=0,m=0;for(;p<o.length&&this.nn(o[p]);++p)c=c.add(o[p].fieldPath.canonicalString());if(p===o.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!c.has(D.field.canonicalString())){const k=o[p];if(!this.rn(D,k)||!this.sn(this.Zt[m++],k))return!1}++p}for(;p<o.length;++p)if(m>=this.Zt.length||!this.sn(this.Zt[m++],o[p]))return!1;return!0}on(){if(this.en)return null;let e=new Or(ur.comparator);const r=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new hi(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new hi(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new hi(o.field,"asc"===o.dir?0:1)));return new ai(ai.UNKNOWN_ID,this.collectionId,r,fe.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function iu(l){var e,r;if(nn(l instanceof Wr||l instanceof fi),l instanceof Wr){if(l instanceof Ie){const c=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>Wr.create(l.field,"==",p)))||[];return fi.create(c,"or")}return l}const o=l.filters.map(c=>iu(c));return fi.create(o,l.op)}function Qd(l){if(0===l.getFilters().length)return[];const e=su(iu(l));return nn(ou(e)),Zs(e)||Nl(e)?[e]:e.getFilters()}function Zs(l){return l instanceof Wr}function Nl(l){return l instanceof fi&&ia(l)}function ou(l){return Zs(l)||Nl(l)||function(r){if(r instanceof fi&&xa(r)){for(const o of r.getFilters())if(!Zs(o)&&!Nl(o))return!1;return!0}return!1}(l)}function su(l){if(nn(l instanceof Wr||l instanceof fi),l instanceof Wr)return l;if(1===l.filters.length)return su(l.filters[0]);const e=l.filters.map(o=>su(o));let r=fi.create(e,l.op);return r=hl(r),ou(r)?r:(nn(r instanceof fi),nn(wo(r)),nn(r.filters.length>1),r.filters.reduce((o,c)=>mc(o,c)))}function mc(l,e){let r;return nn(l instanceof Wr||l instanceof fi),nn(e instanceof Wr||e instanceof fi),r=l instanceof Wr?e instanceof Wr?fi.create([l,e],"and"):kl(l,e):e instanceof Wr?kl(e,l):function(c,p){if(nn(c.filters.length>0&&p.filters.length>0),wo(c)&&wo(p))return Al(c,p.getFilters());const m=xa(c)?c:p,D=xa(c)?p:c,k=m.filters.map(Y=>mc(Y,D));return fi.create(k,"or")}(l,e),hl(r)}function kl(l,e){if(wo(e))return Al(e,l.getFilters());{const r=e.filters.map(o=>mc(l,o));return fi.create(r,"or")}}function hl(l){if(nn(l instanceof Wr||l instanceof fi),l instanceof Wr)return l;const e=l.getFilters();if(1===e.length)return hl(e[0]);if(Ds(l))return l;const r=e.map(c=>hl(c)),o=[];return r.forEach(c=>{c instanceof Wr?o.push(c):c instanceof fi&&(c.op===l.op?o.push(...c.filters):o.push(c))}),1===o.length?o[0]:fi.create(o,l.op)}class dg{constructor(){this._n=new yc}addToCollectionParentIndex(e,r){return this._n.add(r),tt.resolve()}getCollectionParents(e,r){return tt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return tt.resolve()}deleteFieldIndex(e,r){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,r){return tt.resolve()}getDocumentsMatchingTarget(e,r){return tt.resolve(null)}getIndexType(e,r){return tt.resolve(0)}getFieldIndexes(e,r){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,r){return tt.resolve(ve.min())}getMinOffsetFromCollectionGroup(e,r){return tt.resolve(ve.min())}updateCollectionGroup(e,r,o){return tt.resolve()}updateIndexEntries(e,r){return tt.resolve()}}class yc{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new Or(qn.comparator),p=!c.has(o);return this.index[r]=c.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Or(qn.comparator)).toArray()}}const vc=new Uint8Array(0);class Xd{constructor(e,r){this.databaseId=r,this.an=new yc,this.un=new Wo(o=>Io(o),(o,c)=>Uo(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const o=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const p={collectionId:o,parent:Pe(c)};return Jd(e).put(p)}return tt.resolve()}getCollectionParents(e,r){const o=[],c=IDBKeyRange.bound([r,""],[Dr(r),""],!1,!0);return Jd(e).U(c).next(p=>{for(const m of p){if(m.collectionId!==r)break;o.push(In(m.parent))}return o})}addFieldIndex(e,r){const o=Ea(e),c={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var D;delete c.indexId;const p=o.add(c);if(r.indexState){const m=Qs(e);return p.next(D=>{m.put(ul(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const o=Ea(e),c=Qs(e),p=_c(e);return o.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ea(e),o=_c(e),c=Qs(e);return r.j().next(()=>o.j()).next(()=>c.j())}createTargetIndexes(e,r){return tt.forEach(this.cn(r),o=>this.getIndexType(e,o).next(c=>{if(0===c||1===c){const p=new Zd(o).on();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const o=_c(e);let c=!0;const p=new Map;return tt.forEach(this.cn(r),m=>this.ln(e,m).next(D=>{c&&(c=!!D),p.set(m,D)})).next(()=>{if(c){let m=ti();const D=[];return tt.forEach(p,(k,Y)=>{var _r;Nt("IndexedDbIndexManager",`Using index ${_r=k,`id=${_r.indexId}|cg=${_r.collectionGroup}|f=${_r.fields.map(Jr=>`${Jr.fieldPath}:${Jr.kind}`).join(",")}`} to execute ${Io(r)}`);const me=function(_r,Jr){const Mi=Ti(Jr);if(void 0===Mi)return null;for(const Ei of no(_r,Mi.fieldPath))switch(Ei.op){case"array-contains-any":return Ei.value.arrayValue.values||[];case"array-contains":return[Ei.value]}return null}(Y,k),ze=function(_r,Jr){const Mi=new Map;for(const Ei of Kr(Jr))for(const kt of no(_r,Ei.fieldPath))switch(kt.op){case"==":case"in":Mi.set(Ei.fieldPath.canonicalString(),kt.value);break;case"not-in":case"!=":return Mi.set(Ei.fieldPath.canonicalString(),kt.value),Array.from(Mi.values())}return null}(Y,k),_t=function(_r,Jr){const Mi=[];let Ei=!0;for(const kt of Kr(Jr)){const dt=0===kt.kind?xo(_r,kt.fieldPath,_r.startAt):cs(_r,kt.fieldPath,_r.startAt);Mi.push(dt.value),Ei&&(Ei=dt.inclusive)}return new Di(Mi,Ei)}(Y,k),Yt=function(_r,Jr){const Mi=[];let Ei=!0;for(const kt of Kr(Jr)){const dt=0===kt.kind?cs(_r,kt.fieldPath,_r.endAt):xo(_r,kt.fieldPath,_r.endAt);Mi.push(dt.value),Ei&&(Ei=dt.inclusive)}return new Di(Mi,Ei)}(Y,k),Cn=this.hn(k,Y,_t),jn=this.hn(k,Y,Yt),Pn=this.Pn(k,Y,ze),br=this.In(k.indexId,me,Cn,_t.inclusive,jn,Yt.inclusive,Pn);return tt.forEach(br,Lr=>o.G(Lr,r.limit).next(_r=>{_r.forEach(Jr=>{const Mi=Dn.fromSegments(Jr.documentKey);m.has(Mi)||(m=m.add(Mi),D.push(Mi))})}))}).next(()=>D)}return tt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Qd(fi.create(e.filters,"and")).map(o=>vo(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,o,c,p,m,D){const k=(null!=r?r.length:1)*Math.max(o.length,p.length),Y=k/(null!=r?r.length:1),me=[];for(let ze=0;ze<k;++ze){const _t=r?this.Tn(r[ze/Y]):vc,Yt=this.En(e,_t,o[ze%Y],c),Cn=this.dn(e,_t,p[ze%Y],m),jn=D.map(Pn=>this.En(e,_t,Pn,!0));me.push(...this.createRange(Yt,Cn,jn))}return me}En(e,r,o,c){const p=new ua(e,Dn.empty(),r,o);return c?p:p.Jt()}dn(e,r,o,c){const p=new ua(e,Dn.empty(),r,o);return c?p.Jt():p}ln(e,r){const o=new Zd(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let m=null;for(const D of p)o.tn(D)&&(!m||D.fields.length>m.fields.length)&&(m=D);return m})}getIndexType(e,r){let o=2;const c=this.cn(r);return tt.forEach(c,p=>this.ln(e,p).next(m=>{m?0!==o&&m.fields.length<function(k){let Y=new Or(ur.comparator),me=!1;for(const ze of k.filters)for(const _t of ze.getFlattenedFilters())_t.field.isKeyField()||("array-contains"===_t.op||"array-contains-any"===_t.op?me=!0:Y=Y.add(_t.field));for(const ze of k.orderBy)ze.field.isKeyField()||(Y=Y.add(ze.field));return Y.size+(me?1:0)}(p)&&(o=1):o=0})).next(()=>null!==r.limit&&c.length>1&&2===o?1:o)}An(e,r){const o=new za;for(const c of Kr(e)){const p=r.data.field(c.fieldPath);if(null==p)return null;const m=o.Ht(c.kind);xl.bt.Pt(p,m)}return o.Wt()}Tn(e){const r=new za;return xl.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const o=new za;return xl.bt.Pt(Si(this.databaseId,r),o.Ht(function(p){const m=Kr(p);return 0===m.length?0:m[m.length-1].kind}(e))),o.Wt()}Pn(e,r,o){if(null===o)return[];let c=[];c.push(new za);let p=0;for(const m of Kr(e)){const D=o[p++];for(const k of c)if(this.Vn(r,m.fieldPath)&&Ni(D))c=this.mn(c,m,D);else{const Y=k.Ht(m.kind);xl.bt.Pt(D,Y)}}return this.fn(c)}hn(e,r,o){return this.Pn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Wt();return r}mn(e,r,o){const c=[...e],p=[];for(const m of o.arrayValue.values||[])for(const D of c){const k=new za;k.seed(D.Wt()),xl.bt.Pt(m,k.Ht(r.kind)),p.push(k)}return p}Vn(e,r){return!!e.filters.find(o=>o instanceof Wr&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Ea(e),c=Qs(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(p=>{const m=[];return tt.forEach(p,D=>c.get([D.indexId,this.uid]).next(k=>{m.push(function(me,ze){const _t=ze?new fe(ze.sequenceNumber,new ve(va(ze.readTime),new Dn(In(ze.documentKey)),ze.largestBatchId)):fe.empty(),Yt=me.fields.map(([Cn,jn])=>new hi(ur.fromServerFormat(Cn),jn));return new ai(me.indexId,me.collectionGroup,Yt,_t)}(D,k))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,c)=>{const p=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:sn(o.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const c=Ea(e),p=Qs(e);return this.gn(e).next(m=>c.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>tt.forEach(D,k=>p.put(ul(k.indexId,this.uid,m,o)))))}updateIndexEntries(e,r){const o=new Map;return tt.forEach(r,(c,p)=>{const m=o.get(c.collectionGroup);return(m?tt.resolve(m):this.getFieldIndexes(e,c.collectionGroup)).next(D=>(o.set(c.collectionGroup,D),tt.forEach(D,k=>this.pn(e,c,k).next(Y=>{const me=this.yn(p,k);return Y.isEqual(me)?tt.resolve():this.wn(e,p,k,Y,me)}))))})}Sn(e,r,o,c){return _c(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(o,r.key),documentKey:r.key.path.toArray()})}bn(e,r,o,c){return _c(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(o,r.key),r.key.path.toArray()])}pn(e,r,o){const c=_c(e);let p=new Or(da);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,r)])},(m,D)=>{p=p.add(new ua(o.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>p)}yn(e,r){let o=new Or(da);const c=this.An(r,e);if(null==c)return o;const p=Ti(r);if(null!=p){const m=e.data.field(p.fieldPath);if(Ni(m))for(const D of m.arrayValue.values||[])o=o.add(new ua(r.indexId,e.key,this.Tn(D),c))}else o=o.add(new ua(r.indexId,e.key,vc,c));return o}wn(e,r,o,c,p){Nt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(k,Y,me,ze,_t){const Yt=k.getIterator(),Cn=Y.getIterator();let jn=q(Yt),Pn=q(Cn);for(;jn||Pn;){let br=!1,Lr=!1;if(jn&&Pn){const _r=me(jn,Pn);_r<0?Lr=!0:_r>0&&(br=!0)}else null!=jn?Lr=!0:br=!0;br?(ze(Pn),Pn=q(Cn)):Lr?(_t(jn),jn=q(Yt)):(jn=q(Yt),Pn=q(Cn))}}(c,p,da,D=>{m.push(this.Sn(e,r,o,D))},D=>{m.push(this.bn(e,r,o,D))}),tt.waitFor(m)}gn(e){let r=1;return Qs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,p)=>{p.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((m,D)=>da(m,D)).filter((m,D,k)=>!D||0!==da(m,k[D-1]));const c=[];c.push(e);for(const m of o){const D=da(m,e),k=da(m,r);if(0===D)c[0]=e.Jt();else if(D>0&&k<0)c.push(m),c.push(m.Jt());else if(k>0)break}c.push(r);const p=[];for(let m=0;m<c.length;m+=2){if(this.Dn(c[m],c[m+1]))return[];p.push(IDBKeyRange.bound([c[m].indexId,this.uid,c[m].arrayValue,c[m].directionalValue,vc,[]],[c[m+1].indexId,this.uid,c[m+1].arrayValue,c[m+1].directionalValue,vc,[]]))}return p}Dn(e,r){return da(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(wf)}getMinOffset(e,r){return tt.mapArray(this.cn(r),o=>this.ln(e,o).next(c=>c||on())).next(wf)}}function Jd(l){return $r(l,"collectionParents")}function _c(l){return $r(l,"indexEntries")}function Ea(l){return $r(l,"indexConfiguration")}function Qs(l){return $r(l,"indexState")}function wf(l){nn(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<l.length;o++){const c=l[o].indexState.offset;wt(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new ve(e.readTime,e.documentKey,r)}const au={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rs{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ec(l,e,r){const o=l.store("mutations"),c=l.store("documentMutations"),p=[],m=IDBKeyRange.only(r.batchId);let D=0;const k=o.J({range:m},(me,ze,_t)=>(D++,_t.delete()));p.push(k.next(()=>{nn(1===D)}));const Y=[];for(const me of r.mutations){const ze=jr(e,me.key.path,r.batchId);p.push(c.delete(ze)),Y.push(me.key)}return tt.waitFor(p).next(()=>Y)}function Ic(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw on();e=l.noDocument}return JSON.stringify(e).length}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class qo{constructor(e,r,o,c){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=c,this.Cn={}}static lt(e,r,o,c){nn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new qo(p,r,o,c)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).J({index:"userMutationsIndex",range:o},(c,p,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,o,c){const p=Ia(e),m=Xs(e);return m.add({}).next(D=>{nn("number"==typeof D);const k=new Gr(D,r,o,c),Y=function(Yt,Cn,jn){const Pn=jn.baseMutations.map(Lr=>nr(Yt.ct,Lr)),br=jn.mutations.map(Lr=>nr(Yt.ct,Lr));return{userId:Cn,batchId:jn.batchId,localWriteTimeMs:jn.localWriteTime.toMillis(),baseMutations:Pn,mutations:br}}(this.serializer,this.userId,k),me=[];let ze=new Or((_t,Yt)=>sn(_t.canonicalString(),Yt.canonicalString()));for(const _t of c){const Yt=jr(this.userId,_t.key.path,D);ze=ze.add(_t.key.path.popLast()),me.push(m.put(Y)),me.push(p.put(Yt,ar))}return ze.forEach(_t=>{me.push(this.indexManager.addToCollectionParentIndex(e,_t))}),e.addOnCommittedListener(()=>{this.Cn[D]=k.keys()}),tt.waitFor(me).next(()=>k)})}lookupMutationBatch(e,r){return Xs(e).get(r).next(o=>o?(nn(o.userId===this.userId),qs(this.serializer,o)):null)}vn(e,r){return this.Cn[r]?tt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const c=o.keys();return this.Cn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,c=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Xs(e).J({index:"userMutationsIndex",range:c},(m,D,k)=>{D.userId===this.userId&&(nn(D.batchId>=o),p=qs(this.serializer,D)),k.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Xs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(c,p,m)=>{o=p.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).U("userMutationsIndex",r).next(o=>o.map(c=>qs(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=hr(this.userId,r.path),c=IDBKeyRange.lowerBound(o),p=[];return Ia(e).J({range:c},(m,D,k)=>{const[Y,me,ze]=m,_t=In(me);if(Y===this.userId&&r.path.isEqual(_t))return Xs(e).get(ze).next(Yt=>{if(!Yt)throw on();nn(Yt.userId===this.userId),p.push(qs(this.serializer,Yt))});k.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Or(sn);const c=[];return r.forEach(p=>{const m=hr(this.userId,p.path),D=IDBKeyRange.lowerBound(m),k=Ia(e).J({range:D},(Y,me,ze)=>{const[_t,Yt,Cn]=Y,jn=In(Yt);_t===this.userId&&p.path.isEqual(jn)?o=o.add(Cn):ze.done()});c.push(k)}),tt.waitFor(c).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1,p=hr(this.userId,o),m=IDBKeyRange.lowerBound(p);let D=new Or(sn);return Ia(e).J({range:m},(k,Y,me)=>{const[ze,_t,Yt]=k,Cn=In(_t);ze===this.userId&&o.isPrefixOf(Cn)?Cn.length===c&&(D=D.add(Yt)):me.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const o=[],c=[];return r.forEach(p=>{c.push(Xs(e).get(p).next(m=>{if(null===m)throw on();nn(m.userId===this.userId),o.push(qs(this.serializer,m))}))}),tt.waitFor(c).next(()=>o)}removeMutationBatch(e,r){return Ec(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),tt.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return tt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return Ia(e).J({range:o},(p,m,D)=>{if(p[0]===this.userId){const k=In(p[1]);c.push(k)}else D.done()}).next(()=>{nn(0===c.length)})})}containsKey(e,r){return qu(e,this.userId,r)}xn(e){return eh(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qu(l,e,r){const o=hr(e,r.path),c=o[1],p=IDBKeyRange.lowerBound(o);let m=!1;return Ia(l).J({range:p,H:!0},(D,k,Y)=>{const[me,ze,_t]=D;me===e&&ze===c&&(m=!0),Y.done()}).next(()=>m)}function Xs(l){return $r(l,"mutations")}function Ia(l){return $r(l,"documentMutations")}function eh(l){return $r(l,"mutationQueues")}class Ta{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ta(0)}static Ln(){return new Ta(-1)}}class th{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new Ta(r.highestTargetId);return r.highestTargetId=o.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Fn.fromTimestamp(new Nr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(c=>(c.highestListenSequenceNumber=r,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.kn(e,c)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(r,o),this.kn(e,o))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Js(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(nn(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,r,o){let c=0;const p=[];return Js(e).J((m,D)=>{const k=Ml(D);k.sequenceNumber<=r&&null===o.get(k.targetId)&&(c++,p.push(this.removeTargetData(e,k)))}).next(()=>tt.waitFor(p)).next(()=>c)}forEachTarget(e,r){return Js(e).J((o,c)=>{const p=Ml(c);r(p)})}Bn(e){return fl(e).get("targetGlobalKey").next(r=>(nn(null!==r),r))}kn(e,r){return fl(e).put("targetGlobalKey",r)}qn(e,r){return Js(e).put(tu(this.serializer,r))}Qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Io(r),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Js(e).J({range:c,index:"queryTargetsIndex"},(m,D,k)=>{const Y=Ml(D);Uo(r,Y.target)&&(p=Y,k.done())}).next(()=>p)}addMatchingKeys(e,r,o){const c=[],p=Ns(e);return r.forEach(m=>{const D=Pe(m.path);c.push(p.put({targetId:o,path:D})),c.push(this.referenceDelegate.addReference(e,o,m))}),tt.waitFor(c)}removeMatchingKeys(e,r,o){const c=Ns(e);return tt.forEach(r,p=>{const m=Pe(p.path);return tt.waitFor([c.delete([o,m]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=Ns(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),c=Ns(e);let p=ti();return c.J({range:o,H:!0},(m,D,k)=>{const Y=In(m[1]),me=new Dn(Y);p=p.add(me)}).next(()=>p)}containsKey(e,r){const o=Pe(r.path),c=IDBKeyRange.bound([o],[Dr(o)],!1,!0);let p=0;return Ns(e).J({index:"documentTargetsIndex",H:!0,range:c},([m,D],k,Y)=>{0!==m&&(p++,Y.done())}).next(()=>p>0)}ot(e,r){return Js(e).get(r).next(o=>o?Ml(o):null)}}function Js(l){return $r(l,"targets")}function fl(l){return $r(l,"targetGlobal")}function Ns(l){return $r(l,"targetDocuments")}function nh([l,e],[r,o]){const c=sn(l,r);return 0===c?sn(e,o):c}class Zu{constructor(e){this.Kn=e,this.buffer=new Or(nh),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();nh(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ga{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Nt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Qt(o)?Nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield xn(o)}yield r.zn(3e5)}))}}class iy{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return tt.resolve(ee.oe);const o=new Zu(r);return this.jn.forEachTarget(e,c=>o.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(e,c=>o.Wn(c))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(au)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),au):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let o,c,p,m,D,k,Y;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ze=>(ze>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ze}`),c=this.params.maximumSequenceNumbersToCollect):c=ze,m=Date.now(),this.nthSequenceNumber(e,c))).next(ze=>(o=ze,D=Date.now(),this.removeTargets(e,o,r))).next(ze=>(p=ze,k=Date.now(),this.removeOrphanedDocuments(e,o))).next(ze=>(Y=Date.now(),fn()<=he.in.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-me}ms\n\tDetermined least recently used ${c} in `+(D-m)+`ms\n\tRemoved ${p} targets in `+(k-D)+`ms\n\tRemoved ${ze} documents in `+(Y-k)+`ms\nTotal Duration: ${Y-me}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:ze})))}}class oy{constructor(e,r){this.db=e,this.garbageCollector=function Sf(l,e){return new iy(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(c=>o+c))}Zn(e){let r=0;return this.Jn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(o,c)=>r(c))}addReference(e,r,o){return lu(e,o)}removeReference(e,r,o){return lu(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return lu(e,r)}er(e,r){return function(c,p){let m=!1;return eh(c).Y(D=>qu(c,D,p).next(k=>(k&&(m=!0),tt.resolve(!k)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Xn(e,(m,D)=>{if(D<=r){const k=this.er(e,m).next(Y=>{if(!Y)return p++,o.getEntry(e,m).next(()=>(o.removeEntry(m,Fn.min()),Ns(e).delete([0,Pe(m.path)])))});c.push(k)}}).next(()=>tt.waitFor(c)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return lu(e,r)}Xn(e,r){const o=Ns(e);let c,p=ee.oe;return o.J({index:"documentTargetsIndex"},([m,D],{path:k,sequenceNumber:Y})=>{0===m?(p!==ee.oe&&r(new Dn(In(c)),p),p=Y,c=k):p=ee.oe}).next(()=>{p!==ee.oe&&r(new Dn(In(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lu(l,e){return Ns(l).put((c=l.currentSequenceNumber,{targetId:0,path:Pe(e.path),sequenceNumber:c}));var c}class hg{constructor(){this.changes=new Wo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?tt.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Fl(e).put(o)}removeEntry(e,r,o){return Fl(e).delete(function(p,m){const D=p.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Yu(m),D[D.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.tr(e,o)))}getEntry(e,r){let o=li.newInvalidDocument(r);return Fl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cu(r))},(c,p)=>{o=this.nr(r,p)}).next(()=>o)}rr(e,r){let o={size:0,document:li.newInvalidDocument(r)};return Fl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cu(r))},(c,p)=>{o={document:this.nr(r,p),size:Ic(p)}}).next(()=>o)}getEntries(e,r){let o=To();return this.ir(e,r,(c,p)=>{const m=this.nr(c,p);o=o.insert(c,m)}).next(()=>o)}sr(e,r){let o=To(),c=new Mr(Dn.comparator);return this.ir(e,r,(p,m)=>{const D=this.nr(p,m);o=o.insert(p,D),c=c.insert(p,Ic(m))}).next(()=>({documents:o,_r:c}))}ir(e,r,o){if(r.isEmpty())return tt.resolve();let c=new Or(Pf);r.forEach(k=>c=c.add(k));const p=IDBKeyRange.bound(cu(c.first()),cu(c.last())),m=c.getIterator();let D=m.getNext();return Fl(e).J({index:"documentKeyIndex",range:p},(k,Y,me)=>{const ze=Dn.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;D&&Pf(D,ze)<0;)o(D,null),D=m.getNext();D&&D.isEqual(ze)&&(o(D,Y),D=m.hasNext()?m.getNext():null),D?me.$(cu(D)):me.done()}).next(()=>{for(;D;)o(D,null),D=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,r,o,c,p){const m=r.path,D=[m.popLast().toArray(),m.lastSegment(),Yu(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fl(e).U(IDBKeyRange.bound(D,k,!0)).next(Y=>{p?.incrementDocumentReadCount(Y.length);let me=To();for(const ze of Y){const _t=this.nr(Dn.fromSegments(ze.prefixPath.concat(ze.collectionGroup,ze.documentId)),ze);_t.isFoundDocument()&&(es(r,_t)||c.has(_t.key))&&(me=me.insert(_t.key,_t))}return me})}getAllFromCollectionGroup(e,r,o,c){let p=To();const m=Fo(r,o),D=Fo(r,ve.max());return Fl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,D,!0)},(k,Y,me)=>{const ze=this.nr(Dn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);p=p.insert(ze.key,ze),p.size===c&&me.done()}).next(()=>p)}newChangeBuffer(e){return new ay(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Ca(e).get("remoteDocumentGlobalKey").next(r=>(nn(!!r),r))}tr(e,r){return Ca(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const o=function Wu(l,e){let r;if(e.document)r=Xe(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Dn.fromSegments(e.noDocument.path),c=va(e.noDocument.readTime);r=li.newNoDocument(o,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return on();{const o=Dn.fromSegments(e.unknownDocument.path),c=va(e.unknownDocument.version);r=li.newUnknownDocument(o,c)}}return e.readTime&&r.setReadTime(function(c){const p=new Nr(c[0],c[1]);return Fn.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Fn.min()))return o}return li.newInvalidDocument(e)}}function Rf(l){return new sy(l)}class ay extends hg{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Wo(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const r=[];let o=0,c=new Or((p,m)=>sn(p.canonicalString(),m.canonicalString()));return this.changes.forEach((p,m)=>{const D=this.ur.get(p);if(r.push(this.ar.removeEntry(e,p,D.readTime)),m.isValidDocument()){const k=ja(this.ar.serializer,m);c=c.add(p.path.popLast());const Y=Ic(k);o+=Y-D.size,r.push(this.ar.addEntry(e,p,k))}else if(o-=D.size,this.trackRemovals){const k=ja(this.ar.serializer,m.convertToNoDocument(Fn.min()));r.push(this.ar.addEntry(e,p,k))}}),c.forEach(p=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.ar.updateMetadata(e,o)),tt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(o=>(this.ur.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:o,_r:c})=>(c.forEach((p,m)=>{this.ur.set(p,{size:m,readTime:o.get(p).readTime})}),o))}}function Ca(l){return $r(l,"remoteDocumentGlobal")}function Fl(l){return $r(l,"remoteDocumentsV14")}function cu(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fo(l,e){const r=e.documentKey.path.toArray();return[l,Yu(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Pf(l,e){const r=l.path.toArray(),o=e.path.toArray();let c=0;for(let p=0;p<r.length-2&&p<o.length-2;++p)if(c=sn(r[p],o[p]),c)return c;return c=sn(r.length,o.length),c||(c=sn(r[r.length-2],o[o.length-2]),c||sn(r[r.length-1],o[o.length-1]))}class uu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Mf{constructor(e,r,o,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(o=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==o&&Se(o.mutation,c,fr.empty(),Nr.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,ti()).next(()=>o))}getLocalViewOfDocuments(e,r,o=ti()){const c=ts();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,o).next(p=>{let m=aa();return p.forEach((D,k)=>{m=m.insert(D,k.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const o=ts();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,ti()))}populateOverlays(e,r,o){const c=[];return o.forEach(p=>{r.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((m,D)=>{r.set(m,D)})})}computeViews(e,r,o,c){let p=To();const m=zs(),D=zs();return r.forEach((k,Y)=>{const me=o.get(Y.key);c.has(Y.key)&&(void 0===me||me.mutation instanceof ln)?p=p.insert(Y.key,Y):void 0!==me?(m.set(Y.key,me.mutation.getFieldMask()),Se(me.mutation,Y,me.mutation.getFieldMask(),Nr.now())):m.set(Y.key,fr.empty())}),this.recalculateAndSaveOverlays(e,p).next(k=>(k.forEach((Y,me)=>m.set(Y,me)),r.forEach((Y,me)=>{var ze;return D.set(Y,new uu(me,null!==(ze=m.get(Y))&&void 0!==ze?ze:null))}),D))}recalculateAndSaveOverlays(e,r){const o=zs();let c=new Mr((m,D)=>m-D),p=ti();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const D of m)D.keys().forEach(k=>{const Y=r.get(k);if(null===Y)return;let me=o.get(k)||fr.empty();me=D.applyToLocalView(Y,me),o.set(k,me);const ze=(c.get(D.batchId)||ti()).add(k);c=c.insert(D.batchId,ze)})}).next(()=>{const m=[],D=c.getReverseIterator();for(;D.hasNext();){const k=D.getNext(),Y=k.key,me=k.value,ze=sl();me.forEach(_t=>{if(!p.has(_t)){const Yt=x(r.get(_t),o.get(_t));null!==Yt&&ze.set(_t,Yt),p=p.add(_t)}}),m.push(this.documentOverlayCache.saveOverlays(e,Y,ze))}return tt.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,c){return Dn.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):oa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,c):this.getDocumentsMatchingCollectionQuery(e,r,o,c);var m}getNextDocuments(e,r,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,c).next(p=>{const m=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,c-p.size):tt.resolve(ts());let D=-1,k=p;return m.next(Y=>tt.forEach(Y,(me,ze)=>(D<ze.largestBatchId&&(D=ze.largestBatchId),p.get(me)?tt.resolve():this.remoteDocumentCache.getEntry(e,me).next(_t=>{k=k.insert(me,_t)}))).next(()=>this.populateOverlays(e,Y,p)).next(()=>this.computeViews(e,k,Y,ti())).next(me=>({batchId:D,changes:ka(me)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Dn(r)).next(o=>{let c=aa();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,o,c){const p=r.collectionGroup;let m=aa();return this.indexManager.getCollectionParents(e,p).next(D=>tt.forEach(D,k=>{const Y=(ze=r,_t=k.child(p),new Jo(_t,null,ze.explicitOrderBy.slice(),ze.filters.slice(),ze.limit,ze.limitType,ze.startAt,ze.endAt));var ze,_t;return this.getDocumentsMatchingCollectionQuery(e,Y,o,c).next(me=>{me.forEach((ze,_t)=>{m=m.insert(ze,_t)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,o,c){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(m=>(p=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,p,c))).next(m=>{p.forEach((k,Y)=>{const me=Y.getKey();null===m.get(me)&&(m=m.insert(me,li.newInvalidDocument(me)))});let D=aa();return m.forEach((k,Y)=>{const me=p.get(k);void 0!==me&&Se(me.mutation,Y,fr.empty(),Nr.now()),es(r,Y)&&(D=D.insert(k,Y))}),D})}}class ea{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return tt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:Co(c.createTime)}),tt.resolve();var c}getNamedQuery(e,r){return tt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:Ku(c.bundledQuery),readTime:Co(c.readTime)}),tt.resolve();var c}}class Tc{constructor(){this.overlays=new Mr(Dn.comparator),this.hr=new Map}getOverlay(e,r){return tt.resolve(this.overlays.get(r))}getOverlays(e,r){const o=ts();return tt.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((c,p)=>{this.ht(e,r,p)}),tt.resolve()}removeOverlaysForBatchId(e,r,o){const c=this.hr.get(o);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(o)),tt.resolve()}getOverlaysForCollection(e,r,o){const c=ts(),p=r.length+1,m=new Dn(r.child("")),D=this.overlays.getIteratorFrom(m);for(;D.hasNext();){const k=D.getNext().value,Y=k.getKey();if(!r.isPrefixOf(Y.path))break;Y.path.length===p&&k.largestBatchId>o&&c.set(k.getKey(),k)}return tt.resolve(c)}getOverlaysForCollectionGroup(e,r,o,c){let p=new Mr((Y,me)=>Y-me);const m=this.overlays.getIterator();for(;m.hasNext();){const Y=m.getNext().value;if(Y.getKey().getCollectionGroup()===r&&Y.largestBatchId>o){let me=p.get(Y.largestBatchId);null===me&&(me=ts(),p=p.insert(Y.largestBatchId,me)),me.set(Y.getKey(),Y)}}const D=ts(),k=p.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((Y,me)=>D.set(Y,me)),!(D.size()>=c)););return tt.resolve(D)}ht(e,r,o){const c=this.overlays.get(o.key);if(null!==c){const m=this.hr.get(c.largestBatchId).delete(o.key);this.hr.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new qi(r,o));let p=this.hr.get(r);void 0===p&&(p=ti(),this.hr.set(r,p)),this.hr.set(r,p.add(o.key))}}class Cc{constructor(){this.Pr=new Or(No.Ir),this.Tr=new Or(No.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new No(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new No(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new Dn(new qn([])),o=new No(r,e),c=new No(r,e+1),p=[];return this.Tr.forEachInRange([o,c],m=>{this.Ar(m),p.push(m.key)}),p}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Dn(new qn([])),o=new No(r,e),c=new No(r,e+1);let p=ti();return this.Tr.forEachInRange([o,c],m=>{p=p.add(m.key)}),p}containsKey(e){const r=new No(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class No{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Dn.comparator(e.key,r.key)||sn(e.pr,r.pr)}static Er(e,r){return sn(e.pr,r.pr)||Dn.comparator(e.key,r.key)}}class du{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Or(No.Ir)}checkEmpty(e){return tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,c){const p=this.yr;this.yr++;const m=new Gr(p,r,o,c);this.mutationQueue.push(m);for(const D of c)this.wr=this.wr.add(new No(D.key,p)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return tt.resolve(m)}lookupMutationBatch(e,r){return tt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),p=c<0?0:c;return tt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new No(r,0),c=new No(r,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([o,c],m=>{const D=this.Sr(m.pr);p.push(D)}),tt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Or(sn);return r.forEach(c=>{const p=new No(c,0),m=new No(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,m],D=>{o=o.add(D.pr)})}),tt.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let p=o;Dn.isDocumentKey(p)||(p=p.child(""));const m=new No(new Dn(p),0);let D=new Or(sn);return this.wr.forEachWhile(k=>{const Y=k.key.path;return!!o.isPrefixOf(Y)&&(Y.length===c&&(D=D.add(k.pr)),!0)},m),tt.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(o=>{const c=this.Sr(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){nn(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return tt.forEach(r.mutations,c=>{const p=new No(c.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new No(r,0),c=this.wr.firstAfterOrEqual(o);return tt.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return tt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class fg{constructor(e){this.vr=e,this.docs=new Mr(Dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,c=this.docs.get(o),p=c?c.size:0,m=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:m}),this.size+=m-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return tt.resolve(o?o.document.mutableCopy():li.newInvalidDocument(r))}getEntries(e,r){let o=To();return r.forEach(c=>{const p=this.docs.get(c);o=o.insert(c,p?p.document.mutableCopy():li.newInvalidDocument(c))}),tt.resolve(o)}getDocumentsMatchingQuery(e,r,o,c){let p=To();const m=r.path,D=new Dn(m.child("")),k=this.docs.getIteratorFrom(D);for(;k.hasNext();){const{key:Y,value:{document:me}}=k.getNext();if(!m.isPrefixOf(Y.path))break;Y.path.length>m.length+1||wt(ge(me),o)<=0||(c.has(me.key)||es(r,me))&&(p=p.insert(me.key,me.mutableCopy()))}return tt.resolve(p)}getAllFromCollectionGroup(e,r,o,c){on()}Fr(e,r){return tt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new ly(this)}getSize(e){return tt.resolve(this.size)}}class ly extends hg{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(o)}),tt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class pg{constructor(e){this.persistence=e,this.Mr=new Wo(r=>Io(r),Uo),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Cc,this.targetCount=0,this.Lr=Ta.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,c)=>r(c)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),tt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ta(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,tt.resolve()}updateTargetData(e,r){return this.qn(r),tt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,r,o){let c=0;const p=[];return this.Mr.forEach((m,D)=>{D.sequenceNumber<=r&&null===o.get(D.targetId)&&(this.Mr.delete(m),p.push(this.removeMatchingKeysForTargetId(e,D.targetId)),c++)}),tt.waitFor(p).next(()=>c)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return tt.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),tt.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const c=this.persistence.referenceDelegate,p=[];return c&&r.forEach(m=>{p.push(c.markPotentiallyOrphaned(e,m))}),tt.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),tt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return tt.resolve(o)}containsKey(e,r){return tt.resolve(this.Nr.containsKey(r))}}class rh{constructor(e,r){this.Br={},this.overlays={},this.kr=new ee(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pg(this),this.indexManager=new dg,this.remoteDocumentCache=new fg(o=>this.referenceDelegate.Kr(o)),this.serializer=new Gu(r),this.$r=new ea(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Tc,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new du(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){Nt("MemoryPersistence","Starting transaction:",e);const c=new Ls(this.kr.next());return this.referenceDelegate.Ur(),o(c).next(p=>this.referenceDelegate.Wr(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gr(e,r){return tt.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class Ls extends kn{constructor(e){super(),this.currentSequenceNumber=e}}class bc{constructor(e){this.persistence=e,this.zr=new Cc,this.jr=null}static Hr(e){return new bc(e)}get Jr(){if(this.jr)return this.jr;throw on()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),tt.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),tt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),tt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(p=>this.Jr.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Jr,o=>{const c=Dn.fromPath(o);return this.Yr(e,c).next(p=>{p||r.removeEntry(c,Fn.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return tt.or([()=>tt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class cy{constructor(e){this.serializer=e}O(e,r,o,c){const p=new Qn("createOrUpgrade",r);var k;o<1&&c>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0}),k.createObjectStore("documentMutations"),ih(e),function(k){k.createObjectStore("remoteDocuments")}(e));let m=tt.resolve();return o<3&&c>=3&&(0!==o&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),ih(e)),m=m.next(()=>function(k){const Y=k.store("targetGlobal"),me={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",me)}(p))),o<4&&c>=4&&(0!==o&&(m=m.next(()=>function(k,Y){return Y.store("mutations").U().next(me=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jn,{unique:!0});const ze=Y.store("mutations"),_t=me.map(Yt=>ze.put(Yt));return tt.waitFor(_t)})}(e,p))),m=m.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(m=m.next(()=>this.Xr(p))),o<6&&c>=6&&(m=m.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.ei(p)))),o<7&&c>=7&&(m=m.next(()=>this.ti(p))),o<8&&c>=8&&(m=m.next(()=>this.ni(e,p))),o<9&&c>=9&&(m=m.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(m=m.next(()=>this.ri(p))),o<11&&c>=11&&(m=m.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(m=m.next(()=>{!function(k){const Y=k.createObjectStore("documentOverlays",{keyPath:or});Y.createIndex("collectionPathOverlayIndex",Sr,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",qr,{unique:!1})}(e)})),o<13&&c>=13&&(m=m.next(()=>function(k){const Y=k.createObjectStore("remoteDocumentsV14",{keyPath:we});Y.createIndex("documentKeyIndex",nt),Y.createIndex("collectionGroupIndex",$e)}(e)).next(()=>this.ii(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(m=m.next(()=>this.si(e,p))),o<15&&c>=15&&(m=m.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:_n}).createIndex("sequenceNumberIndex",An,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Tn}).createIndex("documentKeyIndex",Sn,{unique:!1})}(e))),o<16&&c>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),m}ei(e){let r=0;return e.store("remoteDocuments").J((o,c)=>{r+=Ic(c)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(c=>tt.forEach(c,p=>{const m=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",m).next(D=>tt.forEach(D,k=>{nn(k.userId===p.userId);const Y=qs(this.serializer,k);return Ec(e,p.userId,Y).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return o.J((m,D)=>{const k=new qn(m),Y=[0,Pe(k)];p.push(r.get(Y).next(me=>me?tt.resolve():r.put({targetId:0,path:Pe(k),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>tt.waitFor(p))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:un});const o=r.store("collectionParents"),c=new yc,p=m=>{if(c.add(m)){const D=m.lastSegment(),k=m.popLast();return o.put({collectionId:D,parent:Pe(k)})}};return r.store("remoteDocuments").J({H:!0},(m,D)=>{const k=new qn(m);return p(k.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,D,k],Y)=>{const me=In(D);return p(me.popLast())}))}ri(e){const r=e.store("targets");return r.J((o,c)=>{const p=Ml(c),m=tu(this.serializer,p);return r.put(m)})}ii(e,r){const o=r.store("remoteDocuments"),c=[];return o.J((p,m)=>{const D=r.store("remoteDocumentsV14"),k=(ze=m,ze.document?new Dn(qn.fromString(ze.document.name).popFirst(5)):ze.noDocument?Dn.fromSegments(ze.noDocument.path):ze.unknownDocument?Dn.fromSegments(ze.unknownDocument.path):on()).path.toArray(),Y={prefixPath:k.slice(0,k.length-2),collectionGroup:k[k.length-2],documentId:k[k.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var ze;c.push(D.put(Y))}).next(()=>tt.waitFor(c))}si(e,r){const o=r.store("mutations"),c=Rf(this.serializer),p=new rh(bc.Hr,this.serializer.ct);return o.U().next(m=>{const D=new Map;return m.forEach(k=>{var Y;let me=null!==(Y=D.get(k.userId))&&void 0!==Y?Y:ti();qs(this.serializer,k).keys().forEach(ze=>me=me.add(ze)),D.set(k.userId,me)}),tt.forEach(D,(k,Y)=>{const me=new Oe(Y),ze=Ha.lt(this.serializer,me),_t=p.getIndexManager(me),Yt=qo.lt(me,this.serializer,_t,p.referenceDelegate);return new Mf(c,Yt,ze,_t).recalculateAndSaveOverlaysForDocumentKeys(new bi(r,ee.oe),k).next()})})}}function ih(l){l.createObjectStore("targetDocuments",{keyPath:Ot}).createIndex("documentTargetsIndex",vt,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",At,{unique:!0}),l.createObjectStore("targetGlobal")}const hu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fu{constructor(e,r,o,c,p,m,D,k,Y,me,ze=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.oi=p,this.window=m,this.document=D,this._i=Y,this.ai=me,this.ui=ze,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=_t=>Promise.resolve(),!fu.D())throw new We(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oy(this,c),this.Ti=r+"main",this.serializer=new Gu(k),this.Ei=new dr(this.Ti,this.ui,new cy(this.serializer)),this.Qr=new th(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rf(this.serializer),this.$r=new lg,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===me&&vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(Ke.FAILED_PRECONDITION,hu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new ee(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var o=(0,De.Z)(function*(c){if(r.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,De.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,De.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Qt(e))return Nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return pu(e).get("owner").next(r=>tt.resolve(this.Si(r)))}bi(e){return Dc(e).delete(this.clientId)}Di(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=$r(o,"clientMetadata");return c.U().next(p=>{const m=e.vi(p,18e5),D=p.filter(k=>-1===m.indexOf(k));return tt.forEach(D,k=>c.delete(k.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const o of r)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?tt.resolve(!0):pu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new We(Ke.FAILED_PRECONDITION,hu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dc(e).U().next(o=>void 0===this.vi(o,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Nt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,De.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new bi(r,ee.oe);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(o=>this.Ci(o.updateTimeMs,r)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Dc(e).U().next(r=>this.vi(r,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return qo.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Xd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ha.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,o){Nt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",p=16===(k=this.ui)?Do:15===k?bo:14===k?Li:13===k?mi:12===k?Ai:11===k?Tr:void on();var k;let m;return this.Ei.runTransaction(e,c,p,D=>(m=new bi(D,this.kr?this.kr.next():ee.oe),"readwrite-primary"===r?this.gi(m).next(k=>!!k||this.pi(m)).next(k=>{if(!k)throw vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new We(Ke.FAILED_PRECONDITION,tn);return o(m)}).next(k=>this.wi(m).next(()=>k)):this.ki(m).next(()=>o(m)))).then(D=>(m.raiseOnCommittedEvent(),D))}ki(e){return pu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new We(Ke.FAILED_PRECONDITION,hu)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pu(e).put("owner",r)}static D(){return dr.D()}yi(e){const r=pu(e);return r.get("owner").next(o=>this.Si(o)?(Nt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):tt.resolve())}Ci(e,r){const o=Date.now();return!(e<o-r||e>o&&(vn(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Fe.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const o=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Nt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return vn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){vn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pu(l){return $r(l,"owner")}function Dc(l){return $r(l,"clientMetadata")}function oh(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Qu{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=c}static Ki(e,r){let o=ti(),c=ti();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Qu(e,r.fromCache,o,c)}}class sh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ll{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Fe.G6)()?8:Ct((0,Fe.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,c){const p={result:null};return this.ji(e,r).next(m=>{p.result=m}).next(()=>{if(!p.result)return this.Hi(e,r,c,o).next(m=>{p.result=m})}).next(()=>{if(p.result)return;const m=new sh;return this.Ji(e,r,m).next(D=>{if(p.result=D,this.Ui)return this.Yi(e,r,m,D.size)})}).next(()=>p.result)}Yi(e,r,o,c){return o.documentReadCount<this.Wi?(fn()<=he.in.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",Hs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),tt.resolve()):(fn()<=he.in.DEBUG&&Nt("QueryEngine","Query:",Hs(r),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Gi*c?(fn()<=he.in.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",Hs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,eo(r))):tt.resolve())}ji(e,r){if(lo(r))return tt.resolve(null);let o=eo(r);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Ss(r,null,"F"),o=eo(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const m=ti(...p);return this.zi.getDocuments(e,m).next(D=>this.indexManager.getMinOffset(e,o).next(k=>{const Y=this.Zi(r,D);return this.Xi(r,Y,m,k.readTime)?this.ji(e,Ss(r,null,"F")):this.es(e,Y,r,k)}))})))}Hi(e,r,o,c){return lo(r)||c.isEqual(Fn.min())?tt.resolve(null):this.zi.getDocuments(e,o).next(p=>{const m=this.Zi(r,p);return this.Xi(r,m,o,c)?tt.resolve(null):(fn()<=he.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Hs(r)),this.es(e,m,r,Ce(c,-1)).next(D=>D))})}Zi(e,r){let o=new Or(Ps(e));return r.forEach((c,p)=>{es(e,p)&&(o=o.add(p))}),o}Xi(e,r,o,c){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Ji(e,r,o){return fn()<=he.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Hs(r)),this.zi.getDocumentsMatchingQuery(e,r,ve.min(),o)}es(e,r,o,c){return this.zi.getDocumentsMatchingQuery(e,o,c).next(p=>(r.forEach(m=>{p=p.insert(m.key,m)}),p))}}class gg{constructor(e,r,o,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new Mr(sn),this.rs=new Wo(p=>Io(p),Uo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mf(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Xu(l,e,r,o){return new gg(l,e,r,o)}function Ju(l,e){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,De.Z)(function*(l,e){const r=Wt(l);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let c;return r.mutationQueue.getAllMutationBatches(o).next(p=>(c=p,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const m=[],D=[];let k=ti();for(const Y of c){m.push(Y.batchId);for(const me of Y.mutations)k=k.add(me.key)}for(const Y of p){D.push(Y.batchId);for(const me of Y.mutations)k=k.add(me.key)}return r.localDocuments.getDocuments(o,k).next(Y=>({us:Y,removedBatchIds:m,addedBatchIds:D}))})})})).apply(this,arguments)}function td(l){const e=Wt(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function gu(l,e,r){let o=ti(),c=ti();return r.forEach(p=>o=o.add(p)),e.getEntries(l,o).next(p=>{let m=To();return r.forEach((D,k)=>{const Y=p.get(D);k.isFoundDocument()!==Y.isFoundDocument()&&(c=c.add(D)),k.isNoDocument()&&k.version.isEqual(Fn.min())?(e.removeEntry(D,k.readTime),m=m.insert(D,k)):!Y.isValidDocument()||k.version.compareTo(Y.version)>0||0===k.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(k),m=m.insert(D,k)):Nt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",Y.version," Watch version:",k.version)}),{cs:m,ls:c}})}function Of(l,e){const r=Wt(l);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ac(l,e){const r=Wt(l);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.Qr.getTargetData(o,e).next(p=>p?(c=p,tt.resolve(c)):r.Qr.allocateTargetId(o).next(m=>(c=new ya(e,m,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.ns.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}function wc(l,e,r){return pl.apply(this,arguments)}function pl(){return(pl=(0,De.Z)(function*(l,e,r){const o=Wt(l),c=o.ns.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,m=>o.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!Qt(m))throw m;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ns=o.ns.remove(e),o.rs.delete(c.target)})).apply(this,arguments)}function Ya(l,e,r){const o=Wt(l);let c=Fn.min(),p=ti();return o.persistence.runTransaction("Execute query","readwrite",m=>function(k,Y,me){const ze=Wt(k),_t=ze.rs.get(me);return void 0!==_t?tt.resolve(ze.ns.get(_t)):ze.Qr.getTargetData(Y,me)}(o,m,eo(e)).next(D=>{if(D)return c=D.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(m,D.targetId).next(k=>{p=k})}).next(()=>o.ts.getDocumentsMatchingQuery(m,e,r?c:Fn.min(),r?p:ti())).next(D=>(ah(o,ma(e),D),{documents:D,hs:p})))}function xf(l,e){const r=Wt(l),o=Wt(r.Qr),c=r.ns.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",p=>o.ot(p,e).next(m=>m?m.target:null))}function uy(l,e){const r=Wt(l),o=r.ss.get(e)||Fn.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.os.getAllFromCollectionGroup(c,e,Ce(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(ah(r,e,c),c))}function ah(l,e,r){let o=l.ss.get(e)||Fn.min();r.forEach((c,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),l.ss.set(e,o)}function Nf(){return(Nf=(0,De.Z)(function*(l,e,r,o){const c=Wt(l);let p=ti(),m=To();for(const Y of r){const me=e.Ps(Y.metadata.name);Y.document&&(p=p.add(me));const ze=e.Is(Y);ze.setReadTime(e.Ts(Y.metadata.readTime)),m=m.insert(me,ze)}const D=c.os.newChangeBuffer({trackRemovals:!0}),k=yield Ac(c,(me=o,eo(Gi(qn.fromString(`__bundle__/docs/${me}`)))));var me;return c.persistence.runTransaction("Apply bundle documents","readwrite",Y=>gu(Y,D,m).next(me=>(D.apply(Y),me)).next(me=>c.Qr.removeMatchingKeysForTargetId(Y,k.targetId).next(()=>c.Qr.addMatchingKeys(Y,p,k.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Y,me.cs,me.ls)).next(()=>me.cs)))})).apply(this,arguments)}function mg(l,e){return mu.apply(this,arguments)}function mu(){return(mu=(0,De.Z)(function*(l,e,r=ti()){const o=yield Ac(l,eo(Ku(e.bundledQuery))),c=Wt(l);return c.persistence.runTransaction("Save named query","readwrite",p=>{const m=Co(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return c.$r.saveNamedQuery(p,e);const D=o.withResumeToken(be.EMPTY_BYTE_STRING,m);return c.ns=c.ns.insert(D.targetId,D),c.Qr.updateTargetData(p,D).next(()=>c.Qr.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>c.Qr.addMatchingKeys(p,r,o.targetId)).next(()=>c.$r.saveNamedQuery(p,e))})})).apply(this,arguments)}function kf(l,e){return`firestore_clients_${l}_${e}`}function Ul(l,e,r){let o=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function rd(l,e){return`firestore_targets_${l}_${e}`}class id{constructor(e,r,o,c){this.user=e,this.batchId=r,this.state=o,this.error=c}static Es(e,r,o){const c=JSON.parse(o);let p,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(p=new We(c.error.code,c.error.message))),m?new id(e,r,c.state,p):(vn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gl{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Es(e,r){const o=JSON.parse(r);let c,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(c=new We(o.error.code,o.error.message))),p?new gl(e,o.state,c):(vn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const o=JSON.parse(r);let c="object"==typeof o&&o.activeTargetIds instanceof Array,p=la();for(let m=0;c&&m<o.activeTargetIds.length;++m)c=Qe(o.activeTargetIds[m]),p=p.add(o.activeTargetIds[m]);return c?new lh(e,p):(vn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class od{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new od(r.clientId,r.onlineState):(vn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sd{constructor(){this.activeTargetIds=la()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ch{constructor(e,r,o,c,p){this.window=e,this.oi=r,this.persistenceKey=o,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Mr(sn),this.started=!1,this.ys=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=kf(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new sd),this.bs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const r=yield e.syncEngine.Bi();for(const c of r){if(c===e.Vs)continue;const p=e.getItem(kf(e.persistenceKey,c));if(p){const m=lh.Es(c,p);m&&(e.ps=e.ps.insert(m.clientId,m))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const c=e.xs(o);c&&e.Os(c)}for(const c of e.ys)e.gs(c);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((o,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,o){this.Ls(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(rd(this.persistenceKey,e));if(o){const c=gl.Es(e,o);c&&(r=c.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rd(this.persistenceKey,e))}updateQueryState(e,r,o){this.qs(e,r,o)}handleUserChange(e,r,o){r.forEach(c=>{this.Bs(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Nt("SharedClientState","READ",e,r),r}setItem(e,r){Nt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Nt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,De.Z)(function*(){if(r.started){if(null!==o.key)if(r.bs.test(o.key)){if(null==o.newValue){const c=r.$s(o.key);return r.Us(c,null)}{const c=r.Ws(o.key,o.newValue);if(c)return r.Us(c.clientId,c)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const c=r.Gs(o.key,o.newValue);if(c)return r.zs(c)}}else if(r.Cs.test(o.key)){if(null!==o.newValue){const c=r.js(o.key,o.newValue);if(c)return r.Hs(c)}}else if(o.key===r.vs){if(null!==o.newValue){const c=r.xs(o.newValue);if(c)return r.Os(c)}}else if(o.key===r.Ss){const c=function(m){let D=ee.oe;if(null!=m)try{const k=JSON.parse(m);nn("number"==typeof k),D=k}catch(k){vn("SharedClientState","Failed to read sequence number from WebStorage",k)}return D}(o.newValue);c!==ee.oe&&r.sequenceNumberHandler(c)}else if(o.key===r.Fs){const c=r.Js(o.newValue);yield Promise.all(c.map(p=>r.syncEngine.Ys(p)))}}else r.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,o){const c=new id(this.currentUser,e,r,o),p=Ul(this.persistenceKey,this.currentUser,e);this.setItem(p,c.ds())}Bs(e){const r=Ul(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,o){const c=rd(this.persistenceKey,e),p=new gl(e,r,o);this.setItem(c,p.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const o=this.$s(e);return lh.Es(o,r)}Gs(e,r){const o=this.Ds.exec(e),c=Number(o[1]);return id.Es(new Oe(void 0!==o[2]?o[2]:null),c,r)}js(e,r){const o=this.Cs.exec(e),c=Number(o[1]);return gl.Es(c,r)}xs(e){return od.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,De.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const o=r?this.ps.insert(e,r):this.ps.remove(e),c=this.Ns(this.ps),p=this.Ns(o),m=[],D=[];return p.forEach(k=>{c.has(k)||m.push(k)}),c.forEach(k=>{p.has(k)||D.push(k)}),this.syncEngine.eo(m,D).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=la();return e.forEach((o,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class Ff{constructor(){this.no=new sd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sd,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uh{io(e){}shutdown(){}}class yg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dh=null;function Sc(){return null===dh?dh=268435456+Math.round(2147483648*Math.random()):dh++,"0x"+dh.toString(16)}const Lf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dy{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Es="WebChannelConnection";class Vf extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${c}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${p}`}get Do(){return!1}Co(r,o,c,p,m){const D=Sc(),k=this.vo(r,o.toUriEncodedString());Nt("RestConnection",`Sending RPC '${r}' ${D}:`,k,c);const Y={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(Y,p,m),this.Mo(r,k,Y,c).then(me=>(Nt("RestConnection",`Received RPC '${r}' ${D}: `,me),me),me=>{throw Yn("RestConnection",`RPC '${r}' ${D} failed with error: `,me,"url: ",k,"request:",c),me})}xo(r,o,c,p,m,D){return this.Co(r,o,c,p,m)}Fo(r,o,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+Tt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,m)=>r[m]=p),c&&c.headers.forEach((p,m)=>r[m]=p)}vo(r,o){return`${this.wo}/v1/${o}:${Lf[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,c){const p=Sc();return new Promise((m,D)=>{const k=new It;k.setWithCredentials(!0),k.listenOnce(Ue.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case ue.NO_ERROR:const me=k.getResponseJson();Nt(Es,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(me)),m(me);break;case ue.TIMEOUT:Nt(Es,`RPC '${e}' ${p} timed out`),D(new We(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case ue.HTTP_ERROR:const ze=k.getStatus();if(Nt(Es,`RPC '${e}' ${p} failed with status:`,ze,"response text:",k.getResponseText()),ze>0){let _t=k.getResponseJson();Array.isArray(_t)&&(_t=_t[0]);const Yt=_t?.error;if(Yt&&Yt.status&&Yt.message){const Cn=function(Pn){const br=Pn.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(br)>=0?br:Ke.UNKNOWN}(Yt.status);D(new We(Cn,Yt.message))}else D(new We(Ke.UNKNOWN,"Server responded with status "+k.getStatus()))}else D(new We(Ke.UNAVAILABLE,"Connection failed."));break;default:on()}}finally{Nt(Es,`RPC '${e}' ${p} completed.`)}});const Y=JSON.stringify(c);Nt(Es,`RPC '${e}' ${p} sending request:`,c),k.send(r,"POST",Y,o,15)})}Oo(e,r,o){const c=Sc(),p=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Ae(),D=ie(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(k.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(k.xmlHttpFactory=new it({})),this.Fo(k.initMessageHeaders,r,o),k.encodeInitMessageHeaders=!0;const me=p.join("");Nt(Es,`Creating RPC '${e}' stream ${c}: ${me}`,k);const ze=m.createWebChannel(me,k);let _t=!1,Yt=!1;const Cn=new dy({lo:Pn=>{Yt?Nt(Es,`Not sending because RPC '${e}' stream ${c} is closed:`,Pn):(_t||(Nt(Es,`Opening RPC '${e}' stream ${c} transport.`),ze.open(),_t=!0),Nt(Es,`RPC '${e}' stream ${c} sending:`,Pn),ze.send(Pn))},ho:()=>ze.close()}),jn=(Pn,br,Lr)=>{Pn.listen(br,_r=>{try{Lr(_r)}catch(Jr){setTimeout(()=>{throw Jr},0)}})};return jn(ze,Pt.EventType.OPEN,()=>{Yt||(Nt(Es,`RPC '${e}' stream ${c} transport opened.`),Cn.mo())}),jn(ze,Pt.EventType.CLOSE,()=>{Yt||(Yt=!0,Nt(Es,`RPC '${e}' stream ${c} transport closed`),Cn.po())}),jn(ze,Pt.EventType.ERROR,Pn=>{Yt||(Yt=!0,Yn(Es,`RPC '${e}' stream ${c} transport errored:`,Pn),Cn.po(new We(Ke.UNAVAILABLE,"The operation could not be completed")))}),jn(ze,Pt.EventType.MESSAGE,Pn=>{var br;if(!Yt){const Lr=Pn.data[0];nn(!!Lr);const Jr=Lr.error||(null===(br=Lr[0])||void 0===br?void 0:br.error);if(Jr){Nt(Es,`RPC '${e}' stream ${c} received error:`,Jr);const Mi=Jr.status;let Ei=function(Rt){const Vt=yi[Rt];if(void 0!==Vt)return Er(Vt)}(Mi),kt=Jr.message;void 0===Ei&&(Ei=Ke.INTERNAL,kt="Unknown error status: "+Mi+" with message "+Jr.message),Yt=!0,Cn.po(new We(Ei,kt)),ze.close()}else Nt(Es,`RPC '${e}' stream ${c} received:`,Lr),Cn.yo(Lr)}}),jn(D,W.STAT_EVENT,Pn=>{Pn.stat===G.PROXY?Nt(Es,`RPC '${e}' stream ${c} detected buffering proxy`):Pn.stat===G.NOPROXY&&Nt(Es,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Cn.fo()},0),Cn}}function hh(){return typeof window<"u"?window:null}function ad(){return typeof document<"u"?document:null}function ml(l){return new Zi(l,!0)}class Ka{constructor(e,r,o=1e3,c=1.5,p=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=c,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),c=Math.max(0,r-o);c>0&&Nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class fh{constructor(e,r,o,c,p,m,D,k){this.oi=e,this.Go=o,this.zo=c,this.connection=p,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=D,this.listener=k,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ka(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,De.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,De.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,De.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===Ke.RESOURCE_EXHAUSTED?(vn(r.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===Ke.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.jo===r&&this.u_(o,c)},o=>{e(()=>{const c=new We(Ke.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(c)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(c=>{o(()=>this.c_(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}e_(){var e=this;this.state=5,this.Yo.$o((0,De.Z)(function*(){e.state=0,e.start()}))}c_(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bf extends fh{constructor(e,r,o,c,p,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,m),this.serializer=p}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Zt(l,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:on(),c=e.targetChange.targetIds||[],p=function(Y,me){return Y.useProto3Json?(nn(void 0===me||"string"==typeof me),be.fromBase64String(me||"")):(nn(void 0===me||me instanceof Buffer||me instanceof Uint8Array),be.fromUint8Array(me||new Uint8Array))}(l,e.targetChange.resumeToken),m=e.targetChange.cause,D=m&&function(Y){const me=void 0===Y.code?Ke.UNKNOWN:Er(Y.code);return new We(me,Y.message||"")}(m);r=new vi(o,c,p,D||null)}else if("documentChange"in e){const o=e.documentChange,c=b(l,o.document.name),p=Co(o.document.updateTime),m=o.document.createTime?Co(o.document.createTime):Fn.min(),D=new Yi({mapValue:{fields:o.document.fields}}),k=li.newFoundDocument(c,p,m,D);r=new Rr(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const o=e.documentDelete,c=b(l,o.document),p=o.readTime?Co(o.readTime):Fn.min(),m=li.newNoDocument(c,p);r=new Rr([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,c=b(l,o.document);r=new Rr([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return on();{const o=e.filter,{count:c=0,unchangedNames:p}=o,m=new So(c,p);r=new Ur(o.targetId,m)}}var Y;return r}(this.serializer,e),o=function(p){if(!("targetChange"in p))return Fn.min();const m=p.targetChange;return m.targetIds&&m.targetIds.length?Fn.min():m.readTime?Co(m.readTime):Fn.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=P(this.serializer),r.addTarget=function(p,m){let D;const k=m.target;if(D=ls(k)?{documents:pi(p,k)}:{query:vs(p,k)._t},D.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){D.resumeToken=ca(p,m.resumeToken);const Y=ns(p,m.expectedCount);null!==Y&&(D.expectedCount=Y)}else if(m.snapshotVersion.compareTo(Fn.min())>0){D.readTime=_o(p,m.snapshotVersion.toTimestamp());const Y=ns(p,m.expectedCount);null!==Y&&(D.expectedCount=Y)}return D}(this.serializer,e);const o=function Rl(l,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return on()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=P(this.serializer),r.removeTarget=e,this.i_(r)}}class Uf extends fh{constructor(e,r,o,c,p,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,m),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function io(l,e){return l&&l.length>0?(nn(void 0!==e),l.map(r=>function(c,p){let m=Co(c.updateTime?c.updateTime:p);return m.isEqual(Fn.min())&&(m=Co(p)),new Ms(m,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Co(e.commitTime);return this.listener.A_(o,r)}return nn(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=P(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>nr(this.serializer,o))};this.i_(r)}}class $l extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=c,this.m_=!1}f_(){if(this.m_)throw new We(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,m])=>this.connection.Co(e,Ws(r,o),c,p,m)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new We(Ke.UNKNOWN,p.toString())})}xo(e,r,o,c,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,D])=>this.connection.xo(e,Ws(r,o),c,m,D,p)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new We(Ke.UNKNOWN,m.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class $f{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(vn(r),this.y_=!1):Nt("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class jf{constructor(e,r,o,c,p){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(D=>{o.enqueueAndForget((0,De.Z)(function*(){var k;ba(m)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,De.Z)(function*(me){const ze=Wt(me);ze.M_.add(4),yield Vs(ze),ze.N_.set("Unknown"),ze.M_.delete(4),yield yl(ze)}),function Y(me){return k.apply(this,arguments)})(m))}))}),this.N_=new $f(o,c)}}function yl(l){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,De.Z)(function*(l){if(ba(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function Vs(l){return ph.apply(this,arguments)}function ph(){return(ph=(0,De.Z)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function yu(l,e){const r=Wt(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),ud(r)?gh(r):Gl(r).Xo()&&ld(r,e))}function Pc(l,e){const r=Wt(l),o=Gl(r);r.F_.delete(e),o.Xo()&&cd(r,e),0===r.F_.size&&(o.Xo()?o.n_():ba(r)&&r.N_.set("Unknown"))}function ld(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fn.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Gl(l).P_(e)}function cd(l,e){l.L_.xe(e),Gl(l).I_(e)}function gh(l){l.L_=new Br({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),Gl(l).start(),l.N_.w_()}function ud(l){return ba(l)&&!Gl(l).Zo()&&l.F_.size>0}function ba(l){return 0===Wt(l).M_.size}function vu(l){l.L_=void 0}function Hf(l){return mh.apply(this,arguments)}function mh(){return(mh=(0,De.Z)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function ds(l){return _u.apply(this,arguments)}function _u(){return(_u=(0,De.Z)(function*(l){l.F_.forEach((e,r)=>{ld(l,e)})})).apply(this,arguments)}function ks(l,e){return qa.apply(this,arguments)}function qa(){return(qa=(0,De.Z)(function*(l,e){vu(l),ud(l)?(l.N_.D_(e),gh(l)):l.N_.set("Unknown")})).apply(this,arguments)}function is(l,e,r){return jl.apply(this,arguments)}function jl(){return jl=(0,De.Z)(function*(l,e,r){if(l.N_.set("Online"),e instanceof vi&&2===e.state&&e.cause)try{yield(o=(0,De.Z)(function*(p,m){const D=m.cause;for(const k of m.targetIds)p.F_.has(k)&&(yield p.remoteSyncer.rejectListen(k,D),p.F_.delete(k),p.L_.removeTarget(k))}),function c(p,m){return o.apply(this,arguments)})(l,e)}catch(o){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Hl(l,o)}else if(e instanceof Rr?l.L_.Ke(e):e instanceof Ur?l.L_.He(e):l.L_.We(e),!r.isEqual(Fn.min()))try{const o=yield td(l.localStore);r.compareTo(o)>=0&&(yield function(p,m){const D=p.L_.rt(m);return D.targetChanges.forEach((k,Y)=>{if(k.resumeToken.approximateByteSize()>0){const me=p.F_.get(Y);me&&p.F_.set(Y,me.withResumeToken(k.resumeToken,m))}}),D.targetMismatches.forEach((k,Y)=>{const me=p.F_.get(k);if(!me)return;p.F_.set(k,me.withResumeToken(be.EMPTY_BYTE_STRING,me.snapshotVersion)),cd(p,k);const ze=new ya(me.target,k,Y,me.sequenceNumber);ld(p,ze)}),p.remoteSyncer.applyRemoteEvent(D)}(l,r))}catch(o){Nt("RemoteStore","Failed to raise snapshot:",o),yield Hl(l,o)}var o}),jl.apply(this,arguments)}function Hl(l,e,r){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,De.Z)(function*(l,e,r){if(!Qt(e))throw e;l.M_.add(1),yield Vs(l),l.N_.set("Offline"),r||(r=()=>td(l.localStore)),l.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield yl(l)}))})).apply(this,arguments)}function zf(l,e){return e().catch(r=>Hl(l,r,e))}function vl(l){return yh.apply(this,arguments)}function yh(){return(yh=(0,De.Z)(function*(l){const e=Wt(l),r=Da(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Za(e);)try{const c=yield Of(e.localStore,o);if(null===c){0===e.v_.length&&r.n_();break}o=c.batchId,Gf(e,c)}catch(c){yield Hl(e,c)}vh(e)&&Wf(e)})).apply(this,arguments)}function Za(l){return ba(l)&&l.v_.length<10}function Gf(l,e){l.v_.push(e);const r=Da(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function vh(l){return ba(l)&&!Da(l).Zo()&&l.v_.length>0}function Wf(l){Da(l).start()}function vg(l){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,De.Z)(function*(l){Da(l).V_()})).apply(this,arguments)}function hs(l){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,De.Z)(function*(l){const e=Da(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function zl(l,e,r){return _h.apply(this,arguments)}function _h(){return(_h=(0,De.Z)(function*(l,e,r){const o=l.v_.shift(),c=ki.from(o,e,r);yield zf(l,()=>l.remoteSyncer.applySuccessfulWrite(c)),yield vl(l)})).apply(this,arguments)}function Qa(l,e){return _l.apply(this,arguments)}function _l(){return _l=(0,De.Z)(function*(l,e){var r;e&&Da(l).E_&&(yield(r=(0,De.Z)(function*(c,p){if(Os(D=p.code)&&D!==Ke.ABORTED){const m=c.v_.shift();Da(c).t_(),yield zf(c,()=>c.remoteSyncer.rejectFailedWrite(m.batchId,p)),yield vl(c)}var D}),function o(c,p){return r.apply(this,arguments)})(l,e)),vh(l)&&Wf(l)}),_l.apply(this,arguments)}function dd(l,e){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,De.Z)(function*(l,e){const r=Wt(l);r.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const o=ba(r);r.M_.add(3),yield Vs(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield yl(r)})).apply(this,arguments)}function El(l,e){return Il.apply(this,arguments)}function Il(){return(Il=(0,De.Z)(function*(l,e){const r=Wt(l);e?(r.M_.delete(2),yield yl(r)):e||(r.M_.add(2),yield Vs(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Gl(l){return l.B_||(l.B_=function(r,o,c){const p=Wt(r);return p.f_(),new Bf(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(l.datastore,l.asyncQueue,{Po:Hf.bind(null,l),To:ds.bind(null,l),Ao:ks.bind(null,l),h_:is.bind(null,l)}),l.x_.push(function(){var e=(0,De.Z)(function*(r){r?(l.B_.t_(),ud(l)?gh(l):l.N_.set("Unknown")):(yield l.B_.stop(),vu(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function Da(l){return l.k_||(l.k_=function(r,o,c){const p=Wt(r);return p.f_(),new Uf(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:vg.bind(null,l),Ao:Qa.bind(null,l),R_:hs.bind(null,l),A_:zl.bind(null,l)}),l.x_.push(function(){var e=(0,De.Z)(function*(r){r?(l.k_.t_(),yield vl(l)):(yield l.k_.stop(),l.v_.length>0&&(Nt("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class xc{constructor(e,r,o,c,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,c,p){const m=Date.now()+o,D=new xc(e,r,m,c,p);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nc(l,e){if(vn("AsyncQueue",`${e}: ${l}`),Qt(l))return new We(Ke.UNAVAILABLE,`${e}: ${l}`);throw l}class y{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Dn.comparator(r.key,o.key):(r,o)=>Dn.comparator(r.key,o.key),this.keyedMap=aa(),this.sortedSet=new Mr(this.comparator)}static emptySet(e){return new y(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof y)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new y;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class d{constructor(){this.q_=new Mr(Dn.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):on():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class h{constructor(e,r,o,c,p,m,D,k,Y){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=p,this.fromCache=m,this.syncStateChanged=D,this.excludesMetadataChanges=k,this.hasCachedResults=Y}static fromInitialDocuments(e,r,o,c,p){const m=[];return r.forEach(D=>{m.push({type:0,doc:D})}),new h(e,r,y.emptySet(r),m,o,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class E{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class U{constructor(){this.queries=new Wo(e=>js(e),Rs),this.onlineState="Unknown",this.z_=new Set}}function ce(l,e){return at.apply(this,arguments)}function at(){return(at=(0,De.Z)(function*(l,e){const r=Wt(l);let o=3;const c=e.query;let p=r.queries.get(c);p?!p.W_()&&e.G_()&&(o=2):(p=new E,o=e.G_()?0:1);try{switch(o){case 0:p.K_=yield r.onListen(c,!0);break;case 1:p.K_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(m){const D=Nc(m,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(D)}r.queries.set(c,p),p.U_.push(e),e.j_(r.onlineState),p.K_&&e.H_(p.K_)&&cr(r)})).apply(this,arguments)}function Ft(l,e){return hn.apply(this,arguments)}function hn(){return(hn=(0,De.Z)(function*(l,e){const r=Wt(l),o=e.query;let c=3;const p=r.queries.get(o);if(p){const m=p.U_.indexOf(e);m>=0&&(p.U_.splice(m,1),0===p.U_.length?c=e.G_()?0:1:!p.W_()&&e.G_()&&(c=2))}switch(c){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function er(l,e){const r=Wt(l);let o=!1;for(const c of e){const m=r.queries.get(c.query);if(m){for(const D of m.U_)D.H_(c)&&(o=!0);m.K_=c}}o&&cr(r)}function vr(l,e,r){const o=Wt(l),c=o.queries.get(e);if(c)for(const p of c.U_)p.onError(r);o.queries.delete(e)}function cr(l){l.z_.forEach(e=>{e.next()})}var so,Zo;(Zo=so||(so={})).J_="default",Zo.Cache="cache";class Wl{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new h(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==so.Cache}}class Eh{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class hd{constructor(e){this.serializer=e}Ps(e){return b(this.serializer,e)}Is(e){return e.metadata.exists?Xe(this.serializer,e.document,!1):li.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Co(e)}}class _g{constructor(e,r,o){this.oa=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kc(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const o=qn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,o=new hd(this.serializer);for(const c of e)if(c.metadata.queries){const p=o.Ps(c.metadata.name);for(const m of c.metadata.queries){const D=(r.get(m)||ti()).add(p);r.set(m,D)}}return r}complete(){var e=this;return(0,De.Z)(function*(){const r=yield function Bl(l,e,r,o){return Nf.apply(this,arguments)}(e.localStore,new hd(e.serializer),e.documents,e.oa.id),o=e.aa(e.documents);for(const c of e.queries)yield mg(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function kc(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class fd{constructor(e){this.key=e}}class pd{constructor(e){this.key=e}}class gd{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ti(),this.mutatedKeys=ti(),this.Ia=Ps(e),this.Ta=new y(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new d,c=r?r.Ta:this.Ta;let p=r?r.mutatedKeys:this.mutatedKeys,m=c,D=!1;const k="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Y="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((me,ze)=>{const _t=c.get(me),Yt=es(this.query,ze)?ze:null,Cn=!!_t&&this.mutatedKeys.has(_t.key),jn=!!Yt&&(Yt.hasLocalMutations||this.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations);let Pn=!1;_t&&Yt?_t.data.isEqual(Yt.data)?Cn!==jn&&(o.track({type:3,doc:Yt}),Pn=!0):this.Ra(_t,Yt)||(o.track({type:2,doc:Yt}),Pn=!0,(k&&this.Ia(Yt,k)>0||Y&&this.Ia(Yt,Y)<0)&&(D=!0)):!_t&&Yt?(o.track({type:0,doc:Yt}),Pn=!0):_t&&!Yt&&(o.track({type:1,doc:_t}),Pn=!0,(k||Y)&&(D=!0)),Pn&&(Yt?(m=m.add(Yt),p=jn?p.add(me):p.delete(me)):(m=m.delete(me),p=p.delete(me)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const me="F"===this.query.limitType?m.last():m.first();m=m.delete(me.key),p=p.delete(me.key),o.track({type:1,doc:me})}return{Ta:m,Aa:o,Xi:D,mutatedKeys:p}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,c){const p=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const m=e.Aa.Q_();m.sort((me,ze)=>function(Yt,Cn){const jn=Pn=>{switch(Pn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return on()}};return jn(Yt)-jn(Cn)}(me.type,ze.type)||this.Ia(me.doc,ze.doc)),this.Va(o),c=null!=c&&c;const D=r&&!c?this.ma():[],k=0===this.Pa.size&&this.current&&!c?1:0,Y=k!==this.ha;return this.ha=k,0!==m.length||Y?{snapshot:new h(this.query,e.Ta,p,m,e.mutatedKeys,0===k,Y,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new d,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ti(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new pd(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new fd(o))}),r}pa(e){this.la=e.hs,this.Pa=ti();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return h.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class md{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class yd{constructor(e){this.key=e,this.wa=!1}}class Yf{constructor(e,r,o,c,p,m){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=m,this.Sa={},this.ba=new Wo(D=>js(D),Rs),this.Da=new Map,this.Ca=new Set,this.va=new Mr(Dn.comparator),this.Fa=new Map,this.Ma=new Cc,this.xa={},this.Oa=new Map,this.Na=Ta.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Fc(l,e){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,De.Z)(function*(l,e,r=!0){const o=Sh(l);let c;const p=o.ba.get(e);return p?(o.sharedClientState.addLocalQueryTarget(p.targetId),c=p.view.ya()):c=yield Th(o,e,r,!0),c})).apply(this,arguments)}function hy(l,e){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,De.Z)(function*(l,e){const r=Sh(l);yield Th(r,e,!0,!1)})).apply(this,arguments)}function Th(l,e,r,o){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,De.Z)(function*(l,e,r,o){const c=yield Ac(l.localStore,eo(e)),p=c.targetId,m=r?l.sharedClientState.addLocalQueryTarget(p):"not-current";let D;return o&&(D=yield Ch(l,e,p,"current"===m,c.resumeToken)),l.isPrimaryClient&&r&&yu(l.remoteStore,c),D})).apply(this,arguments)}function Ch(l,e,r,o,c){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,De.Z)(function*(l,e,r,o,c){l.Ba=(ze,_t,Yt)=>{return(Cn=(0,De.Z)(function*(Pn,br,Lr,_r){let Jr=br.view.da(Lr);Jr.Xi&&(Jr=yield Ya(Pn.localStore,br.query,!1).then(({documents:dt})=>br.view.da(dt,Jr)));const Mi=_r&&_r.targetChanges.get(br.targetId),Ei=_r&&null!=_r.targetMismatches.get(br.targetId),kt=br.view.applyChanges(Jr,Pn.isPrimaryClient,Mi,Ei);return Xf(Pn,br.targetId,kt.fa),kt.snapshot}),function jn(Pn,br,Lr,_r){return Cn.apply(this,arguments)})(l,ze,_t,Yt);var Cn};const p=yield Ya(l.localStore,e,!0),m=new gd(e,p.hs),D=m.da(p.documents),k=gr.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==l.onlineState,c),Y=m.applyChanges(D,l.isPrimaryClient,k);Xf(l,r,Y.fa);const me=new md(e,r,m);return l.ba.set(e,me),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),Y.snapshot}),Tu.apply(this,arguments)}function l_(l,e,r){return qf.apply(this,arguments)}function qf(){return(qf=(0,De.Z)(function*(l,e,r){const o=Wt(l),c=o.ba.get(e),p=o.Da.get(c.targetId);if(p.length>1)return o.Da.set(c.targetId,p.filter(m=>!Rs(m,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield wc(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),r&&Pc(o.remoteStore,c.targetId),Cu(o,c.targetId)}).catch(xn))):(Cu(o,c.targetId),yield wc(o.localStore,c.targetId,!0))})).apply(this,arguments)}function c_(l,e){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,De.Z)(function*(l,e){const r=Wt(l),o=r.ba.get(e),c=r.Da.get(o.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Pc(r.remoteStore,o.targetId))})).apply(this,arguments)}function Zf(){return(Zf=(0,De.Z)(function*(l,e,r){const o=tp(l);try{const c=yield function(m,D){const k=Wt(m),Y=Nr.now(),me=D.reduce((Yt,Cn)=>Yt.add(Cn.key),ti());let ze,_t;return k.persistence.runTransaction("Locally write mutations","readwrite",Yt=>{let Cn=To(),jn=ti();return k.os.getEntries(Yt,me).next(Pn=>{Cn=Pn,Cn.forEach((br,Lr)=>{Lr.isValidDocument()||(jn=jn.add(br))})}).next(()=>k.localDocuments.getOverlayedDocuments(Yt,Cn)).next(Pn=>{ze=Pn;const br=[];for(const Lr of D){const _r=mt(Lr,ze.get(Lr.key).overlayedDocument);null!=_r&&br.push(new ln(Lr.key,_r,Ji(_r.value.mapValue),V.exists(!0)))}return k.mutationQueue.addMutationBatch(Yt,Y,br,D)}).next(Pn=>{_t=Pn;const br=Pn.applyToLocalDocumentSet(ze,jn);return k.documentOverlayCache.saveOverlays(Yt,Pn.batchId,br)})}).then(()=>({batchId:_t.batchId,changes:ka(ze)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(m,D,k){let Y=m.xa[m.currentUser.toKey()];Y||(Y=new Mr(sn)),Y=Y.insert(D,k),m.xa[m.currentUser.toKey()]=Y}(o,c.batchId,r),yield Kl(o,c.changes),yield vl(o.remoteStore)}catch(c){const p=Nc(c,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function Ig(l,e){return vd.apply(this,arguments)}function vd(){return(vd=(0,De.Z)(function*(l,e){const r=Wt(l);try{const o=yield function nd(l,e){const r=Wt(l),o=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const m=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const D=[];e.targetChanges.forEach((me,ze)=>{const _t=c.get(ze);if(!_t)return;D.push(r.Qr.removeMatchingKeys(p,me.removedDocuments,ze).next(()=>r.Qr.addMatchingKeys(p,me.addedDocuments,ze)));let Yt=_t.withSequenceNumber(p.currentSequenceNumber);var jn,Pn,br;null!==e.targetMismatches.get(ze)?Yt=Yt.withResumeToken(be.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):me.resumeToken.approximateByteSize()>0&&(Yt=Yt.withResumeToken(me.resumeToken,o)),c=c.insert(ze,Yt),Pn=Yt,br=me,(0===(jn=_t).resumeToken.approximateByteSize()||Pn.snapshotVersion.toMicroseconds()-jn.snapshotVersion.toMicroseconds()>=3e8||br.addedDocuments.size+br.modifiedDocuments.size+br.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(p,Yt))});let k=To(),Y=ti();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(p,me))}),D.push(gu(p,m,e.documentUpdates).next(me=>{k=me.cs,Y=me.ls})),!o.isEqual(Fn.min())){const me=r.Qr.getLastRemoteSnapshotVersion(p).next(ze=>r.Qr.setTargetsMetadata(p,p.currentSequenceNumber,o));D.push(me)}return tt.waitFor(D).next(()=>m.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,k,Y)).next(()=>k)}).then(p=>(r.ns=c,p))}(r.localStore,e);e.targetChanges.forEach((c,p)=>{const m=r.Fa.get(p);m&&(nn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.wa=!0:c.modifiedDocuments.size>0?nn(m.wa):c.removedDocuments.size>0&&(nn(m.wa),m.wa=!1))}),yield Kl(r,o,e)}catch(o){yield xn(o)}})).apply(this,arguments)}function Qf(l,e,r){const o=Wt(l);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.ba.forEach((p,m)=>{const D=m.view.j_(e);D.snapshot&&c.push(D.snapshot)}),function(m,D){const k=Wt(m);k.onlineState=D;let Y=!1;k.queries.forEach((me,ze)=>{for(const _t of ze.U_)_t.j_(D)&&(Y=!0)}),Y&&cr(k)}(o.eventManager,e),c.length&&o.Sa.h_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function _d(l,e,r){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,De.Z)(function*(l,e,r){const o=Wt(l);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.Fa.get(e),p=c&&c.key;if(p){let m=new Mr(Dn.comparator);m=m.insert(p,li.newNoDocument(p,Fn.min()));const D=ti().add(p),k=new Va(Fn.min(),new Map,new Mr(sn),m,D);yield Ig(o,k),o.va=o.va.remove(p),o.Fa.delete(e),bg(o)}else yield wc(o.localStore,e,!1).then(()=>Cu(o,e,r)).catch(xn)})).apply(this,arguments)}function d_(l,e){return fy.apply(this,arguments)}function fy(){return(fy=(0,De.Z)(function*(l,e){const r=Wt(l),o=e.batch.batchId;try{const c=yield function ed(l,e){const r=Wt(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),p=r.os.newChangeBuffer({trackRemovals:!0});return function(D,k,Y,me){const ze=Y.batch,_t=ze.keys();let Yt=tt.resolve();return _t.forEach(Cn=>{Yt=Yt.next(()=>me.getEntry(k,Cn)).next(jn=>{const Pn=Y.docVersions.get(Cn);nn(null!==Pn),jn.version.compareTo(Pn)<0&&(ze.applyToRemoteDocument(jn,Y),jn.isValidDocument()&&(jn.setReadTime(Y.commitVersion),me.addEntry(jn)))})}),Yt.next(()=>D.mutationQueue.removeMutationBatch(k,ze))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let k=ti();for(let Y=0;Y<D.mutationResults.length;++Y)D.mutationResults[Y].transformResults.length>0&&(k=k.add(D.batch.mutations[Y].key));return k}(e))).next(()=>r.localDocuments.getDocuments(o,c))})}(r.localStore,e);Dh(r,o,null),Ed(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Kl(r,c)}catch(c){yield xn(c)}})).apply(this,arguments)}function h_(l,e,r){return bh.apply(this,arguments)}function bh(){return(bh=(0,De.Z)(function*(l,e,r){const o=Wt(l);try{const c=yield function(m,D){const k=Wt(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let me;return k.mutationQueue.lookupMutationBatch(Y,D).next(ze=>(nn(null!==ze),me=ze.keys(),k.mutationQueue.removeMutationBatch(Y,ze))).next(()=>k.mutationQueue.performConsistencyCheck(Y)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(Y,me,D)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,me)).next(()=>k.localDocuments.getDocuments(Y,me))})}(o.localStore,e);Dh(o,e,r),Ed(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Kl(o,c)}catch(c){yield xn(c)}})).apply(this,arguments)}function Lc(){return(Lc=(0,De.Z)(function*(l,e){const r=Wt(l);ba(r.remoteStore)||Nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const D=Wt(m);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>D.mutationQueue.getHighestUnacknowledgedBatchId(k))}(r.localStore);if(-1===o)return void e.resolve();const c=r.Oa.get(o)||[];c.push(e),r.Oa.set(o,c)}catch(o){const c=Nc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function Ed(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function Dh(l,e,r){const o=Wt(l);let c=o.xa[o.currentUser.toKey()];if(c){const p=c.get(e);p&&(r?p.reject(r):p.resolve(),c=c.remove(e)),o.xa[o.currentUser.toKey()]=c}}function Cu(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const o of l.Da.get(e))l.ba.delete(o),r&&l.Sa.ka(o,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(o=>{l.Ma.containsKey(o)||Cg(l,o)})}function Cg(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(Pc(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),bg(l))}function Xf(l,e,r){for(const o of r)o instanceof fd?(l.Ma.addReference(o.key,e),py(l,o)):o instanceof pd?(Nt("SyncEngine","Document no longer in limbo: "+o.key),l.Ma.removeReference(o.key,e),l.Ma.containsKey(o.key)||Cg(l,o.key)):on()}function py(l,e){const r=e.key,o=r.path.canonicalString();l.va.get(r)||l.Ca.has(o)||(Nt("SyncEngine","New document in limbo: "+r),l.Ca.add(o),bg(l))}function bg(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new Dn(qn.fromString(e)),o=l.Na.next();l.Fa.set(o,new yd(r)),l.va=l.va.insert(r,o),yu(l.remoteStore,new ya(eo(Gi(r.path)),o,"TargetPurposeLimboResolution",ee.oe))}}function Kl(l,e,r){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,De.Z)(function*(l,e,r){const o=Wt(l),c=[],p=[],m=[];var D;o.ba.isEmpty()||(o.ba.forEach((D,k)=>{m.push(o.Ba(k,e,r).then(Y=>{if((Y||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(k.targetId,Y&&!Y.fromCache?"current":"not-current"),Y){c.push(Y);const me=Qu.Ki(k.targetId,Y);p.push(me)}}))}),yield Promise.all(m),o.Sa.h_(c),yield(D=(0,De.Z)(function*(Y,me){const ze=Wt(Y);try{yield ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",_t=>tt.forEach(me,Yt=>tt.forEach(Yt.qi,Cn=>ze.persistence.referenceDelegate.addReference(_t,Yt.targetId,Cn)).next(()=>tt.forEach(Yt.Qi,Cn=>ze.persistence.referenceDelegate.removeReference(_t,Yt.targetId,Cn)))))}catch(_t){if(!Qt(_t))throw _t;Nt("LocalStore","Failed to update sequence numbers: "+_t)}for(const _t of me){const Yt=_t.targetId;if(!_t.fromCache){const Cn=ze.ns.get(Yt),Pn=Cn.withLastLimboFreeSnapshotVersion(Cn.snapshotVersion);ze.ns=ze.ns.insert(Yt,Pn)}}}),function k(Y,me){return D.apply(this,arguments)})(o.localStore,p))}),Dg.apply(this,arguments)}function p_(l,e){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,De.Z)(function*(l,e){const r=Wt(l);if(!r.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const o=yield Ju(r.localStore,e);r.currentUser=e,(p=r).Oa.forEach(D=>{D.forEach(k=>{k.reject(new We(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Kl(r,o.us)}var p})).apply(this,arguments)}function Vc(l,e){const r=Wt(l),o=r.Fa.get(e);if(o&&o.wa)return ti().add(o.key);{let c=ti();const p=r.Da.get(e);if(!p)return c;for(const m of p){const D=r.ba.get(m);c=c.unionWith(D.view.Ea)}return c}}function Ah(l,e){return wg.apply(this,arguments)}function wg(){return(wg=(0,De.Z)(function*(l,e){const r=Wt(l),o=yield Ya(r.localStore,e.query,!0),c=e.view.pa(o);return r.isPrimaryClient&&Xf(r,e.targetId,c.fa),c})).apply(this,arguments)}function P0(l,e){return gy.apply(this,arguments)}function gy(){return(gy=(0,De.Z)(function*(l,e){const r=Wt(l);return uy(r.localStore,e).then(o=>Kl(r,o))})).apply(this,arguments)}function M0(l,e,r,o){return my.apply(this,arguments)}function my(){return(my=(0,De.Z)(function*(l,e,r,o){const c=Wt(l),p=yield function(D,k){const Y=Wt(D),me=Wt(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",ze=>me.vn(ze,k).next(_t=>_t?Y.localDocuments.getDocuments(ze,_t):tt.resolve(null)))}(c.localStore,e);var k;null!==p?("pending"===r?yield vl(c.remoteStore):"acknowledged"===r||"rejected"===r?(Dh(c,e,o||null),Ed(c,e),k=e,Wt(Wt(c.localStore).mutationQueue).Mn(k)):on(),yield Kl(c,p)):Nt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Jf(){return(Jf=(0,De.Z)(function*(l,e){const r=Wt(l);if(Sh(r),tp(r),!0===e&&!0!==r.La){const o=r.sharedClientState.getAllActiveQueryTargets(),c=yield yy(r,o.toArray());r.La=!0,yield El(r.remoteStore,!0);for(const p of c)yu(r.remoteStore,p)}else if(!1===e&&!1!==r.La){const o=[];let c=Promise.resolve();r.Da.forEach((p,m)=>{r.sharedClientState.isLocalQueryTarget(m)?o.push(m):c=c.then(()=>(Cu(r,m),wc(r.localStore,m,!0))),Pc(r.remoteStore,m)}),yield c,yield yy(r,o),function(m){const D=Wt(m);D.Fa.forEach((k,Y)=>{Pc(D.remoteStore,Y)}),D.Ma.mr(),D.Fa=new Map,D.va=new Mr(Dn.comparator)}(r),r.La=!1,yield El(r.remoteStore,!1)}})).apply(this,arguments)}function yy(l,e,r){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,De.Z)(function*(l,e,r){const o=Wt(l),c=[],p=[];for(const m of e){let D;const k=o.Da.get(m);if(k&&0!==k.length){D=yield Ac(o.localStore,eo(k[0]));for(const Y of k){const me=o.ba.get(Y),ze=yield Ah(o,me);ze.snapshot&&p.push(ze.snapshot)}}else{const Y=yield xf(o.localStore,m);D=yield Ac(o.localStore,Y),yield Ch(o,vy(Y),m,!1,D.resumeToken)}c.push(D)}return o.Sa.h_(p),c})).apply(this,arguments)}function vy(l){return zi(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function g_(l){return r=Wt(l).localStore,Wt(Wt(r).persistence).Bi();var r}function Rg(l,e,r,o){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,De.Z)(function*(l,e,r,o){const c=Wt(l);if(c.La)return void Nt("SyncEngine","Ignoring unexpected query state notification.");const p=c.Da.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const m=yield uy(c.localStore,ma(p[0])),D=Va.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,be.EMPTY_BYTE_STRING);yield Kl(c,m,D);break}case"rejected":yield wc(c.localStore,e,!0),Cu(c,e,o);break;default:on()}})).apply(this,arguments)}function wh(l,e,r){return ep.apply(this,arguments)}function ep(){return(ep=(0,De.Z)(function*(l,e,r){const o=Sh(l);if(o.La){for(const c of e){if(o.Da.has(c)&&o.sharedClientState.isActiveQueryTarget(c)){Nt("SyncEngine","Adding an already active target "+c);continue}const p=yield xf(o.localStore,c),m=yield Ac(o.localStore,p);yield Ch(o,vy(p),m.targetId,!1,m.resumeToken),yu(o.remoteStore,m)}for(const c of r)o.Da.has(c)&&(yield wc(o.localStore,c,!1).then(()=>{Pc(o.remoteStore,c),Cu(o,c)}).catch(xn))}})).apply(this,arguments)}function Sh(l){const e=Wt(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ig.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_d.bind(null,e),e.Sa.h_=er.bind(null,e.eventManager),e.Sa.ka=vr.bind(null,e.eventManager),e}function tp(l){const e=Wt(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,e),e}class np{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,De.Z)(function*(){r.serializer=ml(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Xu(this.persistence,new Ll,e.initialUser,this.serializer)}createPersistence(e){return new rh(bc.Hr,this.serializer)}createSharedClientState(e){return new Ff}terminate(){var e=this;return(0,De.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rh extends np{constructor(e,r,o){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,De.Z)(function*(){yield r().call(o,e),yield o.Qa.initialize(o,e),yield tp(o.Qa.syncEngine),yield vl(o.Qa.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Xu(this.persistence,new Ll,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Ga(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new oe(r,this.persistence);return new Nn(e.asyncQueue,o)}createPersistence(e){const r=oh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new fu(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,hh(),ad(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ff}}class rp extends Rh{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,De.Z)(function*(){yield r().call(o,e);const c=o.Qa.syncEngine;o.sharedClientState instanceof ch&&(o.sharedClientState.syncEngine={Zs:M0.bind(null,c),Xs:Rg.bind(null,c),eo:wh.bind(null,c),Bi:g_.bind(null,c),Ys:P0.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var p=(0,De.Z)(function*(m){yield function O0(l,e){return Jf.apply(this,arguments)}(o.Qa.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=hh();if(!ch.D(r))throw new We(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=oh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ch(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ph{initialize(e,r){var o=this;return(0,De.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Qf(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=p_.bind(null,o.syncEngine),yield El(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new U}createDatastore(e){const r=ml(e.databaseInfo.databaseId),o=new Vf(e.databaseInfo);return new $l(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,c=this.datastore,p=e.asyncQueue,m=r=>Qf(this.syncEngine,r,0),D=yg.D()?new yg:new uh,new jf(o,c,p,m,D);var o,c,p,m,D}createSyncEngine(e,r){return function(c,p,m,D,k,Y,me){const ze=new Yf(c,p,m,D,k,Y);return me&&(ze.La=!0),ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,De.Z)(function*(){var r,o;yield(o=(0,De.Z)(function*(p){const m=Wt(p);Nt("RemoteStore","RemoteStore shutting down."),m.M_.add(5),yield Vs(m),m.O_.shutdown(),m.N_.set("Unknown")}),function c(p){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function m_(l,e=10240){let r=0;return{read:()=>(0,De.Z)(function*(){if(r<l.byteLength){const o={value:l.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Mh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class y_{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Ut,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(o=>{o&&o.sa()?this.metadata.resolve(o.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ia)}`))},o=>this.metadata.reject(o))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,De.Z)(function*(){const r=yield e.za();if(null===r)return null;const o=e.Wa.decode(r),c=Number(o);isNaN(c)&&e.ja(`length string (${o}) is not valid number`);const p=yield e.Ha(c);return new Eh(JSON.parse(p),r.length+c)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,De.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ha(e){var r=this;return(0,De.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const o=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,De.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class v_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,De.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new We(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(c=(0,De.Z)(function*(m,D){const k=Wt(m),Y={documents:D.map(Yt=>Ys(k.serializer,Yt))},me=yield k.xo("BatchGetDocuments",k.serializer.databaseId,qn.emptyPath(),Y,D.length),ze=new Map;me.forEach(Yt=>{const Cn=function en(l,e){return"found"in e?function(o,c){nn(!!c.found);const p=b(o,c.found.name),m=Co(c.found.updateTime),D=c.found.createTime?Co(c.found.createTime):Fn.min(),k=new Yi({mapValue:{fields:c.found.fields}});return li.newFoundDocument(p,m,D,k)}(l,e):"missing"in e?function(o,c){nn(!!c.missing),nn(!!c.readTime);const p=b(o,c.missing),m=Co(c.readTime);return li.newNoDocument(p,m)}(l,e):on()}(k.serializer,Yt);ze.set(Cn.key.toString(),Cn)});const _t=[];return D.forEach(Yt=>{const Cn=ze.get(Yt.toString());nn(!!Cn),_t.push(Cn)}),_t}),function p(m,D){return c.apply(this,arguments)})(r.datastore,e);var c;return o.forEach(c=>r.recordVersion(c)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,c)=>{const p=Dn.fromPath(c);e.mutations.push(new wr(p,e.precondition(p)))}),yield(o=(0,De.Z)(function*(p,m){const D=Wt(p),k={writes:m.map(Y=>nr(D.serializer,Y))};yield D.Co("Commit",D.serializer.databaseId,qn.emptyPath(),k)}),function c(p,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw on();r=Fn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new We(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Fn.min())?V.exists(!1):V.updateTime(r):V.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Fn.min()))throw new We(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return V.updateTime(r)}return V.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class __{constructor(e,r,o,c,p){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=c,this.deferred=p,this.Za=o.maxAttempts,this.Yo=new Ka(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,De.Z)(function*(){const r=new v_(e.datastore),o=e.tu(r);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.nu(p)}))}).catch(c=>{e.nu(c)})}))}tu(e){try{const r=this.updateFunction(e);return!j(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Os(r)}return!1}}class E_{constructor(e,r,o,c){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Oe.UNAUTHENTICATED,this.clientId=Ci.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,De.Z)(function*(D){Nt("FirestoreClient","Received user=",D.uid),yield p.authCredentialListener(D),p.user=D});return function(D){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(Nt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=Nc(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Oh(l,e){return Id.apply(this,arguments)}function Id(){return Id=(0,De.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let o=r.initialUser;l.setCredentialChangeListener(function(){var c=(0,De.Z)(function*(p){o.isEqual(p)||(yield Ju(e.localStore,p),o=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),Id.apply(this,arguments)}function Pg(l,e){return xh.apply(this,arguments)}function xh(){return(xh=(0,De.Z)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Bc(l);Nt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(o=>dd(e.remoteStore,o)),l.setAppCheckTokenChangeListener((o,c)=>dd(e.remoteStore,c)),l._onlineComponents=e})).apply(this,arguments)}function _y(l){return"FirebaseError"===l.name?l.code===Ke.FAILED_PRECONDITION||l.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Bc(l){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,De.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Oh(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!_y(r))throw r;Yn("Error using user provided cache. Falling back to memory cache: "+r),yield Oh(l,new np)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield Oh(l,new np);return l._offlineComponents})).apply(this,arguments)}function ip(l){return op.apply(this,arguments)}function op(){return(op=(0,De.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Pg(l,l._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield Pg(l,new Ph))),l._onlineComponents})).apply(this,arguments)}function Og(l){return Bc(l).then(e=>e.persistence)}function Td(l){return Bc(l).then(e=>e.localStore)}function Ey(l){return ip(l).then(e=>e.remoteStore)}function xg(l){return ip(l).then(e=>e.syncEngine)}function bu(l){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,De.Z)(function*(l){const e=yield ip(l),r=e.eventManager;return r.onListen=Fc.bind(null,e.syncEngine),r.onUnlisten=l_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=hy.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=c_.bind(null,e.syncEngine),r})).apply(this,arguments)}function Ng(l,e,r={}){const o=new Ut;return l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(p,m,D,k,Y){const me=new Mh({next:_t=>{m.enqueueAndForget(()=>Ft(p,ze));const Yt=_t.docs.has(D);!Yt&&_t.fromCache?Y.reject(new We(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&_t.fromCache&&k&&"server"===k.source?Y.reject(new We(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(_t)},error:_t=>Y.reject(_t)}),ze=new Wl(Gi(D.path),me,{includeMetadataChanges:!0,ra:!0});return ce(p,ze)}(yield bu(l),l.asyncQueue,e,r,o)})),o.promise}function sp(l,e,r={}){const o=new Ut;return l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(p,m,D,k,Y){const me=new Mh({next:_t=>{m.enqueueAndForget(()=>Ft(p,ze)),_t.fromCache&&"server"===k.source?Y.reject(new We(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(_t)},error:_t=>Y.reject(_t)}),ze=new Wl(D,me,{includeMetadataChanges:!0,ra:!0});return ce(p,ze)}(yield bu(l),l.asyncQueue,e,r,o)})),o.promise}function Ay(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const lp=new Map;function cp(l,e,r){if(!r)throw new We(Ke.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function Lg(l,e,r,o){if(!0===e&&!0===o)throw new We(Ke.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function Uc(l){if(!Dn.isDocumentKey(l))throw new We(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function wy(l){if(Dn.isDocumentKey(l))throw new We(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Cd(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(o=l).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof l?"a function":on()}function _i(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new We(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Cd(l);throw new We(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function Sy(l,e){if(e<=0)throw new We(Ke.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class up{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new We(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ay(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new We(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new We(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new We(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,r,o,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new up({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new up(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new pr;switch(o.type){case"firstParty":return new Kn(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new We(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=lp.get(r);o&&(Nt("ComponentProvider","Removing Datastore"),lp.delete(r),o.terminate())}(this),Promise.resolve()}}class Lo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class uo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Tl extends Lo{constructor(e,r,o){super(e,r,Gi(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new Dn(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function Ry(l,e,...r){if(l=(0,Fe.m9)(l),cp("collection","path",e),l instanceof $c){const o=qn.fromString(e,...r);return wy(o),new Tl(l,null,o)}{if(!(l instanceof uo||l instanceof Tl))throw new We(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=l._path.child(qn.fromString(e,...r));return wy(o),new Tl(l.firestore,null,o)}}function ql(l,e,...r){if(l=(0,Fe.m9)(l),1===arguments.length&&(e=Ci.newId()),cp("doc","path",e),l instanceof $c){const o=qn.fromString(e,...r);return Uc(o),new uo(l,null,new Dn(o))}{if(!(l instanceof uo||l instanceof Tl))throw new We(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=l._path.child(qn.fromString(e,...r));return Uc(o),new uo(l.firestore,l instanceof Tl?l.converter:null,new Dn(o))}}function My(l,e){return l=(0,Fe.m9)(l),e=(0,Fe.m9)(e),(l instanceof uo||l instanceof Tl)&&(e instanceof uo||e instanceof Tl)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function Vg(l,e){return l=(0,Fe.m9)(l),e=(0,Fe.m9)(e),l instanceof Lo&&e instanceof Lo&&l.firestore===e.firestore&&Rs(l._query,e._query)&&l.converter===e.converter}class T_{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ka(this,"async_queue_retry"),this.hu=()=>{const r=ad();r&&Nt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ad();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ad();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ut;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,De.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Qt(r))throw r;Nt("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,vn("INTERNAL UNHANDLED ERROR: ",function(m){let D=m.message||"";return m.stack&&(D=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),D}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const c=xc.createAndSchedule(this,e,r,o,p=>this.Eu(p));return this._u.push(c),c}Pu(){this.au&&on()}verifyOperationInProgress(){}du(){var e=this;return(0,De.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Fh(l){return function(r,o){if("object"!=typeof r||null===r)return!1;const c=r;for(const p of["next","error","complete"])if(p in c&&"function"==typeof c[p])return!0;return!1}(l)}class Oy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class oo extends $c{constructor(e,r,o,c){super(e,r,o,c),this.type="firestore",this._queue=new T_,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ny(this),this._firestoreClient.terminate()}}function Ro(l){return l._firestoreClient||Ny(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Ny(l){var e,r,o;const c=l._freezeSettings(),p=(k=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new Kt(l._databaseId,k,l._persistenceKey,(me=c).host,me.ssl,me.experimentalForceLongPolling,me.experimentalAutoDetectLongPolling,Ay(me.experimentalLongPollingOptions),me.useFetchStreams));var k,me;l._firestoreClient=new E_(l._authCredentials,l._appCheckCredentials,l._queue,p),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=c.localCache)&&void 0!==o&&o._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function D_(l,e,r){const o=new Ut;return l.asyncQueue.enqueue((0,De.Z)(function*(){try{yield Oh(l,r),yield Pg(l,e),o.resolve()}catch(c){const p=c;if(!_y(p))throw p;Yn("Error enabling indexeddb cache. Falling back to memory cache: "+p),o.reject(p)}})).then(()=>o.promise)}function bd(l){if(l._initialized||l._terminated)throw new We(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(be.fromBase64String(e))}catch(r){throw new We(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Aa(be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class el{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new We(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ad{constructor(e){this._methodName=e}}class wd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new We(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new We(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const Vh=/^__.*__$/;class w_{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ln(e,this.data,this.fieldMask,r,this.fieldTransforms):new Bt(e,this.data,r,this.fieldTransforms)}}class zg{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ln(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ky(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw on()}}class hp{constructor(e,r,o,c,p,m){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=m||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.gu({path:o,yu:!1});return c.wu(e),c}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.gu({path:o,yu:!1});return c.mu(),c}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return yp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(ky(this.fu)&&Vh.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Gg{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||ml(e)}Fu(e,r,o,c=!1){return new hp({fu:e,methodName:r,vu:o,path:ur.emptyPath(),yu:!1,Cu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(l){const e=l._freezeSettings(),r=ml(l._databaseId);return new Gg(l._databaseId,!!e.ignoreUndefinedProperties,r)}function fp(l,e,r,o,c,p={}){const m=l.Fu(p.merge||p.mergeFields?2:0,e,r,c);gp("Data must be an object, but it was:",m,o);const D=Kg(o,m);let k,Y;if(p.merge)k=new fr(m.fieldMask),Y=m.fieldTransforms;else if(p.mergeFields){const me=[];for(const ze of p.mergeFields){const _t=mp(e,ze,r);if(!m.contains(_t))throw new We(Ke.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);wu(me,_t)||me.push(_t)}k=new fr(me),Y=m.fieldTransforms.filter(ze=>k.covers(ze.field))}else k=null,Y=m.fieldTransforms;return new w_(new Yi(D),k,Y)}class Bh extends Ad{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function S_(l,e,r){return new hp({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wg extends Ad{_toFieldTransform(e){return new $o(e.path,new sr)}isEqual(e){return e instanceof Wg}}class Sd extends Ad{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=S_(this,e,!0),o=this.Mu.map(p=>Du(p,r)),c=new si(o);return new $o(e.path,c)}isEqual(e){return e instanceof Sd&&(0,Fe.vZ)(this.Mu,e.Mu)}}class Uh extends Ad{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=S_(this,e,!0),o=this.Mu.map(p=>Du(p,r)),c=new ii(o);return new $o(e.path,c)}isEqual(e){return e instanceof Uh&&(0,Fe.vZ)(this.Mu,e.Mu)}}class Yg extends Ad{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Bi(e.serializer,L(e.serializer,this.xu));return new $o(e.path,r)}isEqual(e){return e instanceof Yg&&this.xu===e.xu}}function pp(l,e,r,o){const c=l.Fu(1,e,r);gp("Data must be an object, but it was:",c,o);const p=[],m=Yi.empty();po(o,(k,Y)=>{const me=Au(e,k,r);Y=(0,Fe.m9)(Y);const ze=c.Su(me);if(Y instanceof Bh)p.push(me);else{const _t=Du(Y,ze);null!=_t&&(p.push(me),m.set(me,_t))}});const D=new fr(p);return new zg(m,D,c.fieldTransforms)}function $h(l,e,r,o,c,p){const m=l.Fu(1,e,r),D=[mp(e,o,r)],k=[c];if(p.length%2!=0)throw new We(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<p.length;_t+=2)D.push(mp(e,p[_t])),k.push(p[_t+1]);const Y=[],me=Yi.empty();for(let _t=D.length-1;_t>=0;--_t)if(!wu(Y,D[_t])){const Yt=D[_t];let Cn=k[_t];Cn=(0,Fe.m9)(Cn);const jn=m.Su(Yt);if(Cn instanceof Bh)Y.push(Yt);else{const Pn=Du(Cn,jn);null!=Pn&&(Y.push(Yt),me.set(Yt,Pn))}}const ze=new fr(Y);return new zg(me,ze,m.fieldTransforms)}function jh(l,e,r,o=!1){return Du(r,l.Fu(o?4:3,e))}function Du(l,e){if(Fy(l=(0,Fe.m9)(l)))return gp("Unsupported field value:",e,l),Kg(l,e);if(l instanceof Ad)return function(o,c){if(!ky(c.fu))throw c.Du(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Du(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(c);p&&c.fieldTransforms.push(p)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,c){const p=[];let m=0;for(const D of o){let k=Du(D,c.bu(m));null==k&&(k={nullValue:"NULL_VALUE"}),p.push(k),m++}return{arrayValue:{values:p}}}(l,e)}return function(o,c){if(null===(o=(0,Fe.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return L(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=Nr.fromDate(o);return{timestampValue:_o(c.serializer,p)}}if(o instanceof Nr){const p=new Nr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:_o(c.serializer,p)}}if(o instanceof wd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Aa)return{bytesValue:ca(c.serializer,o._byteString)};if(o instanceof uo){const p=c.databaseId,m=o.firestore._databaseId;if(!m.isEqual(p))throw c.Du(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Ho(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c.Du(`Unsupported field value: ${Cd(o)}`)}(l,e)}function Kg(l,e){const r={};return Pr(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(l,(o,c)=>{const p=Du(c,e.pu(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function Fy(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Nr||l instanceof wd||l instanceof Aa||l instanceof uo||l instanceof Ad)}function gp(l,e,r){if(!Fy(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Cd(r);throw e.Du("an object"===o?l+" a custom object":l+" "+o)}var c}function mp(l,e,r){if((e=(0,Fe.m9)(e))instanceof el)return e._internalPath;if("string"==typeof e)return Au(l,e);throw yp("Field path arguments must be of type string or ",l,!1,void 0,r)}const R_=new RegExp("[~\\*/\\[\\]]");function Au(l,e,r){if(e.search(R_)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new el(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function yp(l,e,r,o,c){const p=o&&!o.isEmpty(),m=void 0!==c;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let k="";return(p||m)&&(k+=" (found",p&&(k+=` in field ${o}`),m&&(k+=` in document ${c}`),k+=")"),new We(Ke.INVALID_ARGUMENT,D+l+k)}function wu(l,e){return l.some(r=>r.isEqual(e))}class Zl{constructor(e,r,o,c,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new P_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class P_ extends Zl{data(){return super.data()}}function Hh(l,e){return"string"==typeof e?Au(l,e):e instanceof el?e._internalPath:e._delegate._internalPath}function Ly(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new We(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class zh extends qg{}function Ql(l,e,...r){let o=[];e instanceof qg&&o.push(e),o=o.concat(r),function(p){const m=p.filter(k=>k instanceof Gh).length,D=p.filter(k=>k instanceof Rd).length;if(m>1||m>0&&D>0)throw new We(Ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)l=c._apply(l);return l}class Rd extends zh{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Rd(e,r,o)}_apply(e){const r=this._parse(e);return Xl(e._query,r),new Lo(e.firestore,e.converter,gs(e._query,r))}_parse(e){const r=Hc(e.firestore);return function(p,m,D,k,Y,me,ze){let _t;if(Y.isKeyField()){if("array-contains"===me||"array-contains-any"===me)throw new We(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${me}' queries on documentId().`);if("in"===me||"not-in"===me){_p(ze,me);const Yt=[];for(const Cn of ze)Yt.push(F_(k,p,Cn));_t={arrayValue:{values:Yt}}}else _t=F_(k,p,ze)}else"in"!==me&&"not-in"!==me&&"array-contains-any"!==me||_p(ze,me),_t=jh(D,"where",ze,"in"===me||"not-in"===me);return Wr.create(Y,me,_t)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Gh extends qg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gh(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:fi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,p){let m=c;const D=p.getFlattenedFilters();for(const k of D)Xl(m,k),m=gs(m,k)}(e._query,r),new Lo(e.firestore,e.converter,gs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qg extends zh{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Qg(e,r)}_apply(e){const r=function(c,p,m){if(null!==c.startAt)throw new We(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new We(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ao(p,m)}(e._query,this._field,this._direction);return new Lo(e.firestore,e.converter,function(c,p){const m=c.explicitOrderBy.concat([p]);return new Jo(c.path,c.collectionGroup,m,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,r))}}class Wh extends zh{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Wh(e,r,o)}_apply(e){return new Lo(e.firestore,e.converter,Ss(e._query,this._limit,this._limitType))}}class vp extends zh{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new vp(e,r,o)}_apply(e){const r=Xg(e,this.type,this._docOrFields,this._inclusive);return new Lo(e.firestore,e.converter,(p=r,new Jo((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,p,c.endAt)));var c,p}}class Yh extends zh{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Yh(e,r,o)}_apply(e){const r=Xg(e,this.type,this._docOrFields,this._inclusive);return new Lo(e.firestore,e.converter,(p=r,new Jo((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,p)));var c,p}}function Xg(l,e,r,o){if(r[0]=(0,Fe.m9)(r[0]),r[0]instanceof Zl)return function(p,m,D,k,Y){if(!k)throw new We(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const me=[];for(const ze of $s(p))if(ze.field.isKeyField())me.push(Si(m,k.key));else{const _t=k.data.field(ze.field);if(rt(_t))throw new We(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ze.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_t){const Yt=ze.field.canonicalString();throw new We(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Yt}' (used as the orderBy) does not exist.`)}me.push(_t)}return new Di(me,Y)}(l._query,l.firestore._databaseId,e,r[0]._document,o);{const c=Hc(l.firestore);return function(m,D,k,Y,me,ze){const _t=m.explicitOrderBy;if(me.length>_t.length)throw new We(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Yt=[];for(let Cn=0;Cn<me.length;Cn++){const jn=me[Cn];if(_t[Cn].field.isKeyField()){if("string"!=typeof jn)throw new We(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof jn}`);if(!oa(m)&&-1!==jn.indexOf("/"))throw new We(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${jn}' contains a slash.`);const Pn=m.path.child(qn.fromString(jn));if(!Dn.isDocumentKey(Pn))throw new We(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Pn}' is not because it contains an odd number of segments.`);const br=new Dn(Pn);Yt.push(Si(D,br))}else{const Pn=jh(k,Y,jn);Yt.push(Pn)}}return new Di(Yt,ze)}(l._query,l.firestore._databaseId,c,e,r,o)}}function F_(l,e,r){if("string"==typeof(r=(0,Fe.m9)(r))){if(""===r)throw new We(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oa(e)&&-1!==r.indexOf("/"))throw new We(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(qn.fromString(r));if(!Dn.isDocumentKey(o))throw new We(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Si(l,new Dn(o))}if(r instanceof uo)return Si(l,r._key);throw new We(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(r)}.`)}function _p(l,e){if(!Array.isArray(l)||0===l.length)throw new We(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xl(l,e){const r=function(c,p){for(const m of c)for(const D of m.getFlattenedFilters())if(p.indexOf(D.op)>=0)return D.op;return null}(l.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new We(Ke.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Jg{convertValue(e,r="none"){switch(Vn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ye(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw on()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return po(e,(c,p)=>{o[c]=this.convertValue(p,r)}),o}convertGeoPoint(e){return new wd(re(e.latitude),re(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=bt(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(St(e));default:return null}}convertTimestamp(e){const r=B(e);return new Nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=qn.fromString(e);nn(Af(o));const c=new rn(o.get(1),o.get(3)),p=new Dn(o.popFirst(5));return c.isEqual(r)||vn(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function em(l,e,r){let o;return o=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,o}class L_ extends Jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,r)}}class Po{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ec extends Zl{constructor(e,r,o,c,p,m){super(e,r,o,c,m),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Su extends ec{data(e={}){return super.data(e)}}class zc{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new Po(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Su(this._firestore,this._userDataWriter,o.key,o,new Po(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new We(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,p){if(c._snapshot.oldDocs.isEmpty()){let m=0;return c._snapshot.docChanges.map(D=>({type:"added",doc:new Su(c._firestore,c._userDataWriter,D.doc.key,D.doc,new Po(c._snapshot.mutatedKeys.has(D.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:m++}))}{let m=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(D=>p||3!==D.type).map(D=>{const k=new Su(c._firestore,c._userDataWriter,D.doc.key,D.doc,new Po(c._snapshot.mutatedKeys.has(D.doc.key),c._snapshot.fromCache),c.query.converter);let Y=-1,me=-1;return 0!==D.type&&(Y=m.indexOf(D.doc.key),m=m.delete(D.doc.key)),1!==D.type&&(m=m.add(D.doc),me=m.indexOf(D.doc.key)),{type:V_(D.type),doc:k,oldIndex:Y,newIndex:me}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function V_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return on()}}function Ip(l,e){return l instanceof ec&&e instanceof ec?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof zc&&e instanceof zc&&l._firestore===e._firestore&&Vg(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}class tc extends Jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,r)}}function Wy(l,e,r){l=_i(l,uo);const o=_i(l.firestore,oo),c=em(l.converter,e,r);return Md(o,[fp(Hc(o),"setDoc",l._key,c,null!==l.converter,r).toMutation(l._key,V.none())])}function tm(l,e,r,...o){l=_i(l,uo);const c=_i(l.firestore,oo),p=Hc(c);let m;return m="string"==typeof(e=(0,Fe.m9)(e))||e instanceof el?$h(p,"updateDoc",l._key,e,r,o):pp(p,"updateDoc",l._key,e),Md(c,[m.toMutation(l._key,V.exists(!0))])}function Ru(l,...e){var r,o,c;l=(0,Fe.m9)(l);let p={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||Fh(e[m])||(p=e[m],m++);const D={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Fh(e[m])){const ze=e[m];e[m]=null===(r=ze.next)||void 0===r?void 0:r.bind(ze),e[m+1]=null===(o=ze.error)||void 0===o?void 0:o.bind(ze),e[m+2]=null===(c=ze.complete)||void 0===c?void 0:c.bind(ze)}let k,Y,me;if(l instanceof uo)Y=_i(l.firestore,oo),me=Gi(l._key.path),k={next:ze=>{e[m]&&e[m](Tp(Y,l,ze))},error:e[m+1],complete:e[m+2]};else{const ze=_i(l,Lo);Y=_i(ze.firestore,oo),me=ze._query;const _t=new tc(Y);k={next:Yt=>{e[m]&&e[m](new zc(Y,_t,ze,Yt))},error:e[m+1],complete:e[m+2]},Ly(l._query)}return function(_t,Yt,Cn,jn){const Pn=new Mh(jn),br=new Wl(Yt,Pn,Cn);return _t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return ce(yield bu(_t),br)})),()=>{Pn.$a(),_t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return Ft(yield bu(_t),br)}))}}(Ro(Y),me,D,k)}function Md(l,e){return function(o,c){const p=new Ut;return o.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function u_(l,e,r){return Zf.apply(this,arguments)}(yield xg(o),c,p)})),p.promise}(Ro(l),e)}function Tp(l,e,r){const o=r.docs.get(e._key),c=new tc(l);return new ec(l,c,e._key,o,new Po(r.hasPendingWrites,r.fromCache),e.converter)}const z0={maxAttempts:5};class rm{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,r,o){this._verifyNotCommitted();const c=rc(e,this._firestore),p=em(c.converter,r,o),m=fp(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,o);return this._mutations.push(m.toMutation(c._key,V.none())),this}update(e,r,o,...c){this._verifyNotCommitted();const p=rc(e,this._firestore);let m;return m="string"==typeof(r=(0,Fe.m9)(r))||r instanceof el?$h(this._dataReader,"WriteBatch.update",p._key,r,o,c):pp(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(m.toMutation(p._key,V.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=rc(e,this._firestore);return this._mutations=this._mutations.concat(new Yr(r._key,V.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rc(l,e){if((l=(0,Fe.m9)(l)).firestore!==e)throw new We(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class G0 extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Hc(r)}get(r){const o=rc(r,this._firestore),c=new L_(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return on();const m=p[0];if(m.isFoundDocument())return new Zl(this._firestore,c,m.key,m,o.converter);if(m.isNoDocument())return new Zl(this._firestore,c,o._key,null,o.converter);throw on()})}set(r,o,c){const p=rc(r,this._firestore),m=em(p.converter,o,c),D=fp(this._dataReader,"Transaction.set",p._key,m,null!==p.converter,c);return this._transaction.set(p._key,D),this}update(r,o,c,...p){const m=rc(r,this._firestore);let D;return D="string"==typeof(o=(0,Fe.m9)(o))||o instanceof el?$h(this._dataReader,"Transaction.update",m._key,o,c,p):pp(this._dataReader,"Transaction.update",m._key,o),this._transaction.update(m._key,D),this}delete(r){const o=rc(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=rc(e,this._firestore),o=new tc(this._firestore);return super.get(e).then(c=>new ec(this._firestore,o,r._key,c._document,new Po(!1,!1),r.converter))}}function am(l,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new We("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return e}function nv(){if(typeof Uint8Array>"u")throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function lm(){if(!function N(){return typeof atob<"u"}())throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){Tt=Te.SDK_VERSION,(0,Te._registerComponent)(new Re.wA("firestore",(o,{instanceIdentifier:c,options:p})=>{const m=o.getProvider("app").getImmediate(),D=new oo(new zn(o.getProvider("auth-internal")),new Wn(o.getProvider("app-check-internal")),function(Y,me){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new We(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rn(Y.options.projectId,me)}(m,c),m);return p=Object.assign({useFetchStreams:r},p),D._setSettings(p),D},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(ut,"4.6.3",e),(0,Te.registerVersion)(ut,"4.6.3","esm2017")}();class Xh{constructor(e){this._delegate=e}static fromBase64String(e){return lm(),new Xh(Aa.fromBase64String(e))}static fromUint8Array(e){return nv(),new Xh(Aa.fromUint8Array(e))}toBase64(){return lm(),this._delegate.toBase64()}toUint8Array(){return nv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cm(l){return function Z_(l,e){if("object"!=typeof l||null===l)return!1;const r=l;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(l,["next","error","complete"])}class Q_{enableIndexedDbPersistence(e,r){return function b_(l,e){bd(l=_i(l,oo));const r=Ro(l);if(r._uninitializedComponentsProvider)throw new We(Ke.FAILED_PRECONDITION,"SDK cache is already specified.");Yn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=l._freezeSettings(),c=new Ph;return D_(r,c,new Rh(c,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function L0(l){bd(l=_i(l,oo));const e=Ro(l);if(e._uninitializedComponentsProvider)throw new We(Ke.FAILED_PRECONDITION,"SDK cache is already specified.");Yn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),o=new Ph;return D_(e,o,new rp(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function dp(l){if(l._initialized&&!l._terminated)throw new We(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ut;return l._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(r=(0,De.Z)(function*(c){if(!dr.D())return Promise.resolve();const p=c+"main";yield dr.delete(p)}),function o(c){return r.apply(this,arguments)})(oh(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class um{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof rn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Yn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function Ja(l,e,r,o={}){var c;const p=(l=_i(l,$c))._getSettings(),m=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==m&&Yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:m,ssl:!1})),o.mockUserToken){let D,k;if("string"==typeof o.mockUserToken)D=o.mockUserToken,k=Oe.MOCK_USER;else{D=(0,Fe.Sg)(o.mockUserToken,null===(c=l._app)||void 0===c?void 0:c.options.projectId);const Y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Y)throw new We(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Oe(Y)}l._authCredentials=new Hn(new Ln(D,k))}}(this._delegate,e,r,o)}enableNetwork(){return function Bg(l){return function k0(l){return l.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Og(l),r=yield Ey(l);return e.setNetworkEnabled(!0),function(c){const p=Wt(c);return p.M_.delete(0),yl(p)}(r)}))}(Ro(l=_i(l,oo)))}(this._delegate)}disableNetwork(){return function Ug(l){return function Nh(l){return l.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Og(l),r=yield Ey(l);return e.setNetworkEnabled(!1),(o=(0,De.Z)(function*(p){const m=Wt(p);m.M_.add(0),yield Vs(m),m.N_.set("Offline")}),function c(p){return o.apply(this,arguments)})(r);var o}))}(Ro(l=_i(l,oo)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Lg("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function A_(l){return function(r){const o=new Ut;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function f_(l,e){return Lc.apply(this,arguments)}(yield xg(r),o)})),o.promise}(Ro(l=_i(l,oo)))}(this._delegate)}onSnapshotsInSync(e){return function j_(l,e){return function I_(l,e){const r=new Mh(e);return l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return c=yield bu(l),p=r,Wt(c).z_.add(p),void p.next();var c,p})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return c=yield bu(l),p=r,void Wt(c).z_.delete(p);var c,p}))}}(Ro(l=_i(l,oo)),Fh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Nd(this,Ry(this._delegate,e))}catch(r){throw na(r,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,ql(this._delegate,e))}catch(r){throw na(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bs(this,function Py(l,e){if(l=_i(l,$c),cp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(Ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lo(l,null,(o=e,new Jo(qn.emptyPath(),o)));var o}(this._delegate,e))}catch(r){throw na(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function bp(l,e,r){l=_i(l,oo);const o=Object.assign(Object.assign({},z0),r);return function(p){if(p.maxAttempts<1)throw new We(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(p,m,D){const k=new Ut;return p.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const Y=yield function Iy(l){return ip(l).then(e=>e.datastore)}(p);new __(p.asyncQueue,Y,D,m,k).Xa()})),k.promise}(Ro(l),c=>e(new G0(l,c)),o)}(this._delegate,r=>e(new rv(this,r)))}batch(){return Ro(this._delegate),new ta(new rm(this._delegate,e=>Md(this._delegate,e)))}loadBundle(e){return function $g(l,e){const r=Ro(l=_i(l,oo)),o=new Oy;return function by(l,e,r,o){const c=function(m,D){let k;return k="string"==typeof m?ms().encode(m):m,me=function(me,ze){if(me instanceof Uint8Array)return m_(me,void 0);if(me instanceof ArrayBuffer)return m_(new Uint8Array(me),void 0);if(me instanceof ReadableStream)return me.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new y_(me,D);var me}(r,ml(e));l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function x0(l,e,r){const o=Wt(l);var c;(c=(0,De.Z)(function*(m,D,k){try{const Y=yield D.getMetadata();if(yield function(Cn,jn){const Pn=Wt(Cn),br=Co(jn.createTime);return Pn.persistence.runTransaction("hasNewerBundle","readonly",Lr=>Pn.$r.getBundleMetadata(Lr,jn.id)).then(Lr=>!!Lr&&Lr.createTime.compareTo(br)>=0)}(m.localStore,Y))return yield D.close(),k._completeWith({taskState:"Success",documentsLoaded:(Cn=Y).totalDocuments,bytesLoaded:Cn.totalBytes,totalDocuments:Cn.totalDocuments,totalBytes:Cn.totalBytes}),Promise.resolve(new Set);k._updateProgress(kc(Y));const me=new _g(Y,m.localStore,D.serializer);let ze=yield D.qa();for(;ze;){const Yt=yield me._a(ze);Yt&&k._updateProgress(Yt),ze=yield D.qa()}const _t=yield me.complete();return yield Kl(m,_t.ca,void 0),yield function(Cn,jn){const Pn=Wt(Cn);return Pn.persistence.runTransaction("Save bundle","readwrite",br=>Pn.$r.saveBundleMetadata(br,jn))}(m.localStore,Y),k._completeWith(_t.progress),Promise.resolve(_t.ua)}catch(Y){return Yn("SyncEngine",`Loading bundle failed with ${Y}`),k._failWith(Y),Promise.resolve(new Set)}var Cn}),function p(m,D,k){return c.apply(this,arguments)})(o,e,r).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield xg(l),c,o)}))}(r,l._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function jg(l,e){return function Dy(l,e){return l.asyncQueue.enqueue((0,De.Z)(function*(){return function(o,c){const p=Wt(o);return p.persistence.runTransaction("Get named query","readonly",m=>p.$r.getNamedQuery(m,c))}(yield Td(l),e)}))}(Ro(l=_i(l,oo)),e).then(r=>r?new Lo(l,null,r.query):null)}(this._delegate,e).then(r=>r?new Bs(this,r):null)}}class Jh extends Jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xh(new Aa(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(r,this.firestore,null)}}class rv{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Jh(e)}get(e){const r=ic(e);return this._delegate.get(r).then(o=>new ef(this._firestore,new ec(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const c=ic(e);return o?(am("Transaction.set",o),this._delegate.set(c,r,o)):this._delegate.set(c,r),this}update(e,r,o,...c){const p=ic(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...c),this}delete(e){const r=ic(e);return this._delegate.delete(r),this}}class ta{constructor(e){this._delegate=e}set(e,r,o){const c=ic(e);return o?(am("WriteBatch.set",o),this._delegate.set(c,r,o)):this._delegate.set(c,r),this}update(e,r,o,...c){const p=ic(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...c),this}delete(e){const r=ic(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Pu{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Su(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tf(this._firestore,o),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=Pu.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let p=c.get(r);return p||(p=new Pu(e,new Jh(e),r),c.set(r,p)),p}}Pu.INSTANCES=new WeakMap;class wa{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Jh(e)}static forPath(e,r,o){if(e.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(r,new uo(r._delegate,o,new Dn(e)))}static forKey(e,r,o){return new wa(r,new uo(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Nd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Nd(this.firestore,Ry(this._delegate,e))}catch(r){throw na(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fe.m9)(e))instanceof uo&&My(this._delegate,e)}set(e,r){r=am("DocumentReference.set",r);try{return r?Wy(this._delegate,e,r):Wy(this._delegate,e)}catch(o){throw na(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?tm(this._delegate,e):tm(this._delegate,e,r,...o)}catch(c){throw na(c,"updateDoc()","DocumentReference.update()")}}delete(){return function Pd(l){return Md(_i(l.firestore,oo),[new Yr(l._key,V.none())])}(this._delegate)}onSnapshot(...e){const r=Ap(e),o=dm(e,c=>new ef(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Ru(this._delegate,r,o)}get(e){let r;return r="cache"===e?.source?function B_(l){l=_i(l,uo);const e=_i(l.firestore,oo),r=Ro(e),o=new tc(e);return function kh(l,e){const r=new Ut;return l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(o=(0,De.Z)(function*(p,m,D){try{const k=yield function(me,ze){const _t=Wt(me);return _t.persistence.runTransaction("read document","readonly",Yt=>_t.localDocuments.getDocument(Yt,ze))}(p,m);k.isFoundDocument()?D.resolve(k):k.isNoDocument()?D.resolve(null):D.reject(new We(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const Y=Nc(k,`Failed to get document '${m} from cache`);D.reject(Y)}}),function c(p,m,D){return o.apply(this,arguments)})(yield Td(l),e,r);var o})),r.promise}(r,l._key).then(c=>new ec(e,o,l._key,c,new Po(null!==c&&c.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===e?.source?function zy(l){l=_i(l,uo);const e=_i(l.firestore,oo);return Ng(Ro(e),l._key,{source:"server"}).then(r=>Tp(e,l,r))}(this._delegate):function Hy(l){l=_i(l,uo);const e=_i(l.firestore,oo);return Ng(Ro(e),l._key).then(r=>Tp(e,l,r))}(this._delegate),r.then(o=>new ef(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Pu.getInstance(this.firestore,e):null))}}function na(l,e,r){return l.message=l.message.replace(e,r),l}function Ap(l){for(const e of l)if("object"==typeof e&&!cm(e))return e;return{}}function dm(l,e){var r,o;let c;return c=cm(l[0])?l[0]:cm(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{c.next&&c.next(e(p))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class ef{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Ip(this._delegate,e._delegate)}}class tf extends ef{data(e){const r=this._delegate.data(e);return this._delegate._converter||function xr(l,e){l||on()}(void 0!==r),r}}class Bs{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Jh(e)}where(e,r,o){try{return new Bs(this.firestore,Ql(this._delegate,function Zg(l,e,r){const o=e,c=Hh("where",l);return Rd._create(c,o,r)}(e,r,o)))}catch(c){throw na(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Bs(this.firestore,Ql(this._delegate,function O_(l,e="asc"){const r=e,o=Hh("orderBy",l);return Qg._create(o,r)}(e,r)))}catch(o){throw na(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bs(this.firestore,Ql(this._delegate,function x_(l){return Sy("limit",l),Wh._create("limit",l,"F")}(e)))}catch(r){throw na(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Bs(this.firestore,Ql(this._delegate,function By(l){return Sy("limitToLast",l),Wh._create("limitToLast",l,"L")}(e)))}catch(r){throw na(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bs(this.firestore,Ql(this._delegate,function N_(...l){return vp._create("startAt",l,!0)}(...e)))}catch(r){throw na(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bs(this.firestore,Ql(this._delegate,function k_(...l){return vp._create("startAfter",l,!1)}(...e)))}catch(r){throw na(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bs(this.firestore,Ql(this._delegate,function Uy(...l){return Yh._create("endBefore",l,!1)}(...e)))}catch(r){throw na(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bs(this.firestore,Ql(this._delegate,function tl(...l){return Yh._create("endAt",l,!0)}(...e)))}catch(r){throw na(r,"endAt()","Query.endAt()")}}isEqual(e){return Vg(this._delegate,e._delegate)}get(e){let r;return r="cache"===e?.source?function U_(l){l=_i(l,Lo);const e=_i(l.firestore,oo),r=Ro(e),o=new tc(e);return function Cy(l,e){const r=new Ut;return l.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(o=(0,De.Z)(function*(p,m,D){try{const k=yield Ya(p,m,!0),Y=new gd(m,k.hs),me=Y.da(k.documents),ze=Y.applyChanges(me,!1);D.resolve(ze.snapshot)}catch(k){const Y=Nc(k,`Failed to execute query '${m} against cache`);D.reject(Y)}}),function c(p,m,D){return o.apply(this,arguments)})(yield Td(l),e,r);var o})),r.promise}(r,l._query).then(c=>new zc(e,o,l,c))}(this._delegate):"server"===e?.source?function $_(l){l=_i(l,Lo);const e=_i(l.firestore,oo),r=Ro(e),o=new tc(e);return sp(r,l._query,{source:"server"}).then(c=>new zc(e,o,l,c))}(this._delegate):function Gy(l){l=_i(l,Lo);const e=_i(l.firestore,oo),r=Ro(e),o=new tc(e);return Ly(l._query),sp(r,l._query).then(c=>new zc(e,o,l,c))}(this._delegate),r.then(o=>new hm(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=Ap(e),o=dm(e,c=>new hm(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Ru(this._delegate,r,o)}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?Pu.getInstance(this.firestore,e):null))}}class iv{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new tf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hm{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new iv(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new tf(this._firestore,o))})}isEqual(e){return Ip(this._delegate,e._delegate)}}class Nd extends Bs{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?ql(this._delegate):ql(this._delegate,e))}catch(r){throw na(r,"doc()","CollectionReference.doc()")}}add(e){return function nc(l,e){const r=_i(l.firestore,oo),o=ql(l),c=em(l.converter,e);return Md(r,[fp(Hc(l.firestore),"addDoc",o._key,c,null!==l.converter,{}).toMutation(o._key,V.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new wa(this.firestore,r))}isEqual(e){return My(this._delegate,e._delegate)}withConverter(e){return new Nd(this.firestore,this._delegate.withConverter(e?Pu.getInstance(this.firestore,e):null))}}function ic(l){return _i(l,uo)}class fm{constructor(...e){this._delegate=new el(...e)}static documentId(){return new fm(ur.keyField().canonicalString())}isEqual(e){return(e=(0,Fe.m9)(e))instanceof el&&this._delegate._internalPath.isEqual(e._internalPath)}}class Mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Qy(){return new Wg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Mu(e)}static delete(){const e=function Zy(){return new Bh("deleteField")}();return e._methodName="FieldValue.delete",new Mu(e)}static arrayUnion(...e){const r=function G_(...l){return new Sd("arrayUnion",l)}(...e);return r._methodName="FieldValue.arrayUnion",new Mu(r)}static arrayRemove(...e){const r=function Xy(...l){return new Uh("arrayRemove",l)}(...e);return r._methodName="FieldValue.arrayRemove",new Mu(r)}static increment(e){const r=function Jy(l){return new Yg("increment",l)}(e);return r._methodName="FieldValue.increment",new Mu(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const J_={Firestore:um,GeoPoint:wd,Timestamp:Nr,Blob:Xh,Transaction:rv,WriteBatch:ta,DocumentReference:wa,DocumentSnapshot:ef,Query:Bs,QueryDocumentSnapshot:tf,QuerySnapshot:hm,CollectionReference:Nd,FieldPath:fm,FieldValue:Mu,setLogLevel:function X_(l){!function Rn(l){xt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function tE(l){(function eE(l,e){l.INTERNAL.registerComponent(new Re.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),c=r.getProvider("firestore").getImmediate();return e(o,c)},"PUBLIC").setServiceProps(Object.assign({},J_)))})(l,(e,r)=>new um(e,r,new Q_)),l.registerVersion("@firebase/firestore-compat","0.3.32")}(Et.Z);var Cl=A(7142);function ov(l,e){return function pm(l,e=Ee.z){return new pe.y(r=>{let o;return null!=e?e.schedule(()=>{o=l.onSnapshot({includeMetadataChanges:!0},r)}):o=l.onSnapshot({includeMetadataChanges:!0},r),()=>{o?.()}})}(l,e)}function gm(l,e){return ov(l,e).pipe((0,Be.U)(r=>({payload:r,type:"query"})))}class mm{ref;afs;constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:c,query:p}=Sp(o,r);return new _m(c,p,this.afs)}snapshotChanges(){return function sv(l,e){return ov(l,e).pipe((0,ye.O)(void 0),Ve(),(0,Be.U)(r=>{const[o,c]=r;return c.exists?o?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Be.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,Le.D)(this.ref.get(e)).pipe(se.iC)}}function nf(l,e){return gm(l,e).pipe((0,ye.O)(void 0),Ve(),(0,Be.U)(r=>{const[o,c]=r,p=c.payload.docChanges(),m=p.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((D,k)=>{const Y=p.find(ze=>ze.doc.ref.isEqual(D.ref)),me=o?.payload.docs.find(ze=>ze.ref.isEqual(D.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(D.metadata)||!Y&&me&&JSON.stringify(me.metadata)===JSON.stringify(D.metadata)||m.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:D}})}),m}))}function rf(l,e,r){return nf(l,r).pipe((0,Je.R)((o,c)=>function ym(l,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(l=function lv(l,e){switch(e.type){case"added":if(!l[e.newIndex]||!l[e.newIndex].doc.ref.isEqual(e.doc.ref))return av(l,e.newIndex,0,e);break;case"modified":if(null==l[e.oldIndex]||l[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=l.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return av(l,e.newIndex,1,e)}break;case"removed":if(l[e.oldIndex]&&l[e.oldIndex].doc.ref.isEqual(e.doc.ref))return av(l,e.oldIndex,1)}return l}(l,o))}),l}(o,c.map(p=>p.payload),e),[]),(0,He.x)(),(0,Be.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function av(l,e,r,...o){const c=l.slice();return c.splice(e,r,...o),c}function vm(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class _m{ref;query;afs;constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=nf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Be.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),r.pipe((0,ye.O)(void 0),Ve(),(0,lt.h)(([o,c])=>c.length>0||!o),(0,Be.U)(([,o])=>o),se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Je.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=vm(e);return rf(this.query,r,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(r=>r.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),se.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(se.iC)}add(e){return this.ref.add(e)}doc(e){return new mm(this.ref.doc(e),this.afs)}}class cv{query;afs;constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?nf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,lt.h)(r=>r.length>0),se.iC):nf(this.query,this.afs.schedulers.outsideAngular).pipe(se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Je.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=vm(e);return rf(this.query,r,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(o=>o.payload.docs.map(c=>e.idField?{[e.idField]:c.id,...c.data()}:c.data())),se.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(se.iC)}}const wp=new $.OlP("angularfire2.enableFirestorePersistence"),bl=new $.OlP("angularfire2.firestore.persistenceSettings"),nE=new $.OlP("angularfire2.firestore.settings"),rE=new $.OlP("angularfire2.firestore.use-emulator");function Sp(l,e=(r=>r)){return{query:e(l),ref:l}}let uv=(()=>{class l{schedulers;firestore;persistenceEnabled$;constructor(r,o,c,p,m,D,k,Y,me,ze,_t,Yt,Cn,jn,Pn,br,Lr){this.schedulers=k;const _r=(0,M.on)(r,D,o),Jr=me;ze&&(0,Ne.nw)(_r,D,_t,Cn,jn,Pn,Yt,br),[this.firestore,this.persistenceEnabled$]=(0,M.cc)(`${_r.name}.firestore`,"AngularFirestore",_r.name,()=>{const Mi=D.runOutsideAngular(()=>_r.firestore());if(p&&Mi.settings(p),Jr&&Mi.useEmulator(...Jr),c&&!(0,a.PM)(m)){const Ei=()=>{try{return(0,Le.D)(Mi.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(kt){return typeof console<"u"&&console.warn(kt),(0,je.of)(!1)}};return[Mi,D.runOutsideAngular(Ei)]}return[Mi,(0,je.of)(!1)]},[p,Jr,c])}collection(r,o){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:p,query:m}=Sp(c,o),D=this.schedulers.ngZone.run(()=>p);return new _m(D,m,this)}collectionGroup(r,o){const c=o||(m=>m),p=this.firestore.collectionGroup(r);return new cv(c(p),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>o);return new mm(c,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||l)($.LFG(M.Dh),$.LFG(M.xv,8),$.LFG(wp,8),$.LFG(nE,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(se.HU),$.LFG(bl,8),$.LFG(rE,8),$.LFG(Ne.zQ,8),$.LFG(Ne.Qv,8),$.LFG(Ne.L6,8),$.LFG(Ne._Q,8),$.LFG(Ne.rT,8),$.LFG(Ne.lh,8),$.LFG(Ne.f7,8),$.LFG(se.Rf,8))};static \u0275prov=$.Yz7({token:l,factory:l.\u0275fac,providedIn:"any"})}return l})(),dv=(()=>{class l{constructor(){Cl.Z.registerVersion("angularfire",se.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:l,providers:[{provide:wp,useValue:!0},{provide:bl,useValue:r}]}}static \u0275fac=function(o){return new(o||l)};static \u0275mod=$.oAB({type:l});static \u0275inj=$.cJS({providers:[uv]})}return l})()},7217:(bn,gt,A)=>{"use strict";A.d(gt,{Dh:()=>Le,GT:()=>Ee,cc:()=>Be,hO:()=>Ve,on:()=>ye,pX:()=>Ne,xv:()=>je});var a=A(5879),$=A(8326),se=A(7142);const M=["ngOnDestroy"],Ne=(xe,Et,De,Te={})=>new Proxy(xe,{get:(Re,he)=>De.runOutsideAngular(()=>{if(xe[he])return Te?.spy?.get&&Te.spy.get(he,xe[he]),xe[he];if(M.indexOf(he)>-1)return()=>{};const Fe=Et.toPromise().then(st=>{const Ze=st?.[he];return"function"==typeof Ze?Ze.bind(st):Ze?.then?Ze.then(Lt=>De.run(()=>Lt)):De.run(()=>Ze)});return new Proxy(()=>{},{get:(st,Ze)=>Fe[Ze],apply:(st,Ze,Lt)=>Fe.then(Ge=>{const qt=Ge?.(...Lt);return Te?.spy?.apply&&Te.spy.apply(he,Lt,qt),qt})})})}),Ee=(xe,Et)=>{Et.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(Te=>{Object.defineProperty(xe.prototype,Te,Object.getOwnPropertyDescriptor(De.prototype||De,Te))})})};class pe{constructor(Et){return Et}}const Le=new a.OlP("angularfire2.app.options"),je=new a.OlP("angularfire2.app.name");function ye(xe,Et,De){const Re="object"==typeof De&&De||{};Re.name=Re.name||"string"==typeof De&&De||"[DEFAULT]";const Fe=se.Z.apps.filter(st=>st&&st.name===Re.name)[0]||Et.runOutsideAngular(()=>se.Z.initializeApp(xe,Re));try{if(JSON.stringify(xe)!==JSON.stringify(Fe.options)){const st=!!module.hot;ne("error",`${Fe.name} Firebase App already initialized with different options${st?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new pe(Fe)}const ne=(xe,...Et)=>{(0,a.X6Q)()&&typeof console<"u"&&console[xe](...Et)},Me={provide:pe,useFactory:ye,deps:[Le,a.R0b,[new a.FiY,je]]};let Ve=(()=>{class xe{static initializeApp(De,Te){return{ngModule:xe,providers:[{provide:Le,useValue:De},{provide:je,useValue:Te}]}}constructor(De){se.Z.registerVersion("angularfire",$.q4.full,"core"),se.Z.registerVersion("angularfire",$.q4.full,"app-compat"),se.Z.registerVersion("angular",a.q4F.full,De.toString())}static \u0275fac=function(Te){return new(Te||xe)(a.LFG(a.Lbi))};static \u0275mod=a.oAB({type:xe});static \u0275inj=a.cJS({providers:[Me]})}return xe})();function Be(xe,Et,De,Te,Re){const[,he,Fe]=globalThis.\u0275AngularfireInstanceCache.find(st=>st[0]===xe)||[];if(he)return function Je(xe,Et){try{return xe.toString()===Et.toString()}catch{return xe===Et}}(Re,Fe)||(lt("error",`${Et} was already initialized on the ${De} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),lt("warn",{is:Re,was:Fe})),he;{const st=Te();return globalThis.\u0275AngularfireInstanceCache.push([xe,st,Re]),st}}const He=typeof module<"u"&&!!module.hot,lt=(xe,...Et)=>{(0,a.X6Q)()&&typeof console<"u"&&console[xe](...Et)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(bn,gt,A)=>{"use strict";A.d(gt,{q4:()=>Je,iC:()=>gn,HU:()=>Fe,Rf:()=>Et});var a=A(5879),$=A(534);(0,$.registerVersion)("firebase","10.12.2","app");var Ne=A(1954),pe=A(2631);const je=new class Le extends pe.v{}(class Ee extends Ne.o{constructor(ue,G){super(ue,G),this.scheduler=ue,this.work=G}schedule(ue,G=0){return G>0?super.schedule(ue,G):(this.delay=G,this.state=ue,this.scheduler.flush(this),this)}execute(ue,G){return G>0||this.closed?super.execute(ue,G):this._execute(ue,G)}requestAsyncId(ue,G,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(ue,G,W):(ue.flush(this),0)}});var ne=A(6321),Me=A(9397),Ve=A(5137),Be=A(3093);const Je=new a.GfV("ANGULARFIRE2_VERSION");class Et{constructor(){return((Ue,ue)=>{const G=(0,$.getApps)(),W=[];return G.forEach(ie=>{ie.container.getProvider(Ue).instances.forEach(ut=>{W.includes(ut)||W.push(ut)})}),W})(De)}}const De="app-check";function Te(){}class Re{zone;delegate;constructor(ue,G=je){this.zone=ue,this.delegate=G}now(){return this.delegate.now()}schedule(ue,G,W){const ie=this.zone;return this.delegate.schedule(function(ut){ie.runGuarded(()=>{ue.apply(this,[ut])})},G,W)}}class he{zone;task=null;constructor(ue){this.zone=ue}call(ue,G){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Te,{},Te,Te)),G.pipe((0,Me.b)({next:W,complete:W,error:W})).subscribe(ue).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fe=(()=>{class Ue{ngZone;outsideAngular;insideAngular;constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new Re(Zone.current)),this.insideAngular=G.run(()=>new Re(Zone.current,ne.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(W){return new(W||Ue)(a.LFG(a.R0b))};static \u0275prov=a.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function gn(Ue){return function It(Ue){return function(G){return(G=G.lift(new he(Ue.ngZone))).pipe((0,Ve.R)(Ue.outsideAngular),(0,Be.Q)(Ue.insideAngular))}}(function st(){const Ue=globalThis.\u0275AngularFireScheduler;if(!Ue)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ue}())(Ue)}},95:(bn,gt,A)=>{"use strict";A.d(gt,{qu:()=>Oo,u:()=>Kt,sg:()=>mn,u5:()=>ga,Fd:()=>yo,qQ:()=>fs,Cf:()=>Fe,JU:()=>Je,a5:()=>Ut,JJ:()=>zn,JL:()=>Gn,On:()=>$r,UX:()=>Na,kI:()=>Lt,_Y:()=>Hr});var a=A(5879),$=A(6814),se=A(2459),M=A(5592),Ne=A(7453),Ee=A(4829),pe=A(4564),Le=A(8251),je=A(7400),ye=A(2714),Me=A(7398);let Ve=(()=>{class K{constructor(O,Ie){this._renderer=O,this._elementRef=Ie,this.onChange=pt=>{},this.onTouched=()=>{}}setProperty(O,Ie){this._renderer.setProperty(this._elementRef.nativeElement,O,Ie)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:K})}return K})(),Be=(()=>{class K extends Ve{static#e=this.\u0275fac=function(){let O;return function(pt){return(O||(O=a.n5z(K)))(pt||K)}}();static#t=this.\u0275dir=a.lG2({type:K,features:[a.qOj]})}return K})();const Je=new a.OlP("NgValueAccessor"),xe={provide:Je,useExisting:(0,a.Gpc)(()=>Te),multi:!0},De=new a.OlP("CompositionEventMode");let Te=(()=>{class K extends Ve{constructor(O,Ie,pt){super(O,Ie),this._compositionMode=pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Et(){const K=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(De,8))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ie,pt){1&Ie&&a.NdJ("input",function(Fr){return pt._handleInput(Fr.target.value)})("blur",function(){return pt.onTouched()})("compositionstart",function(){return pt._compositionStart()})("compositionend",function(Fr){return pt._compositionEnd(Fr.target.value)})},features:[a._Bn([xe]),a.qOj]})}return K})();function Re(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function he(K){return null!=K&&"number"==typeof K.length}const Fe=new a.OlP("NgValidators"),st=new a.OlP("NgAsyncValidators"),Ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lt{static min(X){return Ge(X)}static max(X){return qt(X)}static required(X){return function gn(K){return Re(K.value)?{required:!0}:null}(X)}static requiredTrue(X){return function It(K){return!0===K.value?null:{required:!0}}(X)}static email(X){return function it(K){return Re(K.value)||Ze.test(K.value)?null:{email:!0}}(X)}static minLength(X){return function Pt(K){return X=>Re(X.value)||!he(X.value)?null:X.value.length<K?{minlength:{requiredLength:K,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function Ue(K){return X=>he(X.value)&&X.value.length>K?{maxlength:{requiredLength:K,actualLength:X.value.length}}:null}(X)}static pattern(X){return function ue(K){if(!K)return G;let X,O;return"string"==typeof K?(O="","^"!==K.charAt(0)&&(O+="^"),O+=K,"$"!==K.charAt(K.length-1)&&(O+="$"),X=new RegExp(O)):(O=K.toString(),X=K),Ie=>{if(Re(Ie.value))return null;const pt=Ie.value;return X.test(pt)?null:{pattern:{requiredPattern:O,actualValue:pt}}}}(X)}static nullValidator(X){return null}static compose(X){return xt(X)}static composeAsync(X){return Rn(X)}}function Ge(K){return X=>{if(Re(X.value)||Re(K))return null;const O=parseFloat(X.value);return!isNaN(O)&&O<K?{min:{min:K,actual:X.value}}:null}}function qt(K){return X=>{if(Re(X.value)||Re(K))return null;const O=parseFloat(X.value);return!isNaN(O)&&O>K?{max:{max:K,actual:X.value}}:null}}function G(K){return null}function W(K){return null!=K}function ie(K){return(0,a.QGY)(K)?(0,se.D)(K):K}function Ae(K){let X={};return K.forEach(O=>{X=null!=O?{...X,...O}:X}),0===Object.keys(X).length?null:X}function ut(K,X){return X.map(O=>O(K))}function Tt(K){return K.map(X=>function Oe(K){return!K.validate}(X)?X:O=>X.validate(O))}function xt(K){if(!K)return null;const X=K.filter(W);return 0==X.length?null:function(O){return Ae(ut(O,X))}}function fn(K){return null!=K?xt(Tt(K)):null}function Rn(K){if(!K)return null;const X=K.filter(W);return 0==X.length?null:function(O){return function ne(...K){const X=(0,pe.jO)(K),{args:O,keys:Ie}=(0,Ne.D)(K),pt=new M.y(Xn=>{const{length:Fr}=O;if(!Fr)return void Xn.complete();const vo=new Array(Fr);let Io=Fr,Uo=Fr;for(let ls=0;ls<Fr;ls++){let no=!1;(0,Ee.Xf)(O[ls]).subscribe((0,Le.x)(Xn,xo=>{no||(no=!0,Uo--),vo[ls]=xo},()=>Io--,void 0,()=>{(!Io||!no)&&(Uo||Xn.next(Ie?(0,ye.n)(Ie,vo):vo),Xn.complete())}))}});return X?pt.pipe((0,je.Z)(X)):pt}(ut(O,X).map(ie)).pipe((0,Me.U)(Ae))}}function Nt(K){return null!=K?Rn(Tt(K)):null}function vn(K,X){return null===K?[X]:Array.isArray(K)?[...K,X]:[K,X]}function Yn(K){return K._rawValidators}function Ir(K){return K._rawAsyncValidators}function on(K){return K?Array.isArray(K)?K:[K]:[]}function nn(K,X){return Array.isArray(K)?K.includes(X):K===X}function xr(K,X){const O=on(X);return on(K).forEach(pt=>{nn(O,pt)||O.push(pt)}),O}function Wt(K,X){return on(X).filter(O=>!nn(K,O))}class Ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,O){return!!this.control&&this.control.hasError(X,O)}getError(X,O){return this.control?this.control.getError(X,O):null}}class We extends Ke{get formDirective(){return null}get path(){return null}}class Ut extends Ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ln{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zn=(()=>{class K extends Ln{constructor(O){super(O)}static#e=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(Ut,2))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ie,pt){2&Ie&&a.ekj("ng-untouched",pt.isUntouched)("ng-touched",pt.isTouched)("ng-pristine",pt.isPristine)("ng-dirty",pt.isDirty)("ng-valid",pt.isValid)("ng-invalid",pt.isInvalid)("ng-pending",pt.isPending)},features:[a.qOj]})}return K})(),Gn=(()=>{class K extends Ln{constructor(O){super(O)}static#e=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(We,10))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ie,pt){2&Ie&&a.ekj("ng-untouched",pt.isUntouched)("ng-touched",pt.isTouched)("ng-pristine",pt.isPristine)("ng-dirty",pt.isDirty)("ng-valid",pt.isValid)("ng-invalid",pt.isInvalid)("ng-pending",pt.isPending)("ng-submitted",pt.isSubmitted)},features:[a.qOj]})}return K})();const Ti="VALID",Kr="INVALID",Fi="PENDING",hi="DISABLED";function ct(K){return(ve(K)?K.validators:K)||null}function Ce(K,X){return(ve(X)?X.asyncValidators:K)||null}function ve(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function wt(K,X,O){const Ie=K.controls;if(!(X?Object.keys(Ie):Ie).length)throw new a.vHH(1e3,"");if(!Ie[O])throw new a.vHH(1001,"")}function tn(K,X,O){K._forEachChild((Ie,pt)=>{if(void 0===O[pt])throw new a.vHH(1002,"")})}class kn{constructor(X,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===Ti}get invalid(){return this.status===Kr}get pending(){return this.status==Fi}get disabled(){return this.status===hi}get enabled(){return this.status!==hi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(xr(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(xr(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Wt(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Wt(X,this._rawAsyncValidators))}hasValidator(X){return nn(this._rawValidators,X)}hasAsyncValidator(X){return nn(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Fi,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const O=this._parentMarkedDirty(X.onlySelf);this.status=hi,this.errors=null,this._forEachChild(Ie=>{Ie.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:O}),this._onDisabledChange.forEach(Ie=>Ie(!0))}enable(X={}){const O=this._parentMarkedDirty(X.onlySelf);this.status=Ti,this._forEachChild(Ie=>{Ie.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:O}),this._onDisabledChange.forEach(Ie=>Ie(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ti||this.status===Fi)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hi:Ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Fi,this._hasOwnPendingAsyncValidator=!0;const O=ie(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(Ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ie,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,O={}){this.errors=X,this._updateControlsErrors(!1!==O.emitEvent)}get(X){let O=X;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((Ie,pt)=>Ie&&Ie._find(pt),this)}getError(X,O){const Ie=O?this.get(O):this;return Ie&&Ie.errors?Ie.errors[X]:null}hasError(X,O){return!!this.getError(X,O)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?hi:this.errors?Kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fi)?Fi:this._anyControlsHaveStatus(Kr)?Kr:Ti}_anyControlsHaveStatus(X){return this._anyControls(O=>O.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){ve(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function fe(K){return Array.isArray(K)?fn(K):K||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function ge(K){return Array.isArray(K)?Nt(K):K||null}(this._rawAsyncValidators)}}class xn extends kn{constructor(X,O,Ie){super(ct(O),Ce(Ie,O)),this.controls=X,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,O){return this.controls[X]?this.controls[X]:(this.controls[X]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(X,O,Ie={}){this.registerControl(X,O),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}removeControl(X,O={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(X,O,Ie={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],O&&this.registerControl(X,O),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,O={}){tn(this,0,X),Object.keys(X).forEach(Ie=>{wt(this,!0,Ie),this.controls[Ie].setValue(X[Ie],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(X,O={}){null!=X&&(Object.keys(X).forEach(Ie=>{const pt=this.controls[Ie];pt&&pt.patchValue(X[Ie],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(X={},O={}){this._forEachChild((Ie,pt)=>{Ie.reset(X?X[pt]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(X,O,Ie)=>(X[Ie]=O.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(O,Ie)=>!!Ie._syncPendingControls()||O);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(O=>{const Ie=this.controls[O];Ie&&X(Ie,O)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[O,Ie]of Object.entries(this.controls))if(this.contains(O)&&X(Ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,Ie,pt)=>((Ie.enabled||this.disabled)&&(O[pt]=Ie.value),O))}_reduceChildren(X,O){let Ie=X;return this._forEachChild((pt,Xn)=>{Ie=O(Ie,pt,Xn)}),Ie}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class Qn extends xn{}const Ct=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ot}),ot="always";function ht(K,X){return[...X.path,K]}function Qt(K,X,O=ot){Ar(K,X),X.valueAccessor.writeValue(K.value),(K.disabled||"always"===O)&&X.valueAccessor.setDisabledState?.(K.disabled),function oe(K,X){X.valueAccessor.registerOnChange(O=>{K._pendingValue=O,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&j(K,X)})}(K,X),function le(K,X){const O=(Ie,pt)=>{X.valueAccessor.writeValue(Ie),pt&&X.viewToModelUpdate(Ie)};K.registerOnChange(O),X._registerOnDestroy(()=>{K._unregisterOnChange(O)})}(K,X),function ee(K,X){X.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&j(K,X),"submit"!==K.updateOn&&K.markAsTouched()})}(K,X),function On(K,X){if(X.valueAccessor.setDisabledState){const O=Ie=>{X.valueAccessor.setDisabledState(Ie)};K.registerOnDisabledChange(O),X._registerOnDestroy(()=>{K._unregisterOnDisabledChange(O)})}}(K,X)}function En(K,X,O=!0){const Ie=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(Ie),X.valueAccessor.registerOnTouched(Ie)),Nn(K,X),K&&(X._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function wn(K,X){K.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(X)})}function Ar(K,X){const O=Yn(K);null!==X.validator?K.setValidators(vn(O,X.validator)):"function"==typeof O&&K.setValidators([O]);const Ie=Ir(K);null!==X.asyncValidator?K.setAsyncValidators(vn(Ie,X.asyncValidator)):"function"==typeof Ie&&K.setAsyncValidators([Ie]);const pt=()=>K.updateValueAndValidity();wn(X._rawValidators,pt),wn(X._rawAsyncValidators,pt)}function Nn(K,X){let O=!1;if(null!==K){if(null!==X.validator){const pt=Yn(K);if(Array.isArray(pt)&&pt.length>0){const Xn=pt.filter(Fr=>Fr!==X.validator);Xn.length!==pt.length&&(O=!0,K.setValidators(Xn))}}if(null!==X.asyncValidator){const pt=Ir(K);if(Array.isArray(pt)&&pt.length>0){const Xn=pt.filter(Fr=>Fr!==X.asyncValidator);Xn.length!==pt.length&&(O=!0,K.setAsyncValidators(Xn))}}}const Ie=()=>{};return wn(X._rawValidators,Ie),wn(X._rawAsyncValidators,Ie),O}function j(K,X){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function jr(K,X){if(!K.hasOwnProperty("model"))return!1;const O=K.model;return!!O.isFirstChange()||!Object.is(X,O.currentValue)}function nt(K,X){if(!X)return null;let O,Ie,pt;return Array.isArray(X),X.forEach(Xn=>{Xn.constructor===Te?O=Xn:function ar(K){return Object.getPrototypeOf(K.constructor)===Be}(Xn)?Ie=Xn:pt=Xn}),pt||Ie||O||null}function _n(K,X){const O=K.indexOf(X);O>-1&&K.splice(O,1)}function An(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Tn=class extends kn{constructor(X=null,O,Ie){super(ct(O),Ce(Ie,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ve(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=An(X)?X.value:X)}setValue(X,O={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(Ie=>Ie(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(X,O={}){this.setValue(X,O)}reset(X=this.defaultValue,O={}){this._applyFormState(X),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){_n(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){_n(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){An(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}},Do={provide:Ut,useExisting:(0,a.Gpc)(()=>$r)},bi=(()=>Promise.resolve())();let $r=(()=>{class K extends Ut{constructor(O,Ie,pt,Xn,Fr,vo){super(),this._changeDetectorRef=Fr,this.callSetDisabledState=vo,this.control=new Tn,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=O,this._setValidators(Ie),this._setAsyncValidators(pt),this.valueAccessor=nt(0,Xn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const Ie=O.name.previousValue;this.formDirective.removeControl({name:Ie,path:this._getPath(Ie)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),jr(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){bi.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const Ie=O.isDisabled.currentValue,pt=0!==Ie&&(0,a.VuI)(Ie);bi.then(()=>{pt&&!this.control.disabled?this.control.disable():!pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?ht(O,this._parent):[O]}static#e=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(We,9),a.Y36(Fe,10),a.Y36(st,10),a.Y36(Je,10),a.Y36(a.sBO,8),a.Y36(Ct,8))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Do]),a.qOj,a.TTD]})}return K})(),Hr=(()=>{class K{static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return K})(),$i=(()=>{class K{static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275mod=a.oAB({type:K});static#n=this.\u0275inj=a.cJS({})}return K})();const fr=new a.OlP("NgModelWithFormControlWarning"),be={provide:We,useExisting:(0,a.Gpc)(()=>mn)};let mn=(()=>{class K extends We{constructor(O,Ie,pt){super(),this.callSetDisabledState=pt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(O),this._setAsyncValidators(Ie)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const Ie=this.form.get(O.path);return Qt(Ie,O,this.callSetDisabledState),Ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),Ie}getControl(O){return this.form.get(O.path)}removeControl(O){En(O.control||null,O,!1),function $e(K,X){const O=K.indexOf(X);O>-1&&K.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,Ie){this.form.get(O.path).setValue(Ie)}onSubmit(O){return this.submitted=!0,function we(K,X){K._syncPendingControls(),X.forEach(O=>{const Ie=O.control;"submit"===Ie.updateOn&&Ie._pendingChange&&(O.viewToModelUpdate(Ie._pendingValue),Ie._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const Ie=O.control,pt=this.form.get(O.path);Ie!==pt&&(En(Ie||null,O),(K=>K instanceof Tn)(pt)&&(Qt(pt,O,this.callSetDisabledState),O.control=pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const Ie=this.form.get(O.path);(function Qe(K,X){Ar(K,X)})(Ie,O),Ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const Ie=this.form.get(O.path);Ie&&function Pe(K,X){return Nn(K,X)}(Ie,O)&&Ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ar(this.form,this),this._oldForm&&Nn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(Fe,10),a.Y36(st,10),a.Y36(Ct,8))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(Ie,pt){1&Ie&&a.NdJ("submit",function(Fr){return pt.onSubmit(Fr)})("reset",function(){return pt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([be]),a.qOj,a.TTD]})}return K})();const St={provide:Ut,useExisting:(0,a.Gpc)(()=>Kt)};let Kt=(()=>{class K extends Ut{set isDisabled(O){}static#e=this._ngModelWarningSentOnce=!1;constructor(O,Ie,pt,Xn,Fr){super(),this._ngModelWarningConfig=Fr,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(Ie),this._setAsyncValidators(pt),this.valueAccessor=nt(0,Xn)}ngOnChanges(O){this._added||this._setUpControl(),jr(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return ht(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Ie){return new(Ie||K)(a.Y36(We,13),a.Y36(Fe,10),a.Y36(st,10),a.Y36(Je,10),a.Y36(fr,8))};static#n=this.\u0275dir=a.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([St]),a.qOj,a.TTD]})}return K})();function Ui(K){return"number"==typeof K?K:parseFloat(K)}let Ni=(()=>{class K{constructor(){this._validator=G}ngOnChanges(O){if(this.inputName in O){const Ie=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(Ie),this._validator=this._enabled?this.createValidator(Ie):G,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275dir=a.lG2({type:K,features:[a.TTD]})}return K})();const Mo={provide:Fe,useExisting:(0,a.Gpc)(()=>yo),multi:!0};let yo=(()=>{class K extends Ni{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=O=>Ui(O),this.createValidator=O=>qt(O)}static#e=this.\u0275fac=function(){let O;return function(pt){return(O||(O=a.n5z(K)))(pt||K)}}();static#t=this.\u0275dir=a.lG2({type:K,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ie,pt){2&Ie&&a.uIk("max",pt._enabled?pt.max:null)},inputs:{max:"max"},features:[a._Bn([Mo]),a.qOj]})}return K})();const Zr={provide:Fe,useExisting:(0,a.Gpc)(()=>fs),multi:!0};let fs=(()=>{class K extends Ni{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=O=>Ui(O),this.createValidator=O=>Ge(O)}static#e=this.\u0275fac=function(){let O;return function(pt){return(O||(O=a.n5z(K)))(pt||K)}}();static#t=this.\u0275dir=a.lG2({type:K,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ie,pt){2&Ie&&a.uIk("min",pt._enabled?pt.min:null)},inputs:{min:"min"},features:[a._Bn([Zr]),a.qOj]})}return K})(),fi=(()=>{class K{static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275mod=a.oAB({type:K});static#n=this.\u0275inj=a.cJS({imports:[$i]})}return K})();class wo extends kn{constructor(X,O,Ie){super(ct(O),Ce(Ie,O)),this.controls=X,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,O={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(X,O,Ie={}){this.controls.splice(X,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:Ie.emitEvent})}removeAt(X,O={}){let Ie=this._adjustIndex(X);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(X,O,Ie={}){let pt=this._adjustIndex(X);pt<0&&(pt=0),this.controls[pt]&&this.controls[pt]._registerOnCollectionChange(()=>{}),this.controls.splice(pt,1),O&&(this.controls.splice(pt,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,O={}){tn(this,0,X),X.forEach((Ie,pt)=>{wt(this,!1,pt),this.at(pt).setValue(Ie,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(X,O={}){null!=X&&(X.forEach((Ie,pt)=>{this.at(pt)&&this.at(pt).patchValue(Ie,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(X=[],O={}){this._forEachChild((Ie,pt)=>{Ie.reset(X[pt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((O,Ie)=>!!Ie._syncPendingControls()||O,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((O,Ie)=>{X(O,Ie)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(O=>O.enabled&&X(O))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Ds(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Oo=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new K;return O.useNonNullable=!0,O}group(O,Ie=null){const pt=this._reduceControls(O);let Xn={};return Ds(Ie)?Xn=Ie:null!==Ie&&(Xn.validators=Ie.validator,Xn.asyncValidators=Ie.asyncValidator),new xn(pt,Xn)}record(O,Ie=null){const pt=this._reduceControls(O);return new Qn(pt,Ie)}control(O,Ie,pt){let Xn={};return this.useNonNullable?(Ds(Ie)?Xn=Ie:(Xn.validators=Ie,Xn.asyncValidators=pt),new Tn(O,{...Xn,nonNullable:!0})):new Tn(O,Ie,pt)}array(O,Ie,pt){const Xn=O.map(Fr=>this._createControl(Fr));return new wo(Xn,Ie,pt)}_reduceControls(O){const Ie={};return Object.keys(O).forEach(pt=>{Ie[pt]=this._createControl(O[pt])}),Ie}_createControl(O){return O instanceof Tn||O instanceof kn?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),ga=(()=>{class K{static withConfig(O){return{ngModule:K,providers:[{provide:Ct,useValue:O.callSetDisabledState??ot}]}}static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275mod=a.oAB({type:K});static#n=this.\u0275inj=a.cJS({imports:[fi]})}return K})(),Na=(()=>{class K{static withConfig(O){return{ngModule:K,providers:[{provide:fr,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:Ct,useValue:O.callSetDisabledState??ot}]}}static#e=this.\u0275fac=function(Ie){return new(Ie||K)};static#t=this.\u0275mod=a.oAB({type:K});static#n=this.\u0275inj=a.cJS({imports:[fi]})}return K})()},6593:(bn,gt,A)=>{"use strict";A.d(gt,{Dx:()=>Ut,b2:()=>nn,q6:()=>vn,se:()=>Ze});var a=A(5879),$=A(6814);class se extends $.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M extends se{static makeCurrent(){(0,$.HT)(new M)}onAndCancel(Ce,ge,ve){return Ce.addEventListener(ge,ve),()=>{Ce.removeEventListener(ge,ve)}}dispatchEvent(Ce,ge){Ce.dispatchEvent(ge)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,ge){return(ge=ge||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,ge){return"window"===ge?window:"document"===ge?Ce:"body"===ge?Ce.body:null}getBaseHref(Ce){const ge=function Ee(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==ge?null:function Le(fe){pe=pe||document.createElement("a"),pe.setAttribute("href",fe);const Ce=pe.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(ge)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,$.Mx)(document.cookie,Ce)}}let pe,Ne=null,ye=(()=>{class fe{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ve){return new(ve||fe)};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac})}return fe})();const ne=new a.OlP("EventManagerPlugins");let Me=(()=>{class fe{constructor(ge,ve){this._zone=ve,this._eventNameToPlugin=new Map,ge.forEach(wt=>{wt.manager=this}),this._plugins=ge.slice().reverse()}addEventListener(ge,ve,wt){return this._findPluginFor(ve).addEventListener(ge,ve,wt)}getZone(){return this._zone}_findPluginFor(ge){let ve=this._eventNameToPlugin.get(ge);if(ve)return ve;if(ve=this._plugins.find(tn=>tn.supports(ge)),!ve)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(ge,ve),ve}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG(ne),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac})}return fe})();class Ve{constructor(Ce){this._doc=Ce}}const Be="ng-app-id";let Je=(()=>{class fe{constructor(ge,ve,wt,tn={}){this.doc=ge,this.appId=ve,this.nonce=wt,this.platformId=tn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,$.PM)(tn),this.resetHostNodes()}addStyles(ge){for(const ve of ge)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(ge){for(const ve of ge)this.changeUsageCount(ve,-1)<=0&&this.onStyleRemoved(ve)}ngOnDestroy(){const ge=this.styleNodesInDOM;ge&&(ge.forEach(ve=>ve.remove()),ge.clear());for(const ve of this.getAllStyles())this.onStyleRemoved(ve);this.resetHostNodes()}addHost(ge){this.hostNodes.add(ge);for(const ve of this.getAllStyles())this.addStyleToHost(ge,ve)}removeHost(ge){this.hostNodes.delete(ge)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ge){for(const ve of this.hostNodes)this.addStyleToHost(ve,ge)}onStyleRemoved(ge){const ve=this.styleRef;ve.get(ge)?.elements?.forEach(wt=>wt.remove()),ve.delete(ge)}collectServerRenderedStyles(){const ge=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(ge?.length){const ve=new Map;return ge.forEach(wt=>{null!=wt.textContent&&ve.set(wt.textContent,wt)}),ve}return null}changeUsageCount(ge,ve){const wt=this.styleRef;if(wt.has(ge)){const tn=wt.get(ge);return tn.usage+=ve,tn.usage}return wt.set(ge,{usage:ve,elements:[]}),ve}getStyleElement(ge,ve){const wt=this.styleNodesInDOM,tn=wt?.get(ve);if(tn?.parentNode===ge)return wt.delete(ve),tn.removeAttribute(Be),tn;{const kn=this.doc.createElement("style");return this.nonce&&kn.setAttribute("nonce",this.nonce),kn.textContent=ve,this.platformIsServer&&kn.setAttribute(Be,this.appId),kn}}addStyleToHost(ge,ve){const wt=this.getStyleElement(ge,ve);ge.appendChild(wt);const tn=this.styleRef,kn=tn.get(ve)?.elements;kn?kn.push(wt):tn.set(ve,{elements:[wt],usage:1})}resetHostNodes(){const ge=this.hostNodes;ge.clear(),ge.add(this.doc.head)}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG($.K0),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac})}return fe})();const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lt=/%COMP%/g,Re=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function st(fe,Ce){return Ce.map(ge=>ge.replace(lt,fe))}let Ze=(()=>{class fe{constructor(ge,ve,wt,tn,kn,xn,yr,tt=null){this.eventManager=ge,this.sharedStylesHost=ve,this.appId=wt,this.removeStylesOnCompDestroy=tn,this.doc=kn,this.platformId=xn,this.ngZone=yr,this.nonce=tt,this.rendererByCompId=new Map,this.platformIsServer=(0,$.PM)(xn),this.defaultRenderer=new Lt(ge,kn,yr,this.platformIsServer)}createRenderer(ge,ve){if(!ge||!ve)return this.defaultRenderer;this.platformIsServer&&ve.encapsulation===a.ifc.ShadowDom&&(ve={...ve,encapsulation:a.ifc.Emulated});const wt=this.getOrCreateRenderer(ge,ve);return wt instanceof Pt?wt.applyToHost(ge):wt instanceof it&&wt.applyStyles(),wt}getOrCreateRenderer(ge,ve){const wt=this.rendererByCompId;let tn=wt.get(ve.id);if(!tn){const kn=this.doc,xn=this.ngZone,yr=this.eventManager,tt=this.sharedStylesHost,Qn=this.removeStylesOnCompDestroy,dr=this.platformIsServer;switch(ve.encapsulation){case a.ifc.Emulated:tn=new Pt(yr,tt,ve,this.appId,Qn,kn,xn,dr);break;case a.ifc.ShadowDom:return new It(yr,tt,ge,ve,kn,xn,this.nonce,dr);default:tn=new it(yr,tt,ve,Qn,kn,xn,dr)}wt.set(ve.id,tn)}return tn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG(Me),a.LFG(Je),a.LFG(a.AFp),a.LFG(Re),a.LFG($.K0),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac})}return fe})();class Lt{constructor(Ce,ge,ve,wt){this.eventManager=Ce,this.doc=ge,this.ngZone=ve,this.platformIsServer=wt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ce,ge){return ge?this.doc.createElementNS(He[ge]||ge,Ce):this.doc.createElement(Ce)}createComment(Ce){return this.doc.createComment(Ce)}createText(Ce){return this.doc.createTextNode(Ce)}appendChild(Ce,ge){(gn(Ce)?Ce.content:Ce).appendChild(ge)}insertBefore(Ce,ge,ve){Ce&&(gn(Ce)?Ce.content:Ce).insertBefore(ge,ve)}removeChild(Ce,ge){Ce&&Ce.removeChild(ge)}selectRootElement(Ce,ge){let ve="string"==typeof Ce?this.doc.querySelector(Ce):Ce;if(!ve)throw new a.vHH(-5104,!1);return ge||(ve.textContent=""),ve}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,ge,ve,wt){if(wt){ge=wt+":"+ge;const tn=He[wt];tn?Ce.setAttributeNS(tn,ge,ve):Ce.setAttribute(ge,ve)}else Ce.setAttribute(ge,ve)}removeAttribute(Ce,ge,ve){if(ve){const wt=He[ve];wt?Ce.removeAttributeNS(wt,ge):Ce.removeAttribute(`${ve}:${ge}`)}else Ce.removeAttribute(ge)}addClass(Ce,ge){Ce.classList.add(ge)}removeClass(Ce,ge){Ce.classList.remove(ge)}setStyle(Ce,ge,ve,wt){wt&(a.JOm.DashCase|a.JOm.Important)?Ce.style.setProperty(ge,ve,wt&a.JOm.Important?"important":""):Ce.style[ge]=ve}removeStyle(Ce,ge,ve){ve&a.JOm.DashCase?Ce.style.removeProperty(ge):Ce.style[ge]=""}setProperty(Ce,ge,ve){Ce[ge]=ve}setValue(Ce,ge){Ce.nodeValue=ge}listen(Ce,ge,ve){if("string"==typeof Ce&&!(Ce=(0,$.q)().getGlobalEventTarget(this.doc,Ce)))throw new Error(`Unsupported event target ${Ce} for event ${ge}`);return this.eventManager.addEventListener(Ce,ge,this.decoratePreventDefault(ve))}decoratePreventDefault(Ce){return ge=>{if("__ngUnwrap__"===ge)return Ce;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ce(ge)):Ce(ge))&&ge.preventDefault()}}}function gn(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class It extends Lt{constructor(Ce,ge,ve,wt,tn,kn,xn,yr){super(Ce,tn,kn,yr),this.sharedStylesHost=ge,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tt=st(wt.id,wt.styles);for(const Qn of tt){const dr=document.createElement("style");xn&&dr.setAttribute("nonce",xn),dr.textContent=Qn,this.shadowRoot.appendChild(dr)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}appendChild(Ce,ge){return super.appendChild(this.nodeOrShadowRoot(Ce),ge)}insertBefore(Ce,ge,ve){return super.insertBefore(this.nodeOrShadowRoot(Ce),ge,ve)}removeChild(Ce,ge){return super.removeChild(this.nodeOrShadowRoot(Ce),ge)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class it extends Lt{constructor(Ce,ge,ve,wt,tn,kn,xn,yr){super(Ce,tn,kn,xn),this.sharedStylesHost=ge,this.removeStylesOnCompDestroy=wt,this.styles=yr?st(yr,ve.styles):ve.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pt extends it{constructor(Ce,ge,ve,wt,tn,kn,xn,yr){const tt=wt+"-"+ve.id;super(Ce,ge,ve,tn,kn,xn,yr,tt),this.contentAttr=function he(fe){return"_ngcontent-%COMP%".replace(lt,fe)}(tt),this.hostAttr=function Fe(fe){return"_nghost-%COMP%".replace(lt,fe)}(tt)}applyToHost(Ce){this.applyStyles(),this.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,ge){const ve=super.createElement(Ce,ge);return super.setAttribute(ve,this.contentAttr,""),ve}}let Ue=(()=>{class fe extends Ve{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,ve,wt){return ge.addEventListener(ve,wt,!1),()=>this.removeEventListener(ge,ve,wt)}removeEventListener(ge,ve,wt){return ge.removeEventListener(ve,wt)}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG($.K0))};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac})}return fe})();const ue=["alt","control","meta","shift"],G={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let ie=(()=>{class fe extends Ve{constructor(ge){super(ge)}supports(ge){return null!=fe.parseEventName(ge)}addEventListener(ge,ve,wt){const tn=fe.parseEventName(ve),kn=fe.eventCallback(tn.fullKey,wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,$.q)().onAndCancel(ge,tn.domEventName,kn))}static parseEventName(ge){const ve=ge.toLowerCase().split("."),wt=ve.shift();if(0===ve.length||"keydown"!==wt&&"keyup"!==wt)return null;const tn=fe._normalizeKey(ve.pop());let kn="",xn=ve.indexOf("code");if(xn>-1&&(ve.splice(xn,1),kn="code."),ue.forEach(tt=>{const Qn=ve.indexOf(tt);Qn>-1&&(ve.splice(Qn,1),kn+=tt+".")}),kn+=tn,0!=ve.length||0===tn.length)return null;const yr={};return yr.domEventName=wt,yr.fullKey=kn,yr}static matchEventFullKeyCode(ge,ve){let wt=G[ge.key]||ge.key,tn="";return ve.indexOf("code.")>-1&&(wt=ge.code,tn="code."),!(null==wt||!wt)&&(wt=wt.toLowerCase()," "===wt?wt="space":"."===wt&&(wt="dot"),ue.forEach(kn=>{kn!==wt&&(0,W[kn])(ge)&&(tn+=kn+".")}),tn+=wt,tn===ve)}static eventCallback(ge,ve,wt){return tn=>{fe.matchEventFullKeyCode(tn,ge)&&wt.runGuarded(()=>ve(tn))}}static _normalizeKey(ge){return"esc"===ge?"escape":ge}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG($.K0))};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac})}return fe})();const vn=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:$.bD},{provide:a.g9A,useValue:function xt(){M.makeCurrent()},multi:!0},{provide:$.K0,useFactory:function Rn(){return(0,a.RDi)(document),document},deps:[]}]),Yn=new a.OlP(""),Ir=[{provide:a.rWj,useClass:class je{addToWindow(Ce){a.dqk.getAngularTestability=(ve,wt=!0)=>{const tn=Ce.findTestabilityInTree(ve,wt);if(null==tn)throw new a.vHH(5103,!1);return tn},a.dqk.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>Ce.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(ve=>{const wt=a.dqk.getAllAngularTestabilities();let tn=wt.length,kn=!1;const xn=function(yr){kn=kn||yr,tn--,0==tn&&ve(kn)};wt.forEach(yr=>{yr.whenStable(xn)})})}findTestabilityInTree(Ce,ge,ve){return null==ge?null:Ce.getTestability(ge)??(ve?(0,$.q)().isShadowRoot(ge)?this.findTestabilityInTree(Ce,ge.host,!0):this.findTestabilityInTree(Ce,ge.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],on=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function fn(){return new a.qLn},deps:[]},{provide:ne,useClass:Ue,multi:!0,deps:[$.K0,a.R0b,a.Lbi]},{provide:ne,useClass:ie,multi:!0,deps:[$.K0]},Ze,Je,Me,{provide:a.FYo,useExisting:Ze},{provide:$.JF,useClass:ye,deps:[]},[]];let nn=(()=>{class fe{constructor(ge){}static withServerTransition(ge){return{ngModule:fe,providers:[{provide:a.AFp,useValue:ge.appId}]}}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG(Yn,12))};static#t=this.\u0275mod=a.oAB({type:fe});static#n=this.\u0275inj=a.cJS({providers:[...on,...Ir],imports:[$.ez,a.hGG]})}return fe})(),Ut=(()=>{class fe{constructor(ge){this._doc=ge}getTitle(){return this._doc.title}setTitle(ge){this._doc.title=ge||""}static#e=this.\u0275fac=function(ve){return new(ve||fe)(a.LFG($.K0))};static#t=this.\u0275prov=a.Yz7({token:fe,factory:function(ve){let wt=null;return wt=ve?new ve:function We(){return new Ut((0,a.LFG)($.K0))}(),wt},providedIn:"root"})}return fe})();typeof window<"u"&&window},5514:(bn,gt,A)=>{"use strict";A.d(gt,{gz:()=>mo,y6:()=>$r,m2:()=>nt,OD:()=>we,eC:()=>fn,wN:()=>ii,F0:()=>te,rH:()=>yt,Bz:()=>xs,Hx:()=>di});var a=A(5879),$=A(5592),se=A(4674),Ne=A(2459),Ee=A(2096),pe=A(5619),Le=A(2572),je=A(6973),ye=A(5211),ne=A(4829);function Me(b){return new $.y(R=>{(0,ne.Xf)(b()).subscribe(R)})}var Ve=A(8407),Be=A(8504),Je=A(6232),He=A(7394),lt=A(9360),xe=A(8251);function Et(){return(0,lt.e)((b,R)=>{let T=null;b._refCount++;const P=(0,xe.x)(R,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(T=null);const z=b._connection,_e=T;T=null,z&&(!_e||z===_e)&&z.unsubscribe(),R.unsubscribe()});b.subscribe(P),P.closed||(T=b.connect())})}class De extends $.y{constructor(R,T){super(),this.source=R,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new He.w0;const T=this.getSubject();R.add(this.source.subscribe((0,xe.x)(T,void 0,()=>{this._teardown(),T.complete()},P=>{this._teardown(),T.error(P)},()=>this._teardown()))),R.closed&&(this._connection=null,R=He.w0.EMPTY)}return R}refCount(){return Et()(this)}}var Te=A(8645),Re=A(6814),he=A(7398),Fe=A(4664),st=A(8180),Ze=A(7921),Lt=A(2181),Ge=A(1631),qt=A(1374),gn=A(6328),It=A(9397);function it(b){return(0,lt.e)((R,T)=>{let _e,P=null,z=!1;P=R.subscribe((0,xe.x)(T,void 0,void 0,Xe=>{_e=(0,ne.Xf)(b(Xe,it(b)(R))),P?(P.unsubscribe(),P=null,_e.subscribe(T)):z=!0})),z&&(P.unsubscribe(),P=null,_e.subscribe(T))})}var Pt=A(6699),Ue=A(3572);function ue(b){return b<=0?()=>Je.E:(0,lt.e)((R,T)=>{let P=[];R.subscribe((0,xe.x)(T,z=>{P.push(z),b<P.length&&P.shift()},()=>{for(const z of P)T.next(z);T.complete()},void 0,()=>{P=null}))})}var G=A(3026),W=A(2737),ut=A(4716),Oe=A(9773),Tt=A(7537),xt=A(6593);const fn="primary",Rn=Symbol("RouteTitle");class Nt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const T=this.params[R];return Array.isArray(T)?T[0]:T}return null}getAll(R){if(this.has(R)){const T=this.params[R];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function vn(b){return new Nt(b)}function Yn(b,R,T){const P=T.path.split("/");if(P.length>b.length||"full"===T.pathMatch&&(R.hasChildren()||P.length<b.length))return null;const z={};for(let _e=0;_e<P.length;_e++){const Xe=P[_e],en=b[_e];if(Xe.startsWith(":"))z[Xe.substring(1)]=en;else if(Xe!==en.path)return null}return{consumed:b.slice(0,P.length),posParams:z}}function on(b,R){const T=b?Object.keys(b):void 0,P=R?Object.keys(R):void 0;if(!T||!P||T.length!=P.length)return!1;let z;for(let _e=0;_e<T.length;_e++)if(z=T[_e],!nn(b[z],R[z]))return!1;return!0}function nn(b,R){if(Array.isArray(b)&&Array.isArray(R)){if(b.length!==R.length)return!1;const T=[...b].sort(),P=[...R].sort();return T.every((z,_e)=>P[_e]===z)}return b===R}function xr(b){return b.length>0?b[b.length-1]:null}function Wt(b){return function M(b){return!!b&&(b instanceof $.y||(0,se.m)(b.lift)&&(0,se.m)(b.subscribe))}(b)?b:(0,a.QGY)(b)?(0,Ne.D)(Promise.resolve(b)):(0,Ee.of)(b)}const Ke={exact:function pr(b,R,T){if(!Ci(b.segments,R.segments)||!Kn(b.segments,R.segments,T)||b.numberOfChildren!==R.numberOfChildren)return!1;for(const P in R.children)if(!b.children[P]||!pr(b.children[P],R.children[P],T))return!1;return!0},subset:zn},We={exact:function Ln(b,R){return on(b,R)},subset:function Hn(b,R){return Object.keys(R).length<=Object.keys(b).length&&Object.keys(R).every(T=>nn(b[T],R[T]))},ignored:()=>!0};function Ut(b,R,T){return Ke[T.paths](b.root,R.root,T.matrixParams)&&We[T.queryParams](b.queryParams,R.queryParams)&&!("exact"===T.fragment&&b.fragment!==R.fragment)}function zn(b,R,T){return Gn(b,R,R.segments,T)}function Gn(b,R,T,P){if(b.segments.length>T.length){const z=b.segments.slice(0,T.length);return!(!Ci(z,T)||R.hasChildren()||!Kn(z,T,P))}if(b.segments.length===T.length){if(!Ci(b.segments,T)||!Kn(b.segments,T,P))return!1;for(const z in R.children)if(!b.children[z]||!zn(b.children[z],R.children[z],P))return!1;return!0}{const z=T.slice(0,b.segments.length),_e=T.slice(b.segments.length);return!!(Ci(b.segments,z)&&Kn(b.segments,z,P)&&b.children[fn])&&Gn(b.children[fn],R,_e,P)}}function Kn(b,R,T){return R.every((P,z)=>We[T](b[z].parameters,P.parameters))}class Cr{constructor(R=new Wn([],{}),T={},P=null){this.root=R,this.queryParams=T,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return Nr.serialize(this)}}class Wn{constructor(R,T){this.segments=R,this.children=T,this.parent=null,Object.values(T).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fn(this)}}class mr{constructor(R,T){this.path=R,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=vn(this.parameters)),this._parameterMap}toString(){return Kr(this)}}function Ci(b,R){return b.length===R.length&&b.every((T,P)=>T.path===R[P].path)}let di=(()=>{class b{static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:function(){return new Dr},providedIn:"root"})}return b})();class Dr{parse(R){const T=new xn(R);return new Cr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(R){const T=`/${Ii(R.root,!0)}`,P=function hi(b){const R=Object.keys(b).map(T=>{const P=b[T];return Array.isArray(P)?P.map(z=>`${ei(T)}=${ei(z)}`).join("&"):`${ei(T)}=${ei(P)}`}).filter(T=>!!T);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${T}${P}${"string"==typeof R.fragment?`#${function ur(b){return encodeURI(b)}(R.fragment)}`:""}`}}const Nr=new Dr;function Fn(b){return b.segments.map(R=>Kr(R)).join("/")}function Ii(b,R){if(!b.hasChildren())return Fn(b);if(R){const T=b.children[fn]?Ii(b.children[fn],!1):"",P=[];return Object.entries(b.children).forEach(([z,_e])=>{z!==fn&&P.push(`${z}:${Ii(_e,!1)}`)}),P.length>0?`${T}(${P.join("//")})`:T}{const T=function sn(b,R){let T=[];return Object.entries(b.children).forEach(([P,z])=>{P===fn&&(T=T.concat(R(z,P)))}),Object.entries(b.children).forEach(([P,z])=>{P!==fn&&(T=T.concat(R(z,P)))}),T}(b,(P,z)=>z===fn?[Ii(b.children[fn],!1)]:[`${z}:${Ii(P,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[fn]?`${Fn(b)}/${T[0]}`:`${Fn(b)}/(${T.join("//")})`}}function qn(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ei(b){return qn(b).replace(/%3B/gi,";")}function Dn(b){return qn(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ai(b){return decodeURIComponent(b)}function Ti(b){return ai(b.replace(/\+/g,"%20"))}function Kr(b){return`${Dn(b.path)}${function Fi(b){return Object.keys(b).map(R=>`;${Dn(R)}=${Dn(b[R])}`).join("")}(b.parameters)}`}const ct=/^[^\/()?;#]+/;function fe(b){const R=b.match(ct);return R?R[0]:""}const Ce=/^[^\/()?;=#]+/,ve=/^[^=?&#]+/,tn=/^[^&#]+/;class xn{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(R.length>0||Object.keys(T).length>0)&&(P[fn]=new Wn(R,T)),P}parseSegment(){const R=fe(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(R),new mr(ai(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const T=function ge(b){const R=b.match(Ce);return R?R[0]:""}(this.remaining);if(!T)return;this.capture(T);let P="";if(this.consumeOptional("=")){const z=fe(this.remaining);z&&(P=z,this.capture(P))}R[ai(T)]=ai(P)}parseQueryParam(R){const T=function wt(b){const R=b.match(ve);return R?R[0]:""}(this.remaining);if(!T)return;this.capture(T);let P="";if(this.consumeOptional("=")){const Xe=function kn(b){const R=b.match(tn);return R?R[0]:""}(this.remaining);Xe&&(P=Xe,this.capture(P))}const z=Ti(T),_e=Ti(P);if(R.hasOwnProperty(z)){let Xe=R[z];Array.isArray(Xe)||(Xe=[Xe],R[z]=Xe),Xe.push(_e)}else R[z]=_e}parseParens(R){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=fe(this.remaining),z=this.remaining[P.length];if("/"!==z&&")"!==z&&";"!==z)throw new a.vHH(4010,!1);let _e;P.indexOf(":")>-1?(_e=P.slice(0,P.indexOf(":")),this.capture(_e),this.capture(":")):R&&(_e=fn);const Xe=this.parseChildren();T[_e]=1===Object.keys(Xe).length?Xe[fn]:new Wn([],Xe),this.consumeOptional("//")}return T}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new a.vHH(4011,!1)}}function yr(b){return b.segments.length>0?new Wn([],{[fn]:b}):b}function tt(b){const R={};for(const P of Object.keys(b.children)){const _e=tt(b.children[P]);if(P===fn&&0===_e.segments.length&&_e.hasChildren())for(const[Xe,en]of Object.entries(_e.children))R[Xe]=en;else(_e.segments.length>0||_e.hasChildren())&&(R[P]=_e)}return function Qn(b){if(1===b.numberOfChildren&&b.children[fn]){const R=b.children[fn];return new Wn(b.segments.concat(R.segments),R.children)}return b}(new Wn(b.segments,R))}function dr(b){return b instanceof Cr}function ot(b){let R;const z=yr(function T(_e){const Xe={};for(const Zt of _e.children){const nr=T(Zt);Xe[Zt.outlet]=nr}const en=new Wn(_e.url,Xe);return _e===b&&(R=en),en}(b.root));return R??z}function ht(b,R,T,P){let z=b;for(;z.parent;)z=z.parent;if(0===R.length)return wn(z,z,z,T,P);const _e=function Nn(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Ar(!0,0,b);let R=0,T=!1;const P=b.reduce((z,_e,Xe)=>{if("object"==typeof _e&&null!=_e){if(_e.outlets){const en={};return Object.entries(_e.outlets).forEach(([Zt,nr])=>{en[Zt]="string"==typeof nr?nr.split("/"):nr}),[...z,{outlets:en}]}if(_e.segmentPath)return[...z,_e.segmentPath]}return"string"!=typeof _e?[...z,_e]:0===Xe?(_e.split("/").forEach((en,Zt)=>{0==Zt&&"."===en||(0==Zt&&""===en?T=!0:".."===en?R++:""!=en&&z.push(en))}),z):[...z,_e]},[]);return new Ar(T,R,P)}(R);if(_e.toRoot())return wn(z,z,new Wn([],{}),T,P);const Xe=function ee(b,R,T){if(b.isAbsolute)return new oe(R,!0,0);if(!T)return new oe(R,!1,NaN);if(null===T.parent)return new oe(T,!0,0);const P=Qt(b.commands[0])?0:1;return function j(b,R,T){let P=b,z=R,_e=T;for(;_e>z;){if(_e-=z,P=P.parent,!P)throw new a.vHH(4005,!1);z=P.segments.length}return new oe(P,!1,z-_e)}(T,T.segments.length-1+P,b.numberOfDoubleDots)}(_e,z,b),en=Xe.processChildren?Pe(Xe.segmentGroup,Xe.index,_e.commands):Qe(Xe.segmentGroup,Xe.index,_e.commands);return wn(z,Xe.segmentGroup,en,T,P)}function Qt(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function En(b){return"object"==typeof b&&null!=b&&b.outlets}function wn(b,R,T,P,z){let Xe,_e={};P&&Object.entries(P).forEach(([Zt,nr])=>{_e[Zt]=Array.isArray(nr)?nr.map(oi=>`${oi}`):`${nr}`}),Xe=b===R?T:On(b,R,T);const en=yr(tt(Xe));return new Cr(en,_e,z)}function On(b,R,T){const P={};return Object.entries(b.children).forEach(([z,_e])=>{P[z]=_e===R?T:On(_e,R,T)}),new Wn(b.segments,P)}class Ar{constructor(R,T,P){if(this.isAbsolute=R,this.numberOfDoubleDots=T,this.commands=P,R&&P.length>0&&Qt(P[0]))throw new a.vHH(4003,!1);const z=P.find(En);if(z&&z!==xr(P))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oe{constructor(R,T,P){this.segmentGroup=R,this.processChildren=T,this.index=P}}function Qe(b,R,T){if(b||(b=new Wn([],{})),0===b.segments.length&&b.hasChildren())return Pe(b,R,T);const P=function ft(b,R,T){let P=0,z=R;const _e={match:!1,pathIndex:0,commandIndex:0};for(;z<b.segments.length;){if(P>=T.length)return _e;const Xe=b.segments[z],en=T[P];if(En(en))break;const Zt=`${en}`,nr=P<T.length-1?T[P+1]:null;if(z>0&&void 0===Zt)break;if(Zt&&nr&&"object"==typeof nr&&void 0===nr.outlets){if(!hr(Zt,nr,Xe))return _e;P+=2}else{if(!hr(Zt,{},Xe))return _e;P++}z++}return{match:!0,pathIndex:z,commandIndex:P}}(b,R,T),z=T.slice(P.commandIndex);if(P.match&&P.pathIndex<b.segments.length){const _e=new Wn(b.segments.slice(0,P.pathIndex),{});return _e.children[fn]=new Wn(b.segments.slice(P.pathIndex),b.children),Pe(_e,0,z)}return P.match&&0===z.length?new Wn(b.segments,{}):P.match&&!b.hasChildren()?$t(b,R,T):P.match?Pe(b,0,z):$t(b,R,T)}function Pe(b,R,T){if(0===T.length)return new Wn(b.segments,{});{const P=function le(b){return En(b[0])?b[0].outlets:{[fn]:b}}(T),z={};if(Object.keys(P).some(_e=>_e!==fn)&&b.children[fn]&&1===b.numberOfChildren&&0===b.children[fn].segments.length){const _e=Pe(b.children[fn],R,T);return new Wn(b.segments,_e.children)}return Object.entries(P).forEach(([_e,Xe])=>{"string"==typeof Xe&&(Xe=[Xe]),null!==Xe&&(z[_e]=Qe(b.children[_e],R,Xe))}),Object.entries(b.children).forEach(([_e,Xe])=>{void 0===P[_e]&&(z[_e]=Xe)}),new Wn(b.segments,z)}}function $t(b,R,T){const P=b.segments.slice(0,R);let z=0;for(;z<T.length;){const _e=T[z];if(En(_e)){const Zt=In(_e.outlets);return new Wn(P,Zt)}if(0===z&&Qt(T[0])){P.push(new mr(b.segments[R].path,Jn(T[0]))),z++;continue}const Xe=En(_e)?_e.outlets[fn]:`${_e}`,en=z<T.length-1?T[z+1]:null;Xe&&en&&Qt(en)?(P.push(new mr(Xe,Jn(en))),z+=2):(P.push(new mr(Xe,{})),z++)}return new Wn(P,{})}function In(b){const R={};return Object.entries(b).forEach(([T,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(R[T]=$t(new Wn([],{}),0,P))}),R}function Jn(b){const R={};return Object.entries(b).forEach(([T,P])=>R[T]=`${P}`),R}function hr(b,R,T){return b==T.path&&on(R,T.parameters)}const jr="imperative";class ar{constructor(R,T){this.id=R,this.url=T}}class we extends ar{constructor(R,T,P="imperative",z=null){super(R,T),this.type=0,this.navigationTrigger=P,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nt extends ar{constructor(R,T,P){super(R,T),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $e extends ar{constructor(R,T,P,z){super(R,T),this.reason=P,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class At extends ar{constructor(R,T,P,z){super(R,T),this.reason=P,this.code=z,this.type=16}}class Ot extends ar{constructor(R,T,P,z){super(R,T),this.error=P,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vt extends ar{constructor(R,T,P,z){super(R,T),this.urlAfterRedirects=P,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends ar{constructor(R,T,P,z){super(R,T),this.urlAfterRedirects=P,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n extends ar{constructor(R,T,P,z,_e){super(R,T),this.urlAfterRedirects=P,this.state=z,this.shouldActivate=_e,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class An extends ar{constructor(R,T,P,z){super(R,T),this.urlAfterRedirects=P,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends ar{constructor(R,T,P,z){super(R,T),this.urlAfterRedirects=P,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class or{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sr{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(R,T,P){this.routerEvent=R,this.position=T,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Li{}class bo{constructor(R){this.url=R}}class bi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $r,this.attachRef=null}}let $r=(()=>{class b{constructor(){this.contexts=new Map}onChildOutletCreated(T,P){const z=this.getOrCreateContext(T);z.outlet=P,this.contexts.set(T,z)}onChildOutletDestroyed(T){const P=this.getContext(T);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let P=this.getContext(T);return P||(P=new bi,this.contexts.set(T,P)),P}getContext(T){return this.contexts.get(T)||null}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();class Hr{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const T=this.pathFromRoot(R);return T.length>1?T[T.length-2]:null}children(R){const T=po(R,this._root);return T?T.children.map(P=>P.value):[]}firstChild(R){const T=po(R,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(R){const T=go(R,this._root);return T.length<2?[]:T[T.length-2].children.map(z=>z.value).filter(z=>z!==R)}pathFromRoot(R){return go(R,this._root).map(T=>T.value)}}function po(b,R){if(b===R.value)return R;for(const T of R.children){const P=po(b,T);if(P)return P}return null}function go(b,R){if(b===R.value)return[R];for(const T of R.children){const P=go(b,T);if(P.length)return P.unshift(R),P}return[]}class Pr{constructor(R,T){this.value=R,this.children=T}toString(){return`TreeNode(${this.value})`}}function Mr(b){const R={};return b&&b.children.forEach(T=>R[T.value.outlet]=T),R}class $i extends Hr{constructor(R,T){super(R),this.snapshot=T,be(this,R)}toString(){return this.snapshot.toString()}}function wi(b,R){const T=function Or(b,R){const Xe=new Q([],{},{},"",{},fn,R,null,{});return new N("",new Pr(Xe,[]))}(0,R),P=new pe.X([new mr("",{})]),z=new pe.X({}),_e=new pe.X({}),Xe=new pe.X({}),en=new pe.X(""),Zt=new mo(P,z,Xe,en,_e,fn,R,T.root);return Zt.snapshot=T.root,new $i(new Pr(Zt,[]),T)}class mo{constructor(R,T,P,z,_e,Xe,en,Zt){this.urlSubject=R,this.paramsSubject=T,this.queryParamsSubject=P,this.fragmentSubject=z,this.dataSubject=_e,this.outlet=Xe,this.component=en,this._futureSnapshot=Zt,this.title=this.dataSubject?.pipe((0,he.U)(nr=>nr[Rn]))??(0,Ee.of)(void 0),this.url=R,this.params=T,this.queryParams=P,this.fragment=z,this.data=_e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,he.U)(R=>vn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,he.U)(R=>vn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q(b,R="emptyOnly"){const T=b.pathFromRoot;let P=0;if("always"!==R)for(P=T.length-1;P>=1;){const z=T[P],_e=T[P-1];if(z.routeConfig&&""===z.routeConfig.path)P--;else{if(_e.component)break;P--}}return function fr(b){return b.reduce((R,T)=>({params:{...R.params,...T.params},data:{...R.data,...T.data},resolve:{...T.data,...R.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(P))}class Q{get title(){return this.data?.[Rn]}constructor(R,T,P,z,_e,Xe,en,Zt,nr){this.url=R,this.params=T,this.queryParams=P,this.fragment=z,this.data=_e,this.outlet=Xe,this.component=en,this.routeConfig=Zt,this._resolve=nr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class N extends Hr{constructor(R,T){super(T),this.url=R,be(this,T)}toString(){return mn(this._root)}}function be(b,R){R.value._routerState=b,R.children.forEach(T=>be(b,T))}function mn(b){const R=b.children.length>0?` { ${b.children.map(mn).join(", ")} } `:"";return`${b.value}${R}`}function B(b){if(b.snapshot){const R=b.snapshot,T=b._futureSnapshot;b.snapshot=T,on(R.queryParams,T.queryParams)||b.queryParamsSubject.next(T.queryParams),R.fragment!==T.fragment&&b.fragmentSubject.next(T.fragment),on(R.params,T.params)||b.paramsSubject.next(T.params),function Ir(b,R){if(b.length!==R.length)return!1;for(let T=0;T<b.length;++T)if(!on(b[T],R[T]))return!1;return!0}(R.url,T.url)||b.urlSubject.next(T.url),on(R.data,T.data)||b.dataSubject.next(T.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function re(b,R){const T=on(b.params,R.params)&&function ni(b,R){return Ci(b,R)&&b.every((T,P)=>on(T.parameters,R[P].parameters))}(b.url,R.url);return T&&!(!b.parent!=!R.parent)&&(!b.parent||re(b.parent,R.parent))}let Ye=(()=>{class b{constructor(){this.activated=null,this._activatedRoute=null,this.name=fn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)($r),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(bt,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:P,previousValue:z}=T.name;if(P)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,P){this.activated=T,this._activatedRoute=P,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,P){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=T;const z=this.location,Xe=T.snapshot.component,en=this.parentContexts.getOrCreateContext(this.name).children,Zt=new rt(T,en,z.injector);this.activated=z.createComponent(Xe,{index:z.length,injector:Zt,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275dir=a.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return b})();class rt{constructor(R,T,P){this.route=R,this.childContexts=T,this.parent=P}get(R,T){return R===mo?this.route:R===$r?this.childContexts:this.parent.get(R,T)}}const bt=new a.OlP("");let St=(()=>{class b{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:P}=T,z=(0,Le.a)([P.queryParams,P.params,P.data]).pipe((0,Fe.w)(([_e,Xe,en],Zt)=>(en={..._e,...Xe,...en},0===Zt?(0,Ee.of)(en):Promise.resolve(en)))).subscribe(_e=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(T);const Xe=(0,a.qFp)(P.component);if(Xe)for(const{templateName:en}of Xe.inputs)T.activatedComponentRef.setInput(en,_e[en]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,z)}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac})}return b})();function rn(b,R,T){if(T&&b.shouldReuseRoute(R.value,T.value.snapshot)){const P=T.value;P._futureSnapshot=R.value;const z=function an(b,R,T){return R.children.map(P=>{for(const z of T.children)if(b.shouldReuseRoute(P.value,z.value.snapshot))return rn(b,P,z);return rn(b,P)})}(b,R,T);return new Pr(P,z)}{if(b.shouldAttach(R.value)){const _e=b.retrieve(R.value);if(null!==_e){const Xe=_e.route;return Xe.value._futureSnapshot=R.value,Xe.children=R.children.map(en=>rn(b,en)),Xe}}const P=function Ht(b){return new mo(new pe.X(b.url),new pe.X(b.params),new pe.X(b.queryParams),new pe.X(b.fragment),new pe.X(b.data),b.outlet,b.component,b)}(R.value),z=R.children.map(_e=>rn(b,_e));return new Pr(P,z)}}const Vn="ngNavigationCancelingError";function $n(b,R){const{redirectTo:T,navigationBehaviorOptions:P}=dr(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,z=rr(!1,0,R);return z.url=T,z.navigationBehaviorOptions=P,z}function rr(b,R,T){const P=new Error("NavigationCancelingError: "+(b||""));return P[Vn]=!0,P.cancellationCode=R,T&&(P.url=T),P}function ri(b){return b&&b[Vn]}let xi=(()=>{class b{static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275cmp=a.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(P,z){1&P&&a._UZ(0,"router-outlet")},dependencies:[Ye],encapsulation:2})}return b})();function ss(b){const R=b.children&&b.children.map(ss),T=R?{...b,children:R}:{...b};return!T.component&&!T.loadComponent&&(R||T.loadChildren)&&T.outlet&&T.outlet!==fn&&(T.component=xi),T}function Xi(b){return b.outlet||fn}function as(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let R=b.parent;R;R=R.parent){const T=R.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class Ji{constructor(R,T,P,z,_e){this.routeReuseStrategy=R,this.futureState=T,this.currState=P,this.forwardEvent=z,this.inputBindingEnabled=_e}activate(R){const T=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,P,R),B(this.futureState.root),this.activateChildRoutes(T,P,R)}deactivateChildRoutes(R,T,P){const z=Mr(T);R.children.forEach(_e=>{const Xe=_e.value.outlet;this.deactivateRoutes(_e,z[Xe],P),delete z[Xe]}),Object.values(z).forEach(_e=>{this.deactivateRouteAndItsChildren(_e,P)})}deactivateRoutes(R,T,P){const z=R.value,_e=T?T.value:null;if(z===_e)if(z.component){const Xe=P.getContext(z.outlet);Xe&&this.deactivateChildRoutes(R,T,Xe.children)}else this.deactivateChildRoutes(R,T,P);else _e&&this.deactivateRouteAndItsChildren(T,P)}deactivateRouteAndItsChildren(R,T){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,T):this.deactivateRouteAndOutlet(R,T)}detachAndStoreRouteSubtree(R,T){const P=T.getContext(R.value.outlet),z=P&&R.value.component?P.children:T,_e=Mr(R);for(const Xe of Object.keys(_e))this.deactivateRouteAndItsChildren(_e[Xe],z);if(P&&P.outlet){const Xe=P.outlet.detach(),en=P.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Xe,route:R,contexts:en})}}deactivateRouteAndOutlet(R,T){const P=T.getContext(R.value.outlet),z=P&&R.value.component?P.children:T,_e=Mr(R);for(const Xe of Object.keys(_e))this.deactivateRouteAndItsChildren(_e[Xe],z);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(R,T,P){const z=Mr(T);R.children.forEach(_e=>{this.activateRoutes(_e,z[_e.value.outlet],P),this.forwardEvent(new Ai(_e.value.snapshot))}),R.children.length&&this.forwardEvent(new qr(R.value.snapshot))}activateRoutes(R,T,P){const z=R.value,_e=T?T.value:null;if(B(z),z===_e)if(z.component){const Xe=P.getOrCreateContext(z.outlet);this.activateChildRoutes(R,T,Xe.children)}else this.activateChildRoutes(R,T,P);else if(z.component){const Xe=P.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const en=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Xe.children.onOutletReAttached(en.contexts),Xe.attachRef=en.componentRef,Xe.route=en.route.value,Xe.outlet&&Xe.outlet.attach(en.componentRef,en.route.value),B(en.route.value),this.activateChildRoutes(R,null,Xe.children)}else{const en=as(z.snapshot);Xe.attachRef=null,Xe.route=z,Xe.injector=en,Xe.outlet&&Xe.outlet.activateWith(z,Xe.injector),this.activateChildRoutes(R,null,Xe.children)}}else this.activateChildRoutes(R,null,P)}}class li{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Di{constructor(R,T){this.component=R,this.route=T}}function Ki(b,R,T){const P=b._root;return ps(P,R?R._root:null,T,[P.value])}function ao(b,R){const T=Symbol(),P=R.get(b,T);return P===T?"function"!=typeof b||(0,a.Z0I)(b)?R.get(b):b:P}function ps(b,R,T,P,z={canDeactivateChecks:[],canActivateChecks:[]}){const _e=Mr(R);return b.children.forEach(Xe=>{(function Bo(b,R,T,P,z={canDeactivateChecks:[],canActivateChecks:[]}){const _e=b.value,Xe=R?R.value:null,en=T?T.getContext(b.value.outlet):null;if(Xe&&_e.routeConfig===Xe.routeConfig){const Zt=function Wr(b,R,T){if("function"==typeof T)return T(b,R);switch(T){case"pathParamsChange":return!Ci(b.url,R.url);case"pathParamsOrQueryParamsChange":return!Ci(b.url,R.url)||!on(b.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!re(b,R)||!on(b.queryParams,R.queryParams);default:return!re(b,R)}}(Xe,_e,_e.routeConfig.runGuardsAndResolvers);Zt?z.canActivateChecks.push(new li(P)):(_e.data=Xe.data,_e._resolvedData=Xe._resolvedData),ps(b,R,_e.component?en?en.children:null:T,P,z),Zt&&en&&en.outlet&&en.outlet.isActivated&&z.canDeactivateChecks.push(new Di(en.outlet.component,Xe))}else Xe&&fi(R,en,z),z.canActivateChecks.push(new li(P)),ps(b,null,_e.component?en?en.children:null:T,P,z)})(Xe,_e[Xe.value.outlet],T,P.concat([Xe.value]),z),delete _e[Xe.value.outlet]}),Object.entries(_e).forEach(([Xe,en])=>fi(en,T.getContext(Xe),z)),z}function fi(b,R,T){const P=Mr(b),z=b.value;Object.entries(P).forEach(([_e,Xe])=>{fi(Xe,z.component?R?R.children.getContext(_e):null:R,T)}),T.canDeactivateChecks.push(new Di(z.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,z))}function wo(b){return"function"==typeof b}function Na(b){return b instanceof je.K||"EmptyError"===b?.name}const K=Symbol("INITIAL_VALUE");function X(){return(0,Fe.w)(b=>(0,Le.a)(b.map(R=>R.pipe((0,st.q)(1),(0,Ze.O)(K)))).pipe((0,he.U)(R=>{for(const T of R)if(!0!==T){if(T===K)return K;if(!1===T||T instanceof Cr)return T}return!0}),(0,Lt.h)(R=>R!==K),(0,st.q)(1)))}function no(b){return(0,Ve.z)((0,It.b)(R=>{if(dr(R))throw $n(0,R)}),(0,he.U)(R=>!0===R))}class cs{constructor(R){this.segmentGroup=R||null}}class Jo{constructor(R){this.urlTree=R}}function zi(b){return(0,Be._)(new cs(b))}function Gi(b){return(0,Be._)(new Jo(b))}class $s{constructor(R,T){this.urlSerializer=R,this.urlTree=T}noMatchError(R){return new a.vHH(4002,!1)}lineralizeSegments(R,T){let P=[],z=T.root;for(;;){if(P=P.concat(z.segments),0===z.numberOfChildren)return(0,Ee.of)(P);if(z.numberOfChildren>1||!z.children[fn])return(0,Be._)(new a.vHH(4e3,!1));z=z.children[fn]}}applyRedirectCommands(R,T,P){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),R,P)}applyRedirectCreateUrlTree(R,T,P,z){const _e=this.createSegmentGroup(R,T.root,P,z);return new Cr(_e,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(R,T){const P={};return Object.entries(R).forEach(([z,_e])=>{if("string"==typeof _e&&_e.startsWith(":")){const en=_e.substring(1);P[z]=T[en]}else P[z]=_e}),P}createSegmentGroup(R,T,P,z){const _e=this.createSegments(R,T.segments,P,z);let Xe={};return Object.entries(T.children).forEach(([en,Zt])=>{Xe[en]=this.createSegmentGroup(R,Zt,P,z)}),new Wn(_e,Xe)}createSegments(R,T,P,z){return T.map(_e=>_e.path.startsWith(":")?this.findPosParam(R,_e,z):this.findOrReturn(_e,P))}findPosParam(R,T,P){const z=P[T.path.substring(1)];if(!z)throw new a.vHH(4001,!1);return z}findOrReturn(R,T){let P=0;for(const z of T){if(z.path===R.path)return T.splice(P),z;P++}return R}}const eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function As(b,R,T,P,z){const _e=ws(b,R,T);return _e.matched?(P=function kr(b,R){return b.providers&&!b._injector&&(b._injector=(0,a.MMx)(b.providers,R,`Route: ${b.path}`)),b._injector??R}(R,P),function xo(b,R,T,P){const z=R.canMatch;if(!z||0===z.length)return(0,Ee.of)(!0);const _e=z.map(Xe=>{const en=ao(Xe,b);return Wt(function Al(b){return b&&wo(b.canMatch)}(en)?en.canMatch(R,T):b.runInContext(()=>en(R,T)))});return(0,Ee.of)(_e).pipe(X(),no())}(P,R,T).pipe((0,he.U)(Xe=>!0===Xe?_e:{...eo}))):(0,Ee.of)(_e)}function ws(b,R,T){if(""===R.path)return"full"===R.pathMatch&&(b.hasChildren()||T.length>0)?{...eo}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const z=(R.matcher||Yn)(T,b,R);if(!z)return{...eo};const _e={};Object.entries(z.posParams??{}).forEach(([en,Zt])=>{_e[en]=Zt.path});const Xe=z.consumed.length>0?{..._e,...z.consumed[z.consumed.length-1].parameters}:_e;return{matched:!0,consumedSegments:z.consumed,remainingSegments:T.slice(z.consumed.length),parameters:Xe,positionalParamSegments:z.posParams??{}}}function gs(b,R,T,P){return T.length>0&&function js(b,R,T){return T.some(P=>es(b,R,P)&&Xi(P)!==fn)}(b,T,P)?{segmentGroup:new Wn(R,Rs(P,new Wn(T,b.children))),slicedSegments:[]}:0===T.length&&function Hs(b,R,T){return T.some(P=>es(b,R,P))}(b,T,P)?{segmentGroup:new Wn(b.segments,Ss(b,0,T,P,b.children)),slicedSegments:T}:{segmentGroup:new Wn(b.segments,b.children),slicedSegments:T}}function Ss(b,R,T,P,z){const _e={};for(const Xe of P)if(es(b,T,Xe)&&!z[Xi(Xe)]){const en=new Wn([],{});_e[Xi(Xe)]=en}return{...z,..._e}}function Rs(b,R){const T={};T[fn]=R;for(const P of b)if(""===P.path&&Xi(P)!==fn){const z=new Wn([],{});T[Xi(P)]=z}return T}function es(b,R,T){return(!(b.hasChildren()||R.length>0)||"full"!==T.pathMatch)&&""===T.path}class Wo{constructor(R,T,P,z,_e,Xe,en){this.injector=R,this.configLoader=T,this.rootComponentType=P,this.config=z,this.urlTree=_e,this.paramsInheritanceStrategy=Xe,this.urlSerializer=en,this.allowRedirects=!0,this.applyRedirects=new $s(this.urlSerializer,this.urlTree)}noMatchError(R){return new a.vHH(4002,!1)}recognize(){const R=gs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,fn).pipe(it(T=>{if(T instanceof Jo)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof cs?this.noMatchError(T):T}),(0,he.U)(T=>{const P=new Q([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fn,this.rootComponentType,null,{}),z=new Pr(P,T),_e=new N("",z),Xe=function Ct(b,R,T=null,P=null){return ht(ot(b),R,T,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Xe.queryParams=this.urlTree.queryParams,_e.url=this.urlSerializer.serialize(Xe),this.inheritParamsAndData(_e._root),{state:_e,tree:Xe}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,fn).pipe(it(P=>{throw P instanceof cs?this.noMatchError(P):P}))}inheritParamsAndData(R){const T=R.value,P=q(T,this.paramsInheritanceStrategy);T.params=Object.freeze(P.params),T.data=Object.freeze(P.data),R.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(R,T,P,z){return 0===P.segments.length&&P.hasChildren()?this.processChildren(R,T,P):this.processSegment(R,T,P,P.segments,z,!0)}processChildren(R,T,P){const z=[];for(const _e of Object.keys(P.children))"primary"===_e?z.unshift(_e):z.push(_e);return(0,Ne.D)(z).pipe((0,gn.b)(_e=>{const Xe=P.children[_e],en=function Ao(b,R){const T=b.filter(P=>Xi(P)===R);return T.push(...b.filter(P=>Xi(P)!==R)),T}(T,_e);return this.processSegmentGroup(R,en,Xe,_e)}),(0,Pt.R)((_e,Xe)=>(_e.push(...Xe),_e)),(0,Ue.d)(null),function ie(b,R){const T=arguments.length>=2;return P=>P.pipe(b?(0,Lt.h)((z,_e)=>b(z,_e,P)):W.y,ue(1),T?(0,Ue.d)(R):(0,G.T)(()=>new je.K))}(),(0,Ge.z)(_e=>{if(null===_e)return zi(P);const Xe=ol(_e);return function il(b){b.sort((R,T)=>R.value.outlet===fn?-1:T.value.outlet===fn?1:R.value.outlet.localeCompare(T.value.outlet))}(Xe),(0,Ee.of)(Xe)}))}processSegment(R,T,P,z,_e,Xe){return(0,Ne.D)(T).pipe((0,gn.b)(en=>this.processSegmentAgainstRoute(en._injector??R,T,en,P,z,_e,Xe).pipe(it(Zt=>{if(Zt instanceof cs)return(0,Ee.of)(null);throw Zt}))),(0,qt.P)(en=>!!en),it(en=>{if(Na(en))return function Ps(b,R,T){return 0===R.length&&!b.children[T]}(P,z,_e)?(0,Ee.of)([]):zi(P);throw en}))}processSegmentAgainstRoute(R,T,P,z,_e,Xe,en){return function ma(b,R,T,P){return!!(Xi(b)===P||P!==fn&&es(R,T,b))&&("**"===b.path||ws(R,b,T).matched)}(P,z,_e,Xe)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(R,z,P,_e,Xe,en):en&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,z,T,P,_e,Xe):zi(z):zi(z)}expandSegmentAgainstRouteUsingRedirect(R,T,P,z,_e,Xe){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,P,z,Xe):this.expandRegularSegmentAgainstRouteUsingRedirect(R,T,P,z,_e,Xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,T,P,z){const _e=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Gi(_e):this.applyRedirects.lineralizeSegments(P,_e).pipe((0,Ge.z)(Xe=>{const en=new Wn(Xe,{});return this.processSegment(R,T,en,Xe,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,T,P,z,_e,Xe){const{matched:en,consumedSegments:Zt,remainingSegments:nr,positionalParamSegments:oi}=ws(T,z,_e);if(!en)return zi(T);const io=this.applyRedirects.applyRedirectCommands(Zt,z.redirectTo,oi);return z.redirectTo.startsWith("/")?Gi(io):this.applyRedirects.lineralizeSegments(z,io).pipe((0,Ge.z)(pi=>this.processSegment(R,P,T,pi.concat(nr),Xe,!1)))}matchSegmentAgainstRoute(R,T,P,z,_e,Xe){let en;if("**"===P.path){const Zt=z.length>0?xr(z).parameters:{},nr=new Q(z,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ka(P),Xi(P),P.component??P._loadedComponent??null,P,ts(P));en=(0,Ee.of)({snapshot:nr,consumedSegments:[],remainingSegments:[]}),T.children={}}else en=As(T,P,z,R).pipe((0,he.U)(({matched:Zt,consumedSegments:nr,remainingSegments:oi,parameters:io})=>Zt?{snapshot:new Q(nr,io,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ka(P),Xi(P),P.component??P._loadedComponent??null,P,ts(P)),consumedSegments:nr,remainingSegments:oi}:null));return en.pipe((0,Fe.w)(Zt=>null===Zt?zi(T):this.getChildConfig(R=P._injector??R,P,z).pipe((0,Fe.w)(({routes:nr})=>{const oi=P._loadedInjector??R,{snapshot:io,consumedSegments:pi,remainingSegments:vs}=Zt,{segmentGroup:Ba,slicedSegments:Ua}=gs(T,pi,vs,nr);if(0===Ua.length&&Ba.hasChildren())return this.processChildren(oi,nr,Ba).pipe((0,he.U)($a=>null===$a?null:[new Pr(io,$a)]));if(0===nr.length&&0===Ua.length)return(0,Ee.of)([new Pr(io,[])]);const Rl=Xi(P)===_e;return this.processSegment(oi,nr,Ba,Ua,Rl?fn:_e,!0).pipe((0,he.U)($a=>[new Pr(io,$a)]))}))))}getChildConfig(R,T,P){return T.children?(0,Ee.of)({routes:T.children,injector:R}):T.loadChildren?void 0!==T._loadedRoutes?(0,Ee.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function ls(b,R,T,P){const z=R.canLoad;if(void 0===z||0===z.length)return(0,Ee.of)(!0);const _e=z.map(Xe=>{const en=ao(Xe,b);return Wt(function ia(b){return b&&wo(b.canLoad)}(en)?en.canLoad(R,T):b.runInContext(()=>en(R,T)))});return(0,Ee.of)(_e).pipe(X(),no())}(R,T,P).pipe((0,Ge.z)(z=>z?this.configLoader.loadChildren(R,T).pipe((0,It.b)(_e=>{T._loadedRoutes=_e.routes,T._loadedInjector=_e.injector})):function oa(b){return(0,Be._)(rr(!1,3))}())):(0,Ee.of)({routes:[],injector:R})}}function To(b){const R=b.value.routeConfig;return R&&""===R.path}function ol(b){const R=[],T=new Set;for(const P of b){if(!To(P)){R.push(P);continue}const z=R.find(_e=>P.value.routeConfig===_e.value.routeConfig);void 0!==z?(z.children.push(...P.children),T.add(z)):R.push(P)}for(const P of T){const z=ol(P.children);R.push(new Pr(P.value,z))}return R.filter(P=>!T.has(P))}function ka(b){return b.data||{}}function ts(b){return b.resolve||{}}function la(b){return"string"==typeof b.title||null===b.title}function w(b){return(0,Fe.w)(R=>{const T=b(R);return T?(0,Ne.D)(T).pipe((0,he.U)(()=>R)):(0,Ee.of)(R)})}const ae=new a.OlP("ROUTES");let L=(()=>{class b{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Ee.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const P=Wt(T.loadComponent()).pipe((0,he.U)(Jt),(0,It.b)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=_e}),(0,ut.x)(()=>{this.componentLoaders.delete(T)})),z=new De(P,()=>new Te.x).pipe(Et());return this.componentLoaders.set(T,z),z}loadChildren(T,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Ee.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const _e=function J(b,R,T,P){return Wt(b.loadChildren()).pipe((0,he.U)(Jt),(0,Ge.z)(z=>z instanceof a.YKP||Array.isArray(z)?(0,Ee.of)(z):(0,Ne.D)(R.compileModuleAsync(z))),(0,he.U)(z=>{P&&P(b);let _e,Xe,en=!1;return Array.isArray(z)?(Xe=z,!0):(_e=z.create(T).injector,Xe=_e.get(ae,[],{optional:!0,self:!0}).flat()),{routes:Xe.map(ss),injector:_e}}))}(P,this.compiler,T,this.onLoadEndListener).pipe((0,ut.x)(()=>{this.childrenLoaders.delete(P)})),Xe=new De(_e,()=>new Te.x).pipe(Et());return this.childrenLoaders.set(P,Xe),Xe}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function Jt(b){return function et(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let pn=(()=>{class b{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te.x,this.transitionAbortSubject=new Te.x,this.configLoader=(0,a.f3M)(L),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(di),this.rootContexts=(0,a.f3M)($r),this.inputBindingEnabled=null!==(0,a.f3M)(bt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new or(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new Sn(z))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:P})}setupNavigations(T,P,z){return this.transitions=new pe.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:T.urlHandlingStrategy.extract(P),urlAfterRedirects:T.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jr,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Lt.h)(_e=>0!==_e.id),(0,he.U)(_e=>({..._e,extractedUrl:T.urlHandlingStrategy.extract(_e.rawUrl)})),(0,Fe.w)(_e=>{this.currentTransition=_e;let Xe=!1,en=!1;return(0,Ee.of)(_e).pipe((0,It.b)(Zt=>{this.currentNavigation={id:Zt.id,initialUrl:Zt.rawUrl,extractedUrl:Zt.extractedUrl,trigger:Zt.source,extras:Zt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(Zt=>{const nr=Zt.currentBrowserUrl.toString(),oi=!T.navigated||Zt.extractedUrl.toString()!==nr||nr!==Zt.currentUrlTree.toString();if(!oi&&"reload"!==(Zt.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const pi="";return this.events.next(new At(Zt.id,this.urlSerializer.serialize(Zt.rawUrl),pi,0)),Zt.resolve(null),Je.E}if(T.urlHandlingStrategy.shouldProcessUrl(Zt.rawUrl))return(0,Ee.of)(Zt).pipe((0,Fe.w)(pi=>{const vs=this.transitions?.getValue();return this.events.next(new we(pi.id,this.urlSerializer.serialize(pi.extractedUrl),pi.source,pi.restoredState)),vs!==this.transitions?.getValue()?Je.E:Promise.resolve(pi)}),function sl(b,R,T,P,z,_e){return(0,Ge.z)(Xe=>function sa(b,R,T,P,z,_e,Xe="emptyOnly"){return new Wo(b,R,T,P,z,Xe,_e).recognize()}(b,R,T,P,Xe.extractedUrl,z,_e).pipe((0,he.U)(({state:en,tree:Zt})=>({...Xe,targetSnapshot:en,urlAfterRedirects:Zt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,It.b)(pi=>{_e.targetSnapshot=pi.targetSnapshot,_e.urlAfterRedirects=pi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:pi.urlAfterRedirects};const vs=new vt(pi.id,this.urlSerializer.serialize(pi.extractedUrl),this.urlSerializer.serialize(pi.urlAfterRedirects),pi.targetSnapshot);this.events.next(vs)}));if(oi&&T.urlHandlingStrategy.shouldProcessUrl(Zt.currentRawUrl)){const{id:pi,extractedUrl:vs,source:Ba,restoredState:Ua,extras:Rl}=Zt,$a=new we(pi,this.urlSerializer.serialize(vs),Ba,Ua);this.events.next($a);const pc=wi(0,this.rootComponentType).snapshot;return this.currentTransition=_e={...Zt,targetSnapshot:pc,urlAfterRedirects:vs,extras:{...Rl,skipLocationChange:!1,replaceUrl:!1}},(0,Ee.of)(_e)}{const pi="";return this.events.next(new At(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),pi,1)),Zt.resolve(null),Je.E}}),(0,It.b)(Zt=>{const nr=new un(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(nr)}),(0,he.U)(Zt=>(this.currentTransition=_e={...Zt,guards:Ki(Zt.targetSnapshot,Zt.currentSnapshot,this.rootContexts)},_e)),function O(b,R){return(0,Ge.z)(T=>{const{targetSnapshot:P,currentSnapshot:z,guards:{canActivateChecks:_e,canDeactivateChecks:Xe}}=T;return 0===Xe.length&&0===_e.length?(0,Ee.of)({...T,guardsResult:!0}):function Ie(b,R,T,P){return(0,Ne.D)(b).pipe((0,Ge.z)(z=>function Uo(b,R,T,P,z){const _e=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!_e||0===_e.length)return(0,Ee.of)(!0);const Xe=_e.map(en=>{const Zt=as(R)??z,nr=ao(en,Zt);return Wt(function pa(b){return b&&wo(b.canDeactivate)}(nr)?nr.canDeactivate(b,R,T,P):Zt.runInContext(()=>nr(b,R,T,P))).pipe((0,qt.P)())});return(0,Ee.of)(Xe).pipe(X())}(z.component,z.route,T,R,P)),(0,qt.P)(z=>!0!==z,!0))}(Xe,P,z,b).pipe((0,Ge.z)(en=>en&&function xa(b){return"boolean"==typeof b}(en)?function pt(b,R,T,P){return(0,Ne.D)(R).pipe((0,gn.b)(z=>(0,ye.z)(function Fr(b,R){return null!==b&&R&&R(new Sr(b)),(0,Ee.of)(!0)}(z.route.parent,P),function Xn(b,R){return null!==b&&R&&R(new Tr(b)),(0,Ee.of)(!0)}(z.route,P),function Io(b,R,T){const P=R[R.length-1],_e=R.slice(0,R.length-1).reverse().map(Xe=>function Fs(b){const R=b.routeConfig?b.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:b,guards:R}:null}(Xe)).filter(Xe=>null!==Xe).map(Xe=>Me(()=>{const en=Xe.guards.map(Zt=>{const nr=as(Xe.node)??T,oi=ao(Zt,nr);return Wt(function Oo(b){return b&&wo(b.canActivateChild)}(oi)?oi.canActivateChild(P,b):nr.runInContext(()=>oi(P,b))).pipe((0,qt.P)())});return(0,Ee.of)(en).pipe(X())}));return(0,Ee.of)(_e).pipe(X())}(b,z.path,T),function vo(b,R,T){const P=R.routeConfig?R.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Ee.of)(!0);const z=P.map(_e=>Me(()=>{const Xe=as(R)??T,en=ao(_e,Xe);return Wt(function Ds(b){return b&&wo(b.canActivate)}(en)?en.canActivate(R,b):Xe.runInContext(()=>en(R,b))).pipe((0,qt.P)())}));return(0,Ee.of)(z).pipe(X())}(b,z.route,T))),(0,qt.P)(z=>!0!==z,!0))}(P,_e,b,R):(0,Ee.of)(en)),(0,he.U)(en=>({...T,guardsResult:en})))})}(this.environmentInjector,Zt=>this.events.next(Zt)),(0,It.b)(Zt=>{if(_e.guardsResult=Zt.guardsResult,dr(Zt.guardsResult))throw $n(0,Zt.guardsResult);const nr=new _n(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot,!!Zt.guardsResult);this.events.next(nr)}),(0,Lt.h)(Zt=>!!Zt.guardsResult||(this.cancelNavigationTransition(Zt,"",3),!1)),w(Zt=>{if(Zt.guards.canActivateChecks.length)return(0,Ee.of)(Zt).pipe((0,It.b)(nr=>{const oi=new An(nr.id,this.urlSerializer.serialize(nr.extractedUrl),this.urlSerializer.serialize(nr.urlAfterRedirects),nr.targetSnapshot);this.events.next(oi)}),(0,Fe.w)(nr=>{let oi=!1;return(0,Ee.of)(nr).pipe(function zs(b,R){return(0,Ge.z)(T=>{const{targetSnapshot:P,guards:{canActivateChecks:z}}=T;if(!z.length)return(0,Ee.of)(T);let _e=0;return(0,Ne.D)(z).pipe((0,gn.b)(Xe=>function al(b,R,T,P){const z=b.routeConfig,_e=b._resolve;return void 0!==z?.title&&!la(z)&&(_e[Rn]=z.title),function ll(b,R,T,P){const z=function ti(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===z.length)return(0,Ee.of)({});const _e={};return(0,Ne.D)(z).pipe((0,Ge.z)(Xe=>function Gs(b,R,T,P){const z=as(R)??P,_e=ao(b,z);return Wt(_e.resolve?_e.resolve(R,T):z.runInContext(()=>_e(R,T)))}(b[Xe],R,T,P).pipe((0,qt.P)(),(0,It.b)(en=>{_e[Xe]=en}))),ue(1),function Ae(b){return(0,he.U)(()=>b)}(_e),it(Xe=>Na(Xe)?Je.E:(0,Be._)(Xe)))}(_e,b,R,P).pipe((0,he.U)(Xe=>(b._resolvedData=Xe,b.data=q(b,T).resolve,z&&la(z)&&(b.data[Rn]=z.title),null)))}(Xe.route,P,b,R)),(0,It.b)(()=>_e++),ue(1),(0,Ge.z)(Xe=>_e===z.length?(0,Ee.of)(T):Je.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,It.b)({next:()=>oi=!0,complete:()=>{oi||this.cancelNavigationTransition(nr,"",2)}}))}),(0,It.b)(nr=>{const oi=new Tn(nr.id,this.urlSerializer.serialize(nr.extractedUrl),this.urlSerializer.serialize(nr.urlAfterRedirects),nr.targetSnapshot);this.events.next(oi)}))}),w(Zt=>{const nr=oi=>{const io=[];oi.routeConfig?.loadComponent&&!oi.routeConfig._loadedComponent&&io.push(this.configLoader.loadComponent(oi.routeConfig).pipe((0,It.b)(pi=>{oi.component=pi}),(0,he.U)(()=>{})));for(const pi of oi.children)io.push(...nr(pi));return io};return(0,Le.a)(nr(Zt.targetSnapshot.root)).pipe((0,Ue.d)(),(0,st.q)(1))}),w(()=>this.afterPreactivation()),(0,he.U)(Zt=>{const nr=function Kt(b,R,T){const P=rn(b,R._root,T?T._root:void 0);return new $i(P,R)}(T.routeReuseStrategy,Zt.targetSnapshot,Zt.currentRouterState);return this.currentTransition=_e={...Zt,targetRouterState:nr},_e}),(0,It.b)(()=>{this.events.next(new Li)}),((b,R,T,P)=>(0,he.U)(z=>(new Ji(R,z.targetRouterState,z.currentRouterState,T,P).activate(b),z)))(this.rootContexts,T.routeReuseStrategy,Zt=>this.events.next(Zt),this.inputBindingEnabled),(0,st.q)(1),(0,It.b)({next:Zt=>{Xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nt(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects))),T.titleStrategy?.updateTitle(Zt.targetRouterState.snapshot),Zt.resolve(!0)},complete:()=>{Xe=!0}}),(0,Oe.R)(this.transitionAbortSubject.pipe((0,It.b)(Zt=>{throw Zt}))),(0,ut.x)(()=>{Xe||en||this.cancelNavigationTransition(_e,"",1),this.currentNavigation?.id===_e.id&&(this.currentNavigation=null)}),it(Zt=>{if(en=!0,ri(Zt))this.events.next(new $e(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Zt.message,Zt.cancellationCode)),function Bn(b){return ri(b)&&dr(b.url)}(Zt)?this.events.next(new bo(Zt.url)):_e.resolve(!1);else{this.events.next(new Ot(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Zt,_e.targetSnapshot??void 0));try{_e.resolve(T.errorHandler(Zt))}catch(nr){_e.reject(nr)}}return Je.E}))}))}cancelNavigationTransition(T,P,z){const _e=new $e(T.id,this.urlSerializer.serialize(T.extractedUrl),P,z);this.events.next(_e),T.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function sr(b){return b!==jr}let si=(()=>{class b{buildTitle(T){let P,z=T.root;for(;void 0!==z;)P=this.getResolvedTitleForRoute(z)??P,z=z.children.find(_e=>_e.outlet===fn);return P}getResolvedTitleForRoute(T){return T.data[Rn]}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:function(){return(0,a.f3M)(Vi)},providedIn:"root"})}return b})(),Vi=(()=>{class b extends si{constructor(T){super(),this.title=T}updateTitle(T){const P=this.buildTitle(T);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||b)(a.LFG(xt.Dx))};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),ii=(()=>{class b{static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:function(){return(0,a.f3M)(Bi)},providedIn:"root"})}return b})();class Qr{shouldDetach(R){return!1}store(R,T){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,T){return R.routeConfig===T.routeConfig}}let Bi=(()=>{class b extends Qr{static#e=this.\u0275fac=function(){let T;return function(z){return(T||(T=a.n5z(b)))(z||b)}}();static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const Ri=new a.OlP("",{providedIn:"root",factory:()=>({})});let ro=(()=>{class b{static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:function(){return(0,a.f3M)($o)},providedIn:"root"})}return b})(),$o=(()=>{class b{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,P){return T}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();var co=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(co||{});function Ms(b,R){b.events.pipe((0,Lt.h)(T=>T instanceof nt||T instanceof $e||T instanceof Ot||T instanceof At),(0,he.U)(T=>T instanceof nt||T instanceof At?co.COMPLETE:T instanceof $e&&(0===T.code||1===T.code)?co.REDIRECTING:co.FAILED),(0,Lt.h)(T=>T!==co.REDIRECTING),(0,st.q)(1)).subscribe(()=>{R()})}function V(b){throw b}function _(b,R,T){return R.parse("/")}const I={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let te=(()=>{class b{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new Te.x,this.options=(0,a.f3M)(Ri,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||V,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(ro),this.routeReuseStrategy=(0,a.f3M)(ii),this.titleStrategy=(0,a.f3M)(si),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(ae,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(pn),this.urlSerializer=(0,a.f3M)(di),this.location=(0,a.f3M)(Re.Ye),this.componentInputBindingEnabled=!!(0,a.f3M)(bt,{optional:!0}),this.eventsSubscription=new He.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:z}=this.navigationTransitions;if(null===z)return void(mt(P)&&this._events.next(P));if(P instanceof we)sr(z.source)&&(this.browserUrlTree=z.extractedUrl);else if(P instanceof At)this.rawUrlTree=z.rawUrl;else if(P instanceof vt){if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const _e=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(_e,z)}this.browserUrlTree=z.urlAfterRedirects}}else if(P instanceof Li)this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects);else if(P instanceof $e)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(z);else if(P instanceof bo){const _e=this.urlHandlingStrategy.merge(P.url,z.currentRawUrl),Xe={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sr(z.source)};this.scheduleNavigation(_e,jr,null,Xe,{resolve:z.resolve,reject:z.reject,promise:z.promise})}P instanceof Ot&&this.restoreHistory(z,!0),P instanceof nt&&(this.navigated=!0),mt(P)&&this._events.next(P)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jr,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const P="popstate"===T.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,P,T.state)},0)}))}navigateToSyncWithBrowser(T,P,z){const _e={replaceUrl:!0},Xe=z?.navigationId?z:null;if(z){const Zt={...z};delete Zt.navigationId,delete Zt.\u0275routerPageId,0!==Object.keys(Zt).length&&(_e.state=Zt)}const en=this.parseUrl(T);this.scheduleNavigation(en,P,Xe,_e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(ss),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,P={}){const{relativeTo:z,queryParams:_e,fragment:Xe,queryParamsHandling:en,preserveFragment:Zt}=P,nr=Zt?this.currentUrlTree.fragment:Xe;let io,oi=null;switch(en){case"merge":oi={...this.currentUrlTree.queryParams,..._e};break;case"preserve":oi=this.currentUrlTree.queryParams;break;default:oi=_e||null}null!==oi&&(oi=this.removeEmptyProps(oi));try{io=ot(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),io=this.currentUrlTree.root}return ht(io,T,oi,nr??null)}navigateByUrl(T,P={skipLocationChange:!1}){const z=dr(T)?T:this.parseUrl(T),_e=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(_e,jr,null,P)}navigate(T,P={skipLocationChange:!1}){return function Se(b){for(let R=0;R<b.length;R++)if(null==b[R])throw new a.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,P),P)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let P;try{P=this.urlSerializer.parse(T)}catch(z){P=this.malformedUriErrorHandler(z,this.urlSerializer,T)}return P}isActive(T,P){let z;if(z=!0===P?{...I}:!1===P?{...x}:P,dr(T))return Ut(this.currentUrlTree,T,z);const _e=this.parseUrl(T);return Ut(this.currentUrlTree,_e,z)}removeEmptyProps(T){return Object.keys(T).reduce((P,z)=>{const _e=T[z];return null!=_e&&(P[z]=_e),P},{})}scheduleNavigation(T,P,z,_e,Xe){if(this.disposed)return Promise.resolve(!1);let en,Zt,nr;Xe?(en=Xe.resolve,Zt=Xe.reject,nr=Xe.promise):nr=new Promise((io,pi)=>{en=io,Zt=pi});const oi=this.pendingTasks.add();return Ms(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(oi))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:_e,resolve:en,reject:Zt,promise:nr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nr.catch(io=>Promise.reject(io))}setBrowserUrl(T,P){const z=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(z)||P.extras.replaceUrl){const Xe={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(z,"",Xe)}else{const _e={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(z,"",_e)}}restoreHistory(T,P=!1){if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-this.browserPageId;0!==_e?this.location.historyGo(_e):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===_e&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,P){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:P}:{navigationId:T}}static#e=this.\u0275fac=function(P){return new(P||b)};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function mt(b){return!(b instanceof Li||b instanceof bo)}let yt=(()=>{class b{constructor(T,P,z,_e,Xe,en){this.router=T,this.route=P,this.tabIndexAttribute=z,this.renderer=_e,this.el=Xe,this.locationStrategy=en,this.href=null,this.commands=null,this.onChanges=new Te.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Zt=Xe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Zt||"area"===Zt,this.isAnchorElement?this.subscription=T.events.subscribe(nr=>{nr instanceof nt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,P,z,_e,Xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||P||z||_e||Xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,P){const z=this.renderer,_e=this.el.nativeElement;null!==P?z.setAttribute(_e,T,P):z.removeAttribute(_e,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||b)(a.Y36(te),a.Y36(mo),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Re.S$))};static#t=this.\u0275dir=a.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,z){1&P&&a.NdJ("click",function(Xe){return z.onClick(Xe.button,Xe.ctrlKey,Xe.shiftKey,Xe.altKey,Xe.metaKey)}),2&P&&a.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return b})();class Zn{}let Yr=(()=>{class b{constructor(T,P,z,_e,Xe){this.router=T,this.injector=z,this.preloadingStrategy=_e,this.loader=Xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Lt.h)(T=>T instanceof nt),(0,gn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,P){const z=[];for(const _e of P){_e.providers&&!_e._injector&&(_e._injector=(0,a.MMx)(_e.providers,T,`Route: ${_e.path}`));const Xe=_e._injector??T,en=_e._loadedInjector??Xe;(_e.loadChildren&&!_e._loadedRoutes&&void 0===_e.canLoad||_e.loadComponent&&!_e._loadedComponent)&&z.push(this.preloadConfig(Xe,_e)),(_e.children||_e._loadedRoutes)&&z.push(this.processRoutes(en,_e.children??_e._loadedRoutes))}return(0,Ne.D)(z).pipe((0,Tt.J)())}preloadConfig(T,P){return this.preloadingStrategy.preload(P,()=>{let z;z=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(T,P):(0,Ee.of)(null);const _e=z.pipe((0,Ge.z)(Xe=>null===Xe?(0,Ee.of)(void 0):(P._loadedRoutes=Xe.routes,P._loadedInjector=Xe.injector,this.processRoutes(Xe.injector??T,Xe.routes))));if(P.loadComponent&&!P._loadedComponent){const Xe=this.loader.loadComponent(P);return(0,Ne.D)([_e,Xe]).pipe((0,Tt.J)())}return _e})}static#e=this.\u0275fac=function(P){return new(P||b)(a.LFG(te),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Zn),a.LFG(L))};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const wr=new a.OlP("");let Gr=(()=>{class b{constructor(T,P,z,_e,Xe={}){this.urlSerializer=T,this.transitions=P,this.viewportScroller=z,this.zone=_e,this.options=Xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Xe.scrollPositionRestoration=Xe.scrollPositionRestoration||"disabled",Xe.anchorScrolling=Xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof we?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof nt?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof At&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof mi&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mi(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac})}return b})();function Pi(b,R){return{\u0275kind:b,\u0275providers:R}}function Er(){const b=(0,a.f3M)(a.zs3);return R=>{const T=b.get(a.z2F);if(R!==T.components[0])return;const P=b.get(te),z=b.get(Yo);1===b.get(ms)&&P.initialNavigation(),b.get(Ko,null,a.XFs.Optional)?.setUpPreloading(),b.get(wr,null,a.XFs.Optional)?.init(),P.resetRootComponentType(T.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Yo=new a.OlP("",{factory:()=>new Te.x}),ms=new a.OlP("",{providedIn:"root",factory:()=>1}),Ko=new a.OlP("");function us(b){return Pi(0,[{provide:Ko,useExisting:Yr},{provide:Zn,useExisting:b}])}const dn=new a.OlP("ROUTER_FORROOT_GUARD"),Br=[Re.Ye,{provide:di,useClass:Dr},te,$r,{provide:mo,useFactory:function qi(b){return b.routerState.root},deps:[te]},L,[]];function jo(){return new a.PXZ("Router",te)}let xs=(()=>{class b{constructor(T){}static forRoot(T,P){return{ngModule:b,providers:[Br,[],{provide:ae,multi:!0,useValue:T},{provide:dn,useFactory:Zi,deps:[[te,new a.FiY,new a.tp0]]},{provide:Ri,useValue:P||{}},P?.useHash?{provide:Re.S$,useClass:Re.Do}:{provide:Re.S$,useClass:Re.b0},{provide:wr,useFactory:()=>{const b=(0,a.f3M)(Re.EM),R=(0,a.f3M)(a.R0b),T=(0,a.f3M)(Ri),P=(0,a.f3M)(pn),z=(0,a.f3M)(di);return T.scrollOffset&&b.setOffset(T.scrollOffset),new Gr(z,P,b,R,T)}},P?.preloadingStrategy?us(P.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:jo},P?.initialNavigation?ns(P):[],P?.bindToComponentInputs?Pi(8,[St,{provide:bt,useExisting:St}]).\u0275providers:[],[{provide:_o,useFactory:Er},{provide:a.tb,multi:!0,useExisting:_o}]]}}static forChild(T){return{ngModule:b,providers:[{provide:ae,multi:!0,useValue:T}]}}static#e=this.\u0275fac=function(P){return new(P||b)(a.LFG(dn,8))};static#t=this.\u0275mod=a.oAB({type:b});static#n=this.\u0275inj=a.cJS({})}return b})();function Zi(b){return"guarded"}function ns(b){return["disabled"===b.initialNavigation?Pi(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const R=(0,a.f3M)(te);return()=>{R.setUpLocationChangeListener()}}},{provide:ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?Pi(2,[{provide:ms,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:R=>{const T=R.get(Re.V_,Promise.resolve());return()=>T.then(()=>new Promise(P=>{const z=R.get(te),_e=R.get(Yo);Ms(z,()=>{P(!0)}),R.get(pn).afterPreactivation=()=>(P(!0),_e.closed?(0,Ee.of)(void 0):_e),z.initialNavigation()}))}}]).\u0275providers:[]]}const _o=new a.OlP("")},3106:(bn,gt,A)=>{"use strict";A.d(gt,{Z:()=>Je});var a=A(9058),$=A(4537),se=A(534),M=A(7879);class Ne{constructor(lt,xe){this._delegate=lt,this.firebase=xe,(0,se._addComponent)(lt,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this._delegate.automaticDataCollectionEnabled=lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(lt=>{this._delegate.checkDestroyed(),lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(lt,xe=se._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(lt);return!De.isInitialized()&&"EXPLICIT"===(null===(Et=De.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&De.initialize(),De.getImmediate({identifier:xe})}_removeServiceInstance(lt,xe=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(lt).clearInstance(xe)}_addComponent(lt){(0,se._addComponent)(this._delegate,lt)}_addOrOverwriteComponent(lt){(0,se._addOrOverwriteComponent)(this._delegate,lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function je(){const He=function Le(He){const lt={},xe={__esModule:!0,initializeApp:function Te(st,Ze={}){const Lt=se.initializeApp(st,Ze);if((0,a.r3)(lt,Lt.name))return lt[Lt.name];const Ge=new He(Lt,xe);return lt[Lt.name]=Ge,Ge},app:De,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function he(st){const Ze=st.name,Lt=Ze.replace("-compat","");if(se._registerComponent(st)&&"PUBLIC"===st.type){const Ge=(qt=De())=>{if("function"!=typeof qt[Lt])throw pe.create("invalid-app-argument",{appName:Ze});return qt[Lt]()};void 0!==st.serviceProps&&(0,a.ZB)(Ge,st.serviceProps),xe[Lt]=Ge,He.prototype[Lt]=function(...qt){return this._getService.bind(this,Ze).apply(this,st.multipleInstances?qt:[])}}return"PUBLIC"===st.type?xe[Lt]:null},removeApp:function Et(st){delete lt[st]},useAsService:function Fe(st,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:se}};function De(st){if(!(0,a.r3)(lt,st=st||se._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:st});return lt[st]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function Re(){return Object.keys(lt).map(st=>lt[st])}}),De.App=He,xe}(Ne);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function lt(xe){(0,a.ZB)(He,xe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),He}(),ne=new M.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=ye;!function Be(He){(0,se.registerVersion)("@firebase/app-compat","0.2.35",He)}()},534:(bn,gt,A)=>{"use strict";A.r(gt),A.d(gt,{FirebaseError:()=>M.ZR,SDK_VERSION:()=>Dn,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>mr,_addOrOverwriteComponent:()=>ni,_apps:()=>Kn,_clearComponents:()=>Fn,_components:()=>Wn,_getProvider:()=>sn,_isFirebaseApp:()=>Dr,_isFirebaseServerApp:()=>Nr,_registerComponent:()=>Ci,_removeServiceInstance:()=>di,_serverApps:()=>Cr,deleteApp:()=>hi,getApp:()=>Kr,getApps:()=>Fi,initializeApp:()=>ai,initializeServerApp:()=>Ti,onLog:()=>Ce,registerVersion:()=>fe,setLogLevel:()=>ge});var a=A(5861),$=A(4537),se=A(7879),M=A(9058);const Ne=(oe,ee)=>ee.some(j=>oe instanceof j);let Ee,pe;const ye=new WeakMap,ne=new WeakMap,Me=new WeakMap,Ve=new WeakMap,Be=new WeakMap;let lt={get(oe,ee,j){if(oe instanceof IDBTransaction){if("done"===ee)return ne.get(oe);if("objectStoreNames"===ee)return oe.objectStoreNames||Me.get(oe);if("store"===ee)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return Te(oe[ee])},set:(oe,ee,j)=>(oe[ee]=j,!0),has:(oe,ee)=>oe instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in oe};function De(oe){return"function"==typeof oe?function Et(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ee){return oe.apply(Re(this),ee),Te(ye.get(this))}:function(...ee){return Te(oe.apply(Re(this),ee))}:function(ee,...j){const le=oe.call(Re(this),ee,...j);return Me.set(le,ee.sort?ee.sort():[ee]),Te(le)}}(oe):(oe instanceof IDBTransaction&&function He(oe){if(ne.has(oe))return;const ee=new Promise((j,le)=>{const Qe=()=>{oe.removeEventListener("complete",Pe),oe.removeEventListener("error",ft),oe.removeEventListener("abort",ft)},Pe=()=>{j(),Qe()},ft=()=>{le(oe.error||new DOMException("AbortError","AbortError")),Qe()};oe.addEventListener("complete",Pe),oe.addEventListener("error",ft),oe.addEventListener("abort",ft)});ne.set(oe,ee)}(oe),Ne(oe,function Le(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,lt):oe)}function Te(oe){if(oe instanceof IDBRequest)return function Je(oe){const ee=new Promise((j,le)=>{const Qe=()=>{oe.removeEventListener("success",Pe),oe.removeEventListener("error",ft)},Pe=()=>{j(Te(oe.result)),Qe()},ft=()=>{le(oe.error),Qe()};oe.addEventListener("success",Pe),oe.addEventListener("error",ft)});return ee.then(j=>{j instanceof IDBCursor&&ye.set(j,oe)}).catch(()=>{}),Be.set(ee,oe),ee}(oe);if(Ve.has(oe))return Ve.get(oe);const ee=De(oe);return ee!==oe&&(Ve.set(oe,ee),Be.set(ee,oe)),ee}const Re=oe=>Be.get(oe),st=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Lt=new Map;function Ge(oe,ee){if(!(oe instanceof IDBDatabase)||ee in oe||"string"!=typeof ee)return;if(Lt.get(ee))return Lt.get(ee);const j=ee.replace(/FromIndex$/,""),le=ee!==j,Qe=Ze.includes(j);if(!(j in(le?IDBIndex:IDBObjectStore).prototype)||!Qe&&!st.includes(j))return;const Pe=function(){var ft=(0,a.Z)(function*($t,...In){const Jn=this.transaction($t,Qe?"readwrite":"readonly");let hr=Jn.store;return le&&(hr=hr.index(In.shift())),(yield Promise.all([hr[j](...In),Qe&&Jn.done]))[0]});return function(In){return ft.apply(this,arguments)}}();return Lt.set(ee,Pe),Pe}!function xe(oe){lt=oe(lt)}(oe=>({...oe,get:(ee,j,le)=>Ge(ee,j)||oe.get(ee,j,le),has:(ee,j)=>!!Ge(ee,j)||oe.has(ee,j)}));class qt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(j=>{if(function gn(oe){const ee=oe.getComponent();return"VERSION"===ee?.type}(j)){const le=j.getImmediate();return`${le.library}/${le.version}`}return null}).filter(j=>j).join(" ")}}const It="@firebase/app",it="0.10.5",Pt=new se.Yd("@firebase/app"),zn="[DEFAULT]",Gn={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Kn=new Map,Cr=new Map,Wn=new Map;function mr(oe,ee){try{oe.container.addComponent(ee)}catch(j){Pt.debug(`Component ${ee.name} failed to register with FirebaseApp ${oe.name}`,j)}}function ni(oe,ee){oe.container.addOrOverwriteComponent(ee)}function Ci(oe){const ee=oe.name;if(Wn.has(ee))return Pt.debug(`There were multiple attempts to register component ${ee}.`),!1;Wn.set(ee,oe);for(const j of Kn.values())mr(j,oe);for(const j of Cr.values())mr(j,oe);return!0}function sn(oe,ee){const j=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),oe.container.getProvider(ee)}function di(oe,ee,j=zn){sn(oe,ee).clearInstance(j)}function Dr(oe){return void 0!==oe.options}function Nr(oe){return void 0!==oe.settings}function Fn(){Wn.clear()}const qn=new M.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ei{constructor(ee,j,le){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=le,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}class ur extends ei{constructor(ee,j,le,Qe){const Pe=void 0!==j.automaticDataCollectionEnabled&&j.automaticDataCollectionEnabled,ft={name:le,automaticDataCollectionEnabled:Pe};super(void 0!==ee.apiKey?ee:ee.options,ft,Qe),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Pe},j),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,j.releaseOnDeref=void 0,fe(It,it,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ee){this.isDeleted||(this._refCount++,void 0!==ee&&this._finalizationRegistry.register(ee,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){hi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw qn.create("server-app-deleted")}}const Dn="10.12.2";function ai(oe,ee={}){let j=oe;"object"!=typeof ee&&(ee={name:ee});const le=Object.assign({name:zn,automaticDataCollectionEnabled:!1},ee),Qe=le.name;if("string"!=typeof Qe||!Qe)throw qn.create("bad-app-name",{appName:String(Qe)});if(j||(j=(0,M.aH)()),!j)throw qn.create("no-options");const Pe=Kn.get(Qe);if(Pe){if((0,M.vZ)(j,Pe.options)&&(0,M.vZ)(le,Pe.config))return Pe;throw qn.create("duplicate-app",{appName:Qe})}const ft=new $.H0(Qe);for(const In of Wn.values())ft.addComponent(In);const $t=new ei(j,le,ft);return Kn.set(Qe,$t),$t}function Ti(oe,ee){if((0,M.jU)())throw qn.create("invalid-server-app-environment");let j;void 0===ee.automaticDataCollectionEnabled&&(ee.automaticDataCollectionEnabled=!1),j=Dr(oe)?oe.options:oe;const le=Object.assign(Object.assign({},ee),j);if(void 0!==le.releaseOnDeref&&delete le.releaseOnDeref,void 0!==ee.releaseOnDeref&&typeof FinalizationRegistry>"u")throw qn.create("finalization-registry-not-supported",{});const Pe=""+(Jn=JSON.stringify(le),[...Jn].reduce((hr,jr)=>Math.imul(31,hr)+jr.charCodeAt(0)|0,0)),ft=Cr.get(Pe);var Jn;if(ft)return ft.incRefCount(ee.releaseOnDeref),ft;const $t=new $.H0(Pe);for(const Jn of Wn.values())$t.addComponent(Jn);const In=new ur(j,ee,Pe,$t);return Cr.set(Pe,In),In}function Kr(oe=zn){const ee=Kn.get(oe);if(!ee&&oe===zn&&(0,M.aH)())return ai();if(!ee)throw qn.create("no-app",{appName:oe});return ee}function Fi(){return Array.from(Kn.values())}function hi(oe){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(oe){let ee=!1;const j=oe.name;Kn.has(j)?(ee=!0,Kn.delete(j)):Cr.has(j)&&oe.decRefCount()<=0&&(Cr.delete(j),ee=!0),ee&&(yield Promise.all(oe.container.getProviders().map(le=>le.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function fe(oe,ee,j){var le;let Qe=null!==(le=Gn[oe])&&void 0!==le?le:oe;j&&(Qe+=`-${j}`);const Pe=Qe.match(/\s|\//),ft=ee.match(/\s|\//);if(Pe||ft){const $t=[`Unable to register library "${Qe}" with version "${ee}":`];return Pe&&$t.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),Pe&&ft&&$t.push("and"),ft&&$t.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void Pt.warn($t.join(" "))}Ci(new $.wA(`${Qe}-version`,()=>({library:Qe,version:ee}),"VERSION"))}function Ce(oe,ee){if(null!==oe&&"function"!=typeof oe)throw qn.create("invalid-log-argument");(0,se.Am)(oe,ee)}function ge(oe){(0,se.Ub)(oe)}const ve="firebase-heartbeat-database",wt=1,tn="firebase-heartbeat-store";let kn=null;function xn(){return kn||(kn=function he(oe,ee,{blocked:j,upgrade:le,blocking:Qe,terminated:Pe}={}){const ft=indexedDB.open(oe,ee),$t=Te(ft);return le&&ft.addEventListener("upgradeneeded",In=>{le(Te(ft.result),In.oldVersion,In.newVersion,Te(ft.transaction),In)}),j&&ft.addEventListener("blocked",In=>j(In.oldVersion,In.newVersion,In)),$t.then(In=>{Pe&&In.addEventListener("close",()=>Pe()),Qe&&In.addEventListener("versionchange",Jn=>Qe(Jn.oldVersion,Jn.newVersion,Jn))}).catch(()=>{}),$t}(ve,wt,{upgrade:(oe,ee)=>{if(0===ee)try{oe.createObjectStore(tn)}catch(j){console.warn(j)}}}).catch(oe=>{throw qn.create("idb-open",{originalErrorMessage:oe.message})})),kn}function tt(){return(tt=(0,a.Z)(function*(oe){try{const j=(yield xn()).transaction(tn),le=yield j.objectStore(tn).get(Ct(oe));return yield j.done,le}catch(ee){if(ee instanceof M.ZR)Pt.warn(ee.message);else{const j=qn.create("idb-get",{originalErrorMessage:ee?.message});Pt.warn(j.message)}}})).apply(this,arguments)}function Qn(oe,ee){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(oe,ee){try{const le=(yield xn()).transaction(tn,"readwrite");yield le.objectStore(tn).put(ee,Ct(oe)),yield le.done}catch(j){if(j instanceof M.ZR)Pt.warn(j.message);else{const le=qn.create("idb-set",{originalErrorMessage:j?.message});Pt.warn(le.message)}}})).apply(this,arguments)}function Ct(oe){return`${oe.name}!${oe.options.appId}`}class Qt{constructor(ee){this.container=ee,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this._storage=new On(j),this._heartbeatsCachePromise=this._storage.read().then(le=>(this._heartbeatsCache=le,le))}triggerHeartbeat(){var ee=this;return(0,a.Z)(function*(){var j,le;const Pe=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=En();if((null!=(null===(j=ee._heartbeatsCache)||void 0===j?void 0:j.heartbeats)||(ee._heartbeatsCache=yield ee._heartbeatsCachePromise,null!=(null===(le=ee._heartbeatsCache)||void 0===le?void 0:le.heartbeats)))&&ee._heartbeatsCache.lastSentHeartbeatDate!==ft&&!ee._heartbeatsCache.heartbeats.some($t=>$t.date===ft))return ee._heartbeatsCache.heartbeats.push({date:ft,agent:Pe}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter($t=>{const In=new Date($t.date).valueOf();return Date.now()-In<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,a.Z)(function*(){var j;if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null==(null===(j=ee._heartbeatsCache)||void 0===j?void 0:j.heartbeats)||0===ee._heartbeatsCache.heartbeats.length)return"";const le=En(),{heartbeatsToSend:Qe,unsentEntries:Pe}=function wn(oe,ee=1024){const j=[];let le=oe.slice();for(const Qe of oe){const Pe=j.find(ft=>ft.agent===Qe.agent);if(Pe){if(Pe.dates.push(Qe.date),Ar(j)>ee){Pe.dates.pop();break}}else if(j.push({agent:Qe.agent,dates:[Qe.date]}),Ar(j)>ee){j.pop();break}le=le.slice(1)}return{heartbeatsToSend:j,unsentEntries:le}}(ee._heartbeatsCache.heartbeats),ft=(0,M.L)(JSON.stringify({version:2,heartbeats:Qe}));return ee._heartbeatsCache.lastSentHeartbeatDate=le,Pe.length>0?(ee._heartbeatsCache.heartbeats=Pe,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),ft})()}}function En(){return(new Date).toISOString().substring(0,10)}class On{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,M.hl)()&&(0,M.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,a.Z)(function*(){if(yield ee._canUseIndexedDBPromise){const le=yield function yr(oe){return tt.apply(this,arguments)}(ee.app);return le?.heartbeats?le:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ee){var j=this;return(0,a.Z)(function*(){var le;if(yield j._canUseIndexedDBPromise){const Pe=yield j.read();return Qn(j.app,{lastSentHeartbeatDate:null!==(le=ee.lastSentHeartbeatDate)&&void 0!==le?le:Pe.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var j=this;return(0,a.Z)(function*(){var le;if(yield j._canUseIndexedDBPromise){const Pe=yield j.read();return Qn(j.app,{lastSentHeartbeatDate:null!==(le=ee.lastSentHeartbeatDate)&&void 0!==le?le:Pe.lastSentHeartbeatDate,heartbeats:[...Pe.heartbeats,...ee.heartbeats]})}})()}}function Ar(oe){return(0,M.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function Nn(oe){Ci(new $.wA("platform-logger",ee=>new qt(ee),"PRIVATE")),Ci(new $.wA("heartbeat",ee=>new Qt(ee),"PRIVATE")),fe(It,it,oe),fe(It,it,"esm2017"),fe("fire-js","")}("")},4537:(bn,gt,A)=>{"use strict";A.d(gt,{H0:()=>Le,wA:()=>se});var a=A(5861),$=A(9058);class se{constructor(ye,ne,Me){this.name=ye,this.instanceFactory=ne,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const M="[DEFAULT]";class Ne{constructor(ye,ne){this.name=ye,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const ne=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(ne)){const Me=new $.BH;if(this.instancesDeferred.set(ne,Me),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:ne});Ve&&Me.resolve(Ve)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(ye){var ne;const Me=this.normalizeInstanceIdentifier(ye?.identifier),Ve=null!==(ne=ye?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Be){if(Ve)return null;throw Be}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function pe(je){return"EAGER"===je.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:M})}catch{}for(const[ne,Me]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(ne);try{const Be=this.getOrInitializeService({instanceIdentifier:Ve});Me.resolve(Be)}catch{}}}}clearInstance(ye=M){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,a.Z)(function*(){const ne=Array.from(ye.instances.values());yield Promise.all([...ne.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ne.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=M){return this.instances.has(ye)}getOptions(ye=M){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:ne={}}=ye,Me=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Me,options:ne});for(const[Be,Je]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Be)&&Je.resolve(Ve);return Ve}onInit(ye,ne){var Me;const Ve=this.normalizeInstanceIdentifier(ne),Be=null!==(Me=this.onInitCallbacks.get(Ve))&&void 0!==Me?Me:new Set;Be.add(ye),this.onInitCallbacks.set(Ve,Be);const Je=this.instances.get(Ve);return Je&&ye(Je,Ve),()=>{Be.delete(ye)}}invokeOnInitCallbacks(ye,ne){const Me=this.onInitCallbacks.get(ne);if(Me)for(const Ve of Me)try{Ve(ye,ne)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:ne={}}){let Me=this.instances.get(ye);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(je=ye,je===M?void 0:je),options:ne}),this.instances.set(ye,Me),this.instancesOptions.set(ye,ne),this.invokeOnInitCallbacks(Me,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Me)}catch{}var je;return Me||null}normalizeInstanceIdentifier(ye=M){return this.component?this.component.multipleInstances?ye:M:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const ne=this.getProvider(ye.name);if(ne.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);ne.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const ne=new Ne(ye,this);return this.providers.set(ye,ne),ne}getProviders(){return Array.from(this.providers.values())}}},7879:(bn,gt,A)=>{"use strict";A.d(gt,{Am:()=>je,Ub:()=>Le,Yd:()=>pe,in:()=>$});const a=[];var $=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}($||{});const se={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},M=$.INFO,Ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Ee=(ye,ne,...Me)=>{if(ne<ye.logLevel)return;const Ve=(new Date).toISOString(),Be=Ne[ne];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Be](`[${Ve}]  ${ye.name}:`,...Me)};class pe{constructor(ne){this.name=ne,this._logLevel=M,this._logHandler=Ee,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in $))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?se[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...ne),this._logHandler(this,$.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...ne),this._logHandler(this,$.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,$.INFO,...ne),this._logHandler(this,$.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,$.WARN,...ne),this._logHandler(this,$.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...ne),this._logHandler(this,$.ERROR,...ne)}}function Le(ye){a.forEach(ne=>{ne.setLogLevel(ye)})}function je(ye,ne){for(const Me of a){let Ve=null;ne&&ne.level&&(Ve=se[ne.level]),Me.userLogHandler=null===ye?null:(Be,Je,...He)=>{const lt=He.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");Je>=(Ve??Be.logLevel)&&ye({level:$[Je].toLowerCase(),message:lt,args:He,type:Be.name})}}}},8720:(bn,gt,A)=>{"use strict";A.d(gt,{y4:()=>Wt,De:()=>Ir,dy:()=>on,oU:()=>kn,ki:()=>Dr,O1:()=>dr,d8:()=>Ci,jP:()=>ct,UN:()=>Ct,r4:()=>Ar,SH:()=>Rn,xs:()=>Nn,t4:()=>Tt,j:()=>xn,H:()=>yr,bk:()=>ht,DN:()=>ve,Wn:()=>ot,vk:()=>Qt});var a=A(5861),$=A(5879),se=A(5514),M=A(6814),Ne=A(3162),Ee=A(2762);var Ge=A(8645),qt=A(2438),gn=A(5619),It=A(2572),it=A(2096),Pt=A(7582),Ue=A(2181),ue=A(4664),G=A(3997),W=A(95);const ie=["tabsInner"];let Tt=(()=>{class oe{doc;_readyPromise;win;backButton=new Ge.x;keyboardDidShow=new Ge.x;keyboardDidHide=new Ge.x;pause=new Ge.x;resume=new Ge.x;resize=new Ge.x;constructor(j,le){this.doc=j,le.run(()=>{let Qe;this.win=j.defaultView,this.backButton.subscribeWithPriority=function(Pe,ft){return this.subscribe($t=>$t.register(Pe,In=>le.run(()=>ft(In))))},fn(this.pause,j,"pause",le),fn(this.resume,j,"resume",le),fn(this.backButton,j,"ionBackButton",le),fn(this.resize,this.win,"resize",le),fn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",le),fn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",le),this._readyPromise=new Promise(Pe=>{Qe=Pe}),this.win?.cordova?j.addEventListener("deviceready",()=>{Qe("cordova")},{once:!0}):Qe("dom")})}is(j){return(0,Ne.a)(this.win,j)}platforms(){return(0,Ne.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(j){return xt(this.win.location.href,j)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(j){const le=this.win.navigator;return!!(le?.userAgent&&le.userAgent.indexOf(j)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(le){return new(le||oe)($.LFG(M.K0),$.LFG($.R0b))};static \u0275prov=$.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();const xt=(oe,ee)=>{ee=ee.replace(/[[\]\\]/g,"\\$&");const le=new RegExp("[\\?&]"+ee+"=([^&#]*)").exec(oe);return le?decodeURIComponent(le[1].replace(/\+/g," ")):null},fn=(oe,ee,j,le)=>{ee&&ee.addEventListener(j,Qe=>{le.run(()=>{const Pe=Qe?.detail;oe.next(Pe)})})};let Rn=(()=>{class oe{location;serializer;router;topOutlet;direction=vn;animated=Yn;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(j,le,Qe,Pe){this.location=le,this.serializer=Qe,this.router=Pe,Pe&&Pe.events.subscribe(ft=>{if(ft instanceof se.OD){const $t=ft.restoredState?ft.restoredState.navigationId:ft.id;this.guessDirection=this.guessAnimation=$t<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?ft.id:$t}}),j.backButton.subscribeWithPriority(0,ft=>{this.pop(),ft()})}navigateForward(j,le={}){return this.setDirection("forward",le.animated,le.animationDirection,le.animation),this.navigate(j,le)}navigateBack(j,le={}){return this.setDirection("back",le.animated,le.animationDirection,le.animation),this.navigate(j,le)}navigateRoot(j,le={}){return this.setDirection("root",le.animated,le.animationDirection,le.animation),this.navigate(j,le)}back(j={animated:!0,animationDirection:"back"}){return this.setDirection("back",j.animated,j.animationDirection,j.animation),this.location.back()}pop(){var j=this;return(0,a.Z)(function*(){let le=j.topOutlet;for(;le;){if(yield le.pop())return!0;le=le.parentOutlet}return!1})()}setDirection(j,le,Qe,Pe){this.direction=j,this.animated=Nt(j,le,Qe),this.animationBuilder=Pe}setTopOutlet(j){this.topOutlet=j}consumeTransition(){let le,j="root";const Qe=this.animationBuilder;return"auto"===this.direction?(j=this.guessDirection,le=this.guessAnimation):(le=this.animated,j=this.direction),this.direction=vn,this.animated=Yn,this.animationBuilder=void 0,{direction:j,animation:le,animationBuilder:Qe}}navigate(j,le){if(Array.isArray(j))return this.router.navigate(j,le);{const Qe=this.serializer.parse(j.toString());return void 0!==le.queryParams&&(Qe.queryParams={...le.queryParams}),void 0!==le.fragment&&(Qe.fragment=le.fragment),this.router.navigateByUrl(Qe,le)}}static \u0275fac=function(le){return new(le||oe)($.LFG(Tt),$.LFG(M.Ye),$.LFG(se.Hx),$.LFG(se.F0,8))};static \u0275prov=$.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();const Nt=(oe,ee,j)=>{if(!1!==ee){if(void 0!==j)return j;if("forward"===oe||"back"===oe)return oe;if("root"===oe&&!0===ee)return"forward"}},vn="auto",Yn=void 0;let Ir=(()=>{class oe{get(j,le){const Qe=nn();return Qe?Qe.get(j,le):null}getBoolean(j,le){const Qe=nn();return!!Qe&&Qe.getBoolean(j,le)}getNumber(j,le){const Qe=nn();return Qe?Qe.getNumber(j,le):0}static \u0275fac=function(le){return new(le||oe)};static \u0275prov=$.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();const on=new $.OlP("USERCONFIG"),nn=()=>{if(typeof window<"u"){const oe=window.Ionic;if(oe?.config)return oe.config}return null};class xr{data;constructor(ee={}){this.data=ee}get(ee){return this.data[ee]}}let Wt=(()=>{class oe{zone=(0,$.f3M)($.R0b);applicationRef=(0,$.f3M)($.z2F);create(j,le,Qe){return new Ke(j,le,this.applicationRef,this.zone,Qe)}static \u0275fac=function(le){return new(le||oe)};static \u0275prov=$.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();class Ke{environmentInjector;injector;applicationRef;zone;elementReferenceKey;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(ee,j,le,Qe,Pe){this.environmentInjector=ee,this.injector=j,this.applicationRef=le,this.zone=Qe,this.elementReferenceKey=Pe}attachViewToDom(ee,j,le,Qe){return this.zone.run(()=>new Promise(Pe=>{const ft={...le};void 0!==this.elementReferenceKey&&(ft[this.elementReferenceKey]=ee),Pe(We(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ee,j,ft,Qe,this.elementReferenceKey))}))}removeViewFromDom(ee,j){return this.zone.run(()=>new Promise(le=>{const Qe=this.elRefMap.get(j);if(Qe){Qe.destroy(),this.elRefMap.delete(j);const Pe=this.elEventsMap.get(j);Pe&&(Pe(),this.elEventsMap.delete(j))}le()}))}}const We=(oe,ee,j,le,Qe,Pe,ft,$t,In,Jn,hr)=>{const jr=$.zs3.create({providers:Hn(In),parent:j}),ar=(0,$.LMc)($t,{environmentInjector:ee,elementInjector:jr}),we=ar.instance,nt=ar.location.nativeElement;if(In&&(hr&&void 0!==we[hr]&&console.error(`[Ionic Error]: ${hr} is a reserved property when using ${ft.tagName.toLowerCase()}. Rename or remove the "${hr}" property from ${$t.name}.`),Object.assign(we,In)),Jn)for(const At of Jn)nt.classList.add(At);const $e=Ln(oe,we,nt);return ft.appendChild(nt),le.attachView(ar.hostView),Qe.set(nt,ar),Pe.set(nt,$e),nt},Ut=[Ee.L,Ee.a,Ee.b,Ee.c,Ee.d],Ln=(oe,ee,j)=>oe.run(()=>{const le=Ut.filter(Qe=>"function"==typeof ee[Qe]).map(Qe=>{const Pe=ft=>ee[Qe](ft.detail);return j.addEventListener(Qe,Pe),()=>j.removeEventListener(Qe,Pe)});return()=>le.forEach(Qe=>Qe())}),pr=new $.OlP("NavParamsToken"),Hn=oe=>[{provide:pr,useValue:oe},{provide:xr,useFactory:zn,deps:[pr]}],zn=oe=>new xr(oe),Gn=(oe,ee)=>{const j=oe.prototype;ee.forEach(le=>{Object.defineProperty(j,le,{get(){return this.el[le]},set(Qe){this.z.runOutsideAngular(()=>this.el[le]=Qe)}})})},Kn=(oe,ee)=>{const j=oe.prototype;ee.forEach(le=>{j[le]=function(){const Qe=arguments;return this.z.runOutsideAngular(()=>this.el[le].apply(this.el,Qe))}})},Cr=(oe,ee,j)=>{j.forEach(le=>oe[le]=(0,qt.R)(ee,le))};function Wn(oe){return function(j){const{defineCustomElementFn:le,inputs:Qe,methods:Pe}=oe;return void 0!==le&&le(),Qe&&Gn(j,Qe),Pe&&Kn(j,Pe),j}}const mr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ni=["present","dismiss","onDidDismiss","onWillDismiss"];let Ci=(()=>{let oe=class XE{z;template;isCmpOpen=!1;el;constructor(j,le,Qe){this.z=Qe,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,j.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,j.detectChanges()}),Cr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(le){return new(le||XE)($.Y36($.sBO),$.Y36($.SBq),$.Y36($.R0b))};static \u0275dir=$.lG2({type:XE,selectors:[["ion-popover"]],contentQueries:function(le,Qe,Pe){if(1&le&&$.Suo(Pe,$.Rgc,5),2&le){let ft;$.iGM(ft=$.CRH())&&(Qe.template=ft.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return oe=(0,Pt.gn)([Wn({inputs:mr,methods:ni})],oe),oe})();const sn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],di=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Dr=(()=>{let oe=class JE{z;template;isCmpOpen=!1;el;constructor(j,le,Qe){this.z=Qe,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,j.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,j.detectChanges()}),Cr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(le){return new(le||JE)($.Y36($.sBO),$.Y36($.SBq),$.Y36($.R0b))};static \u0275dir=$.lG2({type:JE,selectors:[["ion-modal"]],contentQueries:function(le,Qe,Pe){if(1&le&&$.Suo(Pe,$.Rgc,5),2&le){let ft;$.iGM(ft=$.CRH())&&(Qe.template=ft.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return oe=(0,Pt.gn)([Wn({inputs:sn,methods:di})],oe),oe})();const Fn=(oe,ee)=>((oe=oe.filter(j=>j.stackId!==ee.stackId)).push(ee),oe),ei=(oe,ee)=>{const j=oe.createUrlTree(["."],{relativeTo:ee});return oe.serializeUrl(j)},ur=(oe,ee)=>!ee||oe.stackId!==ee.stackId,Dn=(oe,ee)=>{if(!oe)return;const j=ai(ee);for(let le=0;le<j.length;le++){if(le>=oe.length)return j[le];if(j[le]!==oe[le])return}},ai=oe=>oe.split("/").map(ee=>ee.trim()).filter(ee=>""!==ee),Ti=oe=>{oe&&(oe.ref.destroy(),oe.unlistenEvents())};class Kr{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(ee,j,le,Qe,Pe,ft){this.containerEl=j,this.router=le,this.navCtrl=Qe,this.zone=Pe,this.location=ft,this.tabsPrefix=void 0!==ee?ai(ee):void 0}createView(ee,j){const le=ei(this.router,j),Qe=ee?.location?.nativeElement,Pe=Ln(this.zone,ee.instance,Qe);return{id:this.nextId++,stackId:Dn(this.tabsPrefix,le),unlistenEvents:Pe,element:Qe,ref:ee,url:le}}getExistingView(ee){const j=ei(this.router,ee),le=this.views.find(Qe=>Qe.url===j);return le&&le.ref.changeDetectorRef.reattach(),le}setActive(ee){const j=this.navCtrl.consumeTransition();let{direction:le,animation:Qe,animationBuilder:Pe}=j;const ft=this.activeView,$t=ur(ee,ft);$t&&(le="back",Qe=void 0);const In=this.views.slice();let Jn;const hr=this.router;hr.getCurrentNavigation?Jn=hr.getCurrentNavigation():hr.navigations?.value&&(Jn=hr.navigations.value),Jn?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const jr=this.views.includes(ee),ar=this.insertView(ee,le);jr||ee.ref.changeDetectorRef.detectChanges();const we=ee.animationBuilder;return void 0===Pe&&"back"===le&&!$t&&void 0!==we&&(Pe=we),ft&&(ft.animationBuilder=Pe),this.zone.runOutsideAngular(()=>this.wait(()=>(ft&&ft.ref.changeDetectorRef.detach(),ee.ref.changeDetectorRef.reattach(),this.transition(ee,ft,Qe,this.canGoBack(1),!1,Pe).then(()=>Fi(ee,ar,In,this.location,this.zone)).then(()=>({enteringView:ee,direction:le,animation:Qe,tabSwitch:$t})))))}canGoBack(ee,j=this.getActiveStackId()){return this.getStack(j).length>ee}pop(ee,j=this.getActiveStackId()){return this.zone.run(()=>{const le=this.getStack(j);if(le.length<=ee)return Promise.resolve(!1);const Qe=le[le.length-ee-1];let Pe=Qe.url;const ft=Qe.savedData;if(ft){const In=ft.get("primary");In?.route?._routerState?.snapshot.url&&(Pe=In.route._routerState.snapshot.url)}const{animationBuilder:$t}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Pe,{...Qe.savedExtras,animation:$t}).then(()=>!0)})}startBackTransition(){const ee=this.activeView;if(ee){const j=this.getStack(ee.stackId),le=j[j.length-2],Qe=le.animationBuilder;return this.wait(()=>this.transition(le,ee,"back",this.canGoBack(2),!0,Qe))}return Promise.resolve()}endBackTransition(ee){ee?(this.skipTransition=!0,this.pop(1)):this.activeView&&hi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ee){const j=this.getStack(ee);return j.length>0?j[j.length-1]:void 0}getRootUrl(ee){const j=this.getStack(ee);return j.length>0?j[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ti),this.activeView=void 0,this.views=[]}getStack(ee){return this.views.filter(j=>j.stackId===ee)}insertView(ee,j){return this.activeView=ee,this.views=((oe,ee,j)=>"root"===j?Fn(oe,ee):"forward"===j?((oe,ee)=>(oe.indexOf(ee)>=0?oe=oe.filter(le=>le.stackId!==ee.stackId||le.id<=ee.id):oe.push(ee),oe))(oe,ee):((oe,ee)=>oe.indexOf(ee)>=0?oe.filter(le=>le.stackId!==ee.stackId||le.id<=ee.id):Fn(oe,ee))(oe,ee))(this.views,ee,j),this.views.slice()}transition(ee,j,le,Qe,Pe,ft){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(j===ee)return Promise.resolve(!1);const $t=ee?ee.element:void 0,In=j?j.element:void 0,Jn=this.containerEl;return $t&&$t!==In&&($t.classList.add("ion-page"),$t.classList.add("ion-page-invisible"),Jn.commit)?Jn.commit($t,In,{duration:void 0===le?0:void 0,direction:le,showGoBack:Qe,progressAnimation:Pe,animationBuilder:ft}):Promise.resolve(!1)}wait(ee){var j=this;return(0,a.Z)(function*(){void 0!==j.runningTask&&(yield j.runningTask,j.runningTask=void 0);const le=j.runningTask=ee();return le.finally(()=>j.runningTask=void 0),le})()}}const Fi=(oe,ee,j,le,Qe)=>"function"==typeof requestAnimationFrame?new Promise(Pe=>{requestAnimationFrame(()=>{hi(oe,ee,j,le,Qe),Pe()})}):Promise.resolve(),hi=(oe,ee,j,le,Qe)=>{Qe.run(()=>j.filter(Pe=>!ee.includes(Pe)).forEach(Ti)),ee.forEach(Pe=>{const $t=le.path().split("?")[0].split("#")[0];if(Pe!==oe&&Pe.url!==$t){const In=Pe.element;In.setAttribute("aria-hidden","true"),In.classList.add("ion-page-hidden"),Pe.ref.changeDetectorRef.detach()}})};let ct=(()=>{class oe{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new gn.X(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se.eC;stackWillChange=new $.vpe;stackDidChange=new $.vpe;activateEvents=new $.vpe;deactivateEvents=new $.vpe;parentContexts=(0,$.f3M)(se.y6);location=(0,$.f3M)($.s_b);environmentInjector=(0,$.f3M)($.lqb);inputBinder=(0,$.f3M)(Ce,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,$.f3M)(Ir);navCtrl=(0,$.f3M)(Rn);set animation(j){this.nativeEl.animation=j}set animated(j){this.nativeEl.animated=j}set swipeGesture(j){this._swipeGesture=j,this.nativeEl.swipeHandler=j?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:le=>this.stackCtrl.endBackTransition(le)}:void 0}constructor(j,le,Qe,Pe,ft,$t,In,Jn){this.parentOutlet=Jn,this.nativeEl=Pe.nativeElement,this.name=j||se.eC,this.tabsPrefix="true"===le?ei(ft,In):void 0,this.stackCtrl=new Kr(this.tabsPrefix,this.nativeEl,ft,this.navCtrl,$t,Qe),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const j=this.getContext();j?.route&&this.activateWith(j.route,j.injector)}new Promise(j=>((oe,ee)=>{oe.componentOnReady?oe.componentOnReady().then(j=>ee(j)):(oe=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(oe):"function"==typeof requestAnimationFrame?requestAnimationFrame(oe):setTimeout(oe)})(()=>ee(oe))})(this.nativeEl,j)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(j,le){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const le=this.getContext();this.activatedView.savedData=new Map(le.children.contexts);const Qe=this.activatedView.savedData.get("primary");if(Qe&&le.route&&(Qe.route={...le.route}),this.activatedView.savedExtras={},le.route){const Pe=le.route.snapshot;this.activatedView.savedExtras.queryParams=Pe.queryParams,this.activatedView.savedExtras.fragment=Pe.fragment}}const j=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(j)}}activateWith(j,le){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=j;let Qe,Pe=this.stackCtrl.getExistingView(j);if(Pe){Qe=this.activated=Pe.ref;const $t=Pe.savedData;$t&&(this.getContext().children.contexts=$t),this.updateActivatedRouteProxy(Qe.instance,j)}else{const $t=j._futureSnapshot,In=this.parentContexts.getOrCreateContext(this.name).children,Jn=new gn.X(null),hr=this.createActivatedRouteProxy(Jn,j),jr=new fe(hr,In,this.location.injector);Qe=this.activated=this.outletContent.createComponent($t.routeConfig.component??$t.component,{index:this.outletContent.length,injector:jr,environmentInjector:le??this.environmentInjector}),Jn.next(Qe.instance),Pe=this.stackCtrl.createView(this.activated,j),this.proxyMap.set(Qe.instance,hr),this.currentActivatedRoute$.next({component:Qe.instance,activatedRoute:j})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=Pe,this.navCtrl.setTopOutlet(this);const ft=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Pe,tabSwitch:ur(Pe,ft)}),this.stackCtrl.setActive(Pe).then($t=>{this.activateEvents.emit(Qe.instance),this.stackDidChange.emit($t)})}canGoBack(j=1,le){return this.stackCtrl.canGoBack(j,le)}pop(j=1,le){return this.stackCtrl.pop(j,le)}getLastUrl(j){const le=this.stackCtrl.getLastUrl(j);return le?le.url:void 0}getLastRouteView(j){return this.stackCtrl.getLastUrl(j)}getRootView(j){return this.stackCtrl.getRootUrl(j)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(j,le){const Qe=new se.gz;return Qe._futureSnapshot=le._futureSnapshot,Qe._routerState=le._routerState,Qe.snapshot=le.snapshot,Qe.outlet=le.outlet,Qe.component=le.component,Qe._paramMap=this.proxyObservable(j,"paramMap"),Qe._queryParamMap=this.proxyObservable(j,"queryParamMap"),Qe.url=this.proxyObservable(j,"url"),Qe.params=this.proxyObservable(j,"params"),Qe.queryParams=this.proxyObservable(j,"queryParams"),Qe.fragment=this.proxyObservable(j,"fragment"),Qe.data=this.proxyObservable(j,"data"),Qe}proxyObservable(j,le){return j.pipe((0,Ue.h)(Qe=>!!Qe),(0,ue.w)(Qe=>this.currentActivatedRoute$.pipe((0,Ue.h)(Pe=>null!==Pe&&Pe.component===Qe),(0,ue.w)(Pe=>Pe&&Pe.activatedRoute[le]),(0,G.x)())))}updateActivatedRouteProxy(j,le){const Qe=this.proxyMap.get(j);if(!Qe)throw new Error("Could not find activated route proxy for view");Qe._futureSnapshot=le._futureSnapshot,Qe._routerState=le._routerState,Qe.snapshot=le.snapshot,Qe.outlet=le.outlet,Qe.component=le.component,this.currentActivatedRoute$.next({component:j,activatedRoute:le})}static \u0275fac=function(le){return new(le||oe)($.$8M("name"),$.$8M("tabs"),$.Y36(M.Ye),$.Y36($.SBq),$.Y36(se.F0),$.Y36($.R0b),$.Y36(se.gz),$.Y36(oe,12))};static \u0275dir=$.lG2({type:oe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return oe})();class fe{route;childContexts;parent;constructor(ee,j,le){this.route=ee,this.childContexts=j,this.parent=le}get(ee,j){return ee===se.gz?this.route:ee===se.y6?this.childContexts:this.parent.get(ee,j)}}const Ce=new $.OlP("");let ge=(()=>{class oe{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(j){this.unsubscribeFromRouteData(j),this.subscribeToRouteData(j)}unsubscribeFromRouteData(j){this.outletDataSubscriptions.get(j)?.unsubscribe(),this.outletDataSubscriptions.delete(j)}subscribeToRouteData(j){const{activatedRoute:le}=j,Qe=(0,It.a)([le.queryParams,le.params,le.data]).pipe((0,ue.w)(([Pe,ft,$t],In)=>($t={...Pe,...ft,...$t},0===In?(0,it.of)($t):Promise.resolve($t)))).subscribe(Pe=>{if(!j.isActivated||!j.activatedComponentRef||j.activatedRoute!==le||null===le.component)return void this.unsubscribeFromRouteData(j);const ft=(0,$.qFp)(le.component);if(ft)for(const{templateName:$t}of ft.inputs)j.activatedComponentRef.setInput($t,Pe[$t]);else this.unsubscribeFromRouteData(j)});this.outletDataSubscriptions.set(j,Qe)}static \u0275fac=function(le){return new(le||oe)};static \u0275prov=$.Yz7({token:oe,factory:oe.\u0275fac})}return oe})();const ve=()=>({provide:Ce,useFactory:wt,deps:[se.F0]});function wt(oe){return oe?.componentInputBindingEnabled?new ge:null}const tn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let kn=(()=>{let oe=class eI{routerOutlet;navCtrl;config;r;z;el;constructor(j,le,Qe,Pe,ft,$t){this.routerOutlet=j,this.navCtrl=le,this.config=Qe,this.r=Pe,this.z=ft,$t.detach(),this.el=this.r.nativeElement}onClick(j){const le=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),j.preventDefault()):null!=le&&(this.navCtrl.navigateBack(le,{animation:this.routerAnimation}),j.preventDefault())}static \u0275fac=function(le){return new(le||eI)($.Y36(ct,8),$.Y36(Rn),$.Y36(Ir),$.Y36($.SBq),$.Y36($.R0b),$.Y36($.sBO))};static \u0275dir=$.lG2({type:eI,hostBindings:function(le,Qe){1&le&&$.NdJ("click",function(ft){return Qe.onClick(ft)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return oe=(0,Pt.gn)([Wn({inputs:tn})],oe),oe})(),xn=(()=>{class oe{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(j,le,Qe,Pe,ft){this.locationStrategy=j,this.navCtrl=le,this.elementRef=Qe,this.router=Pe,this.routerLink=ft}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const j=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=j}}onClick(j){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),j.preventDefault()}static \u0275fac=function(le){return new(le||oe)($.Y36(M.S$),$.Y36(Rn),$.Y36($.SBq),$.Y36(se.F0),$.Y36(se.rH,8))};static \u0275dir=$.lG2({type:oe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(le,Qe){1&le&&$.NdJ("click",function(ft){return Qe.onClick(ft)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$.TTD]})}return oe})(),yr=(()=>{class oe{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(j,le,Qe,Pe,ft){this.locationStrategy=j,this.navCtrl=le,this.elementRef=Qe,this.router=Pe,this.routerLink=ft}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const j=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=j}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(le){return new(le||oe)($.Y36(M.S$),$.Y36(Rn),$.Y36($.SBq),$.Y36(se.F0),$.Y36(se.rH,8))};static \u0275dir=$.lG2({type:oe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(le,Qe){1&le&&$.NdJ("click",function(){return Qe.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$.TTD]})}return oe})();const tt=["animated","animation","root","rootParams","swipeGesture"],Qn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let dr=(()=>{let oe=class tI{z;el;constructor(j,le,Qe,Pe,ft,$t){this.z=ft,$t.detach(),this.el=j.nativeElement,j.nativeElement.delegate=Pe.create(le,Qe),Cr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(le){return new(le||tI)($.Y36($.SBq),$.Y36($.lqb),$.Y36($.zs3),$.Y36(Wt),$.Y36($.R0b),$.Y36($.sBO))};static \u0275dir=$.lG2({type:tI,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return oe=(0,Pt.gn)([Wn({inputs:tt,methods:Qn})],oe),oe})(),Ct=(()=>{class oe{navCtrl;tabsInner;ionTabsWillChange=new $.vpe;ionTabsDidChange=new $.vpe;tabBarSlot="bottom";constructor(j){this.navCtrl=j}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:j,tabSwitch:le}){const Qe=j.stackId;le&&void 0!==Qe&&this.ionTabsWillChange.emit({tab:Qe})}onStackDidChange({enteringView:j,tabSwitch:le}){const Qe=j.stackId;le&&void 0!==Qe&&(this.tabBar&&(this.tabBar.selectedTab=Qe),this.ionTabsDidChange.emit({tab:Qe}))}select(j){const le="string"==typeof j,Qe=le?j:j.detail.tab,Pe=this.outlet.getActiveStackId()===Qe,ft=`${this.outlet.tabsPrefix}/${Qe}`;if(le||j.stopPropagation(),Pe){const $t=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView($t)?.url===ft)return;const Jn=this.outlet.getRootView(Qe);return this.navCtrl.navigateRoot(ft,{...Jn&&ft===Jn.url&&Jn.savedExtras,animated:!0,animationDirection:"back"})}{const $t=this.outlet.getLastRouteView(Qe),In=$t?.url||ft,Jn=$t?.savedExtras;return this.navCtrl.navigateRoot(In,{...Jn,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(j=>{const le=j.el.getAttribute("slot");le!==this.tabBarSlot&&(this.tabBarSlot=le,this.relocateTabBar())})}relocateTabBar(){const j=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(j):this.tabsInner.nativeElement.after(j)}static \u0275fac=function(le){return new(le||oe)($.Y36(Rn))};static \u0275dir=$.lG2({type:oe,selectors:[["ion-tabs"]],viewQuery:function(le,Qe){if(1&le&&$.Gf(ie,7,$.SBq),2&le){let Pe;$.iGM(Pe=$.CRH())&&(Qe.tabsInner=Pe.first)}},hostBindings:function(le,Qe){1&le&&$.NdJ("ionTabButtonClick",function(ft){return Qe.select(ft)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return oe})();const ot=oe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(oe):"function"==typeof requestAnimationFrame?requestAnimationFrame(oe):setTimeout(oe);let ht=(()=>{class oe{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(j,le){this.injector=j,this.elementRef=le}writeValue(j){this.elementRef.nativeElement.value=this.lastValue=j,Qt(this.elementRef)}handleValueChange(j,le){j===this.elementRef.nativeElement&&(le!==this.lastValue&&(this.lastValue=le,this.onChange(le)),Qt(this.elementRef))}_handleBlurEvent(j){j===this.elementRef.nativeElement&&(this.onTouched(),Qt(this.elementRef))}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.elementRef.nativeElement.disabled=j}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let j;try{j=this.injector.get(W.a5)}catch{}if(!j)return;j.statusChanges&&(this.statusChanges=j.statusChanges.subscribe(()=>Qt(this.elementRef)));const le=j.control;le&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Pe=>{if(typeof le[Pe]<"u"){const ft=le[Pe].bind(le);le[Pe]=(...$t)=>{ft(...$t),Qt(this.elementRef)}}})}static \u0275fac=function(le){return new(le||oe)($.Y36($.zs3),$.Y36($.SBq))};static \u0275dir=$.lG2({type:oe,hostBindings:function(le,Qe){1&le&&$.NdJ("ionBlur",function(ft){return Qe._handleBlurEvent(ft.target)})}})}return oe})();const Qt=oe=>{ot(()=>{const ee=oe.nativeElement,j=null!=ee.value&&ee.value.toString().length>0,le=En(ee);wn(ee,le);const Qe=ee.closest("ion-item");Qe&&wn(Qe,j?[...le,"item-has-value"]:le)})},En=oe=>{const ee=oe.classList,j=[];for(let le=0;le<ee.length;le++){const Qe=ee.item(le);null!==Qe&&On(Qe,"ng-")&&j.push(`ion-${Qe.substring(3)}`)}return j},wn=(oe,ee)=>{const j=oe.classList;j.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),j.add(...ee)},On=(oe,ee)=>oe.substring(0,ee.length)===ee;class Ar{shouldDetach(ee){return!1}shouldAttach(ee){return!1}store(ee,j){}retrieve(ee){return null}shouldReuseRoute(ee,j){if(ee.routeConfig!==j.routeConfig)return!1;const le=ee.params,Qe=j.params,Pe=Object.keys(le),ft=Object.keys(Qe);if(Pe.length!==ft.length)return!1;for(const $t of Pe)if(Qe[$t]!==le[$t])return!1;return!0}}class Nn{ctrl;constructor(ee){this.ctrl=ee}create(ee){return this.ctrl.create(ee||{})}dismiss(ee,j,le){return this.ctrl.dismiss(ee,j,le)}getTop(){return this.ctrl.getTop()}}},5958:(bn,gt,A)=>{"use strict";A.d(gt,{Br:()=>Li,dr:()=>Nt,yp:()=>Ir,YG:()=>xr,Sm:()=>Wt,PM:()=>Ke,W2:()=>Kn,fr:()=>sn,Gu:()=>Dr,gu:()=>Nr,pK:()=>ei,Ie:()=>Dn,Q$:()=>ct,jP:()=>vt,VI:()=>ee,t9:()=>Qe,n0:()=>Pe,yW:()=>jr,g2:()=>ar,Pc:()=>mo,HT:()=>$r,QI:()=>ue,j9:()=>G});var a=A(5879),$=A(95),se=A(8720),M=A(7582),Ne=A(2438),Ee=A(6814),pe=A(5514),Ve=(A(2282),A(6862),A(240),A(4047),A(1981),A(5731)),Be=A(8958),He=(A(2186),A(117)),xe=(A(1848),A(2315));A(4089),A(283);var he=A(5861);const Fe=Ve.i,st=function(){var q=(0,he.Z)(function*(fr,Q){if(!(typeof window>"u"))return yield Fe(),(0,xe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Q)});return function(Q,N){return q.apply(this,arguments)}}(),Ze=["*"],Lt=["outletContent"];let ue=(()=>{class q extends se.bk{constructor(Q,N){super(Q,N)}_handleChangeEvent(Q){this.handleValueChange(Q,Q.value)}static \u0275fac=function(N){return new(N||q)(a.Y36(a.zs3),a.Y36(a.SBq))};static \u0275dir=a.lG2({type:q,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(N,be){1&N&&a.NdJ("ionChange",function(B){return be._handleChangeEvent(B.target)})},features:[a._Bn([{provide:$.JU,useExisting:q,multi:!0}]),a.qOj]})}return q})(),G=(()=>{class q extends se.bk{constructor(Q,N){super(Q,N)}_handleInputEvent(Q){this.handleValueChange(Q,Q.value)}static \u0275fac=function(N){return new(N||q)(a.Y36(a.zs3),a.Y36(a.SBq))};static \u0275dir=a.lG2({type:q,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,be){1&N&&a.NdJ("ionInput",function(B){return be._handleInputEvent(B.target)})},features:[a._Bn([{provide:$.JU,useExisting:q,multi:!0}]),a.qOj]})}return q})();const W=(q,fr)=>{const Q=q.prototype;fr.forEach(N=>{Object.defineProperty(Q,N,{get(){return this.el[N]},set(be){this.z.runOutsideAngular(()=>this.el[N]=be)},configurable:!0})})},ie=(q,fr)=>{const Q=q.prototype;fr.forEach(N=>{Q[N]=function(){const be=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,be))}})},Ae=(q,fr,Q)=>{Q.forEach(N=>q[N]=(0,Ne.R)(fr,N))};function Oe(q){return function(Q){const{defineCustomElementFn:N,inputs:be,methods:mn}=q;return void 0!==N&&N(),be&&W(Q,be),mn&&ie(Q,mn),Q}}let Nt=(()=>{let q=class sI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||sI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:sI,selectors:[["ion-app"]],ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({})],q),q})(),Ir=(()=>{let q=class cI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||cI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:cI,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["color","mode"]})],q),q})(),xr=(()=>{let q=class hI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement,Ae(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(N){return new(N||hI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:hI,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],q),q})(),Wt=(()=>{let q=class fI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||fI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:fI,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["collapse"]})],q),q})(),Ke=(()=>{let q=class pI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||pI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:pI,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],q),q})(),Kn=(()=>{let q=class TI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement,Ae(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(N){return new(N||TI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:TI,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],q),q})(),sn=(()=>{let q=class SI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||SI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:SI,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["collapse","mode","translucent"]})],q),q})(),Dr=(()=>{let q=class PI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||PI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:PI,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["collapse","mode","translucent"]})],q),q})(),Nr=(()=>{let q=class MI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||MI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:MI,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],q),q})(),ei=(()=>{let q=class kI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement,Ae(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(N){return new(N||kI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:kI,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],q),q})(),Dn=(()=>{let q=class LI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||LI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:LI,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],q),q})(),ct=(()=>{let q=class HI{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||HI)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:HI,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["color","mode","position"]})],q),q})(),ee=(()=>{let q=class f0{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement,Ae(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}static \u0275fac=function(N){return new(N||f0)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:f0,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],q),q})(),Qe=(()=>{let q=class m0{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement,Ae(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(N){return new(N||m0)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:m0,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],q),q})(),Pe=(()=>{let q=class y0{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||y0)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:y0,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["disabled","value"]})],q),q})(),jr=(()=>{let q=class C0{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement}static \u0275fac=function(N){return new(N||C0)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:C0,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["color","mode"]})],q),q})(),ar=(()=>{let q=class b0{z;el;constructor(Q,N,be){this.z=be,Q.detach(),this.el=N.nativeElement,Ae(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}static \u0275fac=function(N){return new(N||b0)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:b0,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ze,decls:1,vars:0,template:function(N,be){1&N&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0})};return q=(0,M.gn)([Oe({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],q),q})(),vt=(()=>{class q extends se.jP{parentOutlet;outletContent;constructor(Q,N,be,mn,B,re,Ye,rt){super(Q,N,be,mn,B,re,Ye,rt),this.parentOutlet=rt}static \u0275fac=function(N){return new(N||q)(a.$8M("name"),a.$8M("tabs"),a.Y36(Ee.Ye),a.Y36(a.SBq),a.Y36(pe.F0),a.Y36(a.R0b),a.Y36(pe.gz),a.Y36(q,12))};static \u0275cmp=a.Xpm({type:q,selectors:[["ion-router-outlet"]],viewQuery:function(N,be){if(1&N&&a.Gf(Lt,7,a.s_b),2&N){let mn;a.iGM(mn=a.CRH())&&(be.outletContent=mn.first)}},features:[a.qOj],ngContentSelectors:Ze,decls:3,vars:0,consts:[["outletContent",""]],template:function(N,be){1&N&&(a.F$t(),a.ynx(0,null,0),a.Hsn(2),a.BQk())},encapsulation:2})}return q})();const qr={provide:$.Cf,useExisting:(0,a.Gpc)(()=>Tr),multi:!0};let Tr=(()=>{class q extends $.Fd{static \u0275fac=function(){let Q;return function(be){return(Q||(Q=a.n5z(q)))(be||q)}}();static \u0275dir=a.lG2({type:q,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,be){2&N&&a.uIk("max",be._enabled?be.max:null)},features:[a._Bn([qr]),a.qOj]})}return q})();const Ai={provide:$.Cf,useExisting:(0,a.Gpc)(()=>mi),multi:!0};let mi=(()=>{class q extends $.qQ{static \u0275fac=function(){let Q;return function(be){return(Q||(Q=a.n5z(q)))(be||q)}}();static \u0275dir=a.lG2({type:q,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,be){2&N&&a.uIk("min",be._enabled?be.min:null)},features:[a._Bn([Ai]),a.qOj]})}return q})(),Li=(()=>{class q extends se.xs{constructor(){super(He.a)}static \u0275fac=function(N){return new(N||q)};static \u0275prov=a.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),$r=(()=>{class q extends se.xs{constructor(){super(He.l)}static \u0275fac=function(N){return new(N||q)};static \u0275prov=a.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),po=(()=>{class q extends se.xs{angularDelegate=(0,a.f3M)(se.y4);injector=(0,a.f3M)(a.zs3);environmentInjector=(0,a.f3M)(a.lqb);constructor(){super(He.m)}create(Q){return super.create({...Q,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(N){return new(N||q)};static \u0275prov=a.Yz7({token:q,factory:q.\u0275fac})}return q})();class Pr extends se.xs{angularDelegate=(0,a.f3M)(se.y4);injector=(0,a.f3M)(a.zs3);environmentInjector=(0,a.f3M)(a.lqb);constructor(){super(He.c)}create(fr){return super.create({...fr,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const $i=(q,fr,Q)=>()=>{const N=fr.defaultView;if(N&&typeof window<"u"){(0,Be.s)({...q,_zoneGate:mn=>Q.run(mn)});const be="__zone_symbol__addEventListener"in fr.body?"__zone_symbol__addEventListener":"addEventListener";return function Re(){var q=[];if(typeof window<"u"){var fr=window;(!fr.customElements||fr.Element&&(!fr.Element.prototype.closest||!fr.Element.prototype.matches||!fr.Element.prototype.remove||!fr.Element.prototype.getRootNode))&&q.push(A.e(6748).then(A.t.bind(A,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||fr.NodeList&&!fr.NodeList.prototype.forEach||!fr.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&q.push(A.e(2214).then(A.t.bind(A,2668,23)))}return Promise.all(q)}().then(()=>st(N,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:se.Wn,jmp:mn=>Q.runOutsideAngular(mn),ael(mn,B,re,Ye){mn[be](B,re,Ye)},rel(mn,B,re,Ye){mn.removeEventListener(B,re,Ye)}}))}};let mo=(()=>{class q{static forRoot(Q){return{ngModule:q,providers:[{provide:se.dy,useValue:Q},{provide:a.ip1,useFactory:$i,multi:!0,deps:[se.dy,Ee.K0,a.R0b]},(0,se.DN)()]}}static \u0275fac=function(N){return new(N||q)};static \u0275mod=a.oAB({type:q});static \u0275inj=a.cJS({providers:[se.y4,po,Pr],imports:[Ee.ez]})}return q})()},7142:(bn,gt,A)=>{"use strict";A.d(gt,{Z:()=>a.Z});var a=A(3106);a.Z.registerVersion("firebase","10.12.2","app-compat")},3985:(bn,gt,A)=>{"use strict";A.r(gt);var a=A(5861),$=A(3106),se=A(534),M=A(9058),Ne=A(7879),Ee=A(7582),pe=A(4537);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Je=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},He=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new Ne.Yd("@firebase/auth");function Te(y,...d){Et.logLevel<=Ne.in.ERROR&&Et.error(`Auth (${se.SDK_VERSION}): ${y}`,...d)}function Re(y,...d){throw Lt(y,...d)}function he(y,...d){return Lt(y,...d)}function Fe(y,d,h){const E=Object.assign(Object.assign({},He()),{[d]:h});return new M.LL("auth","Firebase",E).create(d,{appName:y.name})}function st(y){return Fe(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ze(y,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Re(y,"argument-error"),Fe(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lt(y,...d){if("string"!=typeof y){const h=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(h,...E)}return lt.create(y,...d)}function Ge(y,d,...h){if(!y)throw Lt(d,...h)}function qt(y){const d="INTERNAL ASSERTION FAILED: "+y;throw Te(d),new Error(d)}function gn(y,d){y||qt(d)}function It(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function it(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class G{constructor(d,h){this.shortDelay=d,this.longDelay=h,gn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function W(y,d){gn(y.emulator,"Emulator should always be set here");const{url:h}=y.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class ie{static initialize(d,h,E){this.fetchImpl=d,h&&(this.headersImpl=h),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new G(3e4,6e4);function Oe(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Tt(y,d,h,E){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(y,d,h,E,U={}){return fn(y,U,(0,a.Z)(function*(){let ce={},at={};E&&("GET"===d?at=E:ce={body:JSON.stringify(E)});const Ft=(0,M.xO)(Object.assign({key:y.config.apiKey},at)).slice(1),hn=yield y._getAdditionalHeaders();return hn["Content-Type"]="application/json",y.languageCode&&(hn["X-Firebase-Locale"]=y.languageCode),ie.fetch()(Yn(y,y.config.apiHost,h,Ft),Object.assign({method:d,headers:hn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function fn(y,d,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(y,d,h){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ae),d);try{const U=new on(y),ce=yield Promise.race([h(),U.promise]);U.clearNetworkTimeout();const at=yield ce.json();if("needConfirmation"in at)throw nn(y,"account-exists-with-different-credential",at);if(ce.ok&&!("errorMessage"in at))return at;{const Ft=ce.ok?at.errorMessage:at.error.message,[hn,er]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===hn)throw nn(y,"credential-already-in-use",at);if("EMAIL_EXISTS"===hn)throw nn(y,"email-already-in-use",at);if("USER_DISABLED"===hn)throw nn(y,"user-disabled",at);const vr=E[hn]||hn.toLowerCase().replace(/[_\s]+/g,"-");if(er)throw Fe(y,vr,er);Re(y,vr)}}catch(U){if(U instanceof M.ZR)throw U;Re(y,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function Nt(y,d,h,E){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y,d,h,E,U={}){const ce=yield Tt(y,d,h,E,U);return"mfaPendingCredential"in ce&&Re(y,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function Yn(y,d,h,E){const U=`${d}${h}?${E}`;return y.config.emulator?W(y.config,U):`${y.config.apiScheme}://${U}`}function Ir(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class on{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,E)=>{this.timer=setTimeout(()=>E(he(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(y,d,h){const E={appName:y.name};h.email&&(E.email=h.email),h.phoneNumber&&(E.phoneNumber=h.phoneNumber);const U=he(y,d,E);return U.customData._tokenResponse=h,U}function xr(y){return void 0!==y&&void 0!==y.getResponse}function Wt(y){return void 0!==y&&void 0!==y.enterprise}class Ke{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Ir(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Ut(){return(Ut=(0,a.Z)(function*(y){return(yield Tt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ln(y,d){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(y,d){return Tt(y,"GET","/v2/recaptchaConfig",Oe(y,d))})).apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Cr(y,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function mr(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function sn(){return(sn=(0,a.Z)(function*(y,d=!1){const h=(0,M.m9)(y),E=yield h.getIdToken(d),U=Dr(E);Ge(U&&U.exp&&U.auth_time&&U.iat,h.auth,"internal-error");const ce="object"==typeof U.firebase?U.firebase:void 0,at=ce?.sign_in_provider;return{claims:U,token:E,authTime:mr(di(U.auth_time)),issuedAtTime:mr(di(U.iat)),expirationTime:mr(di(U.exp)),signInProvider:at||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function di(y){return 1e3*Number(y)}function Dr(y){const[d,h,E]=y.split(".");if(void 0===d||void 0===h||void 0===E)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,M.tV)(h);return U?JSON.parse(U):(Te("Failed to decode base64 JWT payload"),null)}catch(U){return Te("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Nr(y){const d=Dr(y);return Ge(d,"internal-error"),Ge(typeof d.exp<"u","internal-error"),Ge(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Fn(y,d){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(y,d,h=!1){if(h)return d;try{return yield d}catch(E){throw E instanceof M.ZR&&function qn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}class ei{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const U=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,a.Z)(function*(){yield h.iteration()}),E)}iteration(){var d=this;return(0,a.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class ur{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(y){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(y){var d;const h=y.auth,E=yield y.getIdToken(),U=yield Fn(y,Cr(h,{idToken:E}));Ge(U?.users.length,h,"internal-error");const ce=U.users[0];y._notifyReloadListener(ce);const at=null!==(d=ce.providerUserInfo)&&void 0!==d&&d.length?hi(ce.providerUserInfo):[],Ft=function Fi(y,d){return[...y.filter(E=>!d.some(U=>U.providerId===E.providerId)),...d]}(y.providerData,at),vr=!!y.isAnonymous&&!(y.email&&ce.passwordHash||Ft?.length),cr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:Ft,metadata:new ur(ce.createdAt,ce.lastLoginAt),isAnonymous:vr};Object.assign(y,cr)})).apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(y){const d=(0,M.m9)(y);yield Dn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function hi(y){return y.map(d=>{var{providerId:h}=d,E=(0,Ee._T)(d,["providerId"]);return{providerId:h,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function fe(){return(fe=(0,a.Z)(function*(y,d){const h=yield fn(y,{},(0,a.Z)(function*(){const E=(0,M.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:U,apiKey:ce}=y.config,at=Yn(y,U,"/v1/token",`key=${ce}`),Ft=yield y._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(at,{method:"POST",headers:Ft,body:E})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function ge(){return(ge=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v2/accounts:revokeToken",Oe(y,d))})).apply(this,arguments)}class ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ge(d.idToken,"internal-error"),Ge(typeof d.idToken<"u","internal-error"),Ge(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Nr(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}updateFromIdToken(d){Ge(0!==d.length,"internal-error");const h=Nr(d);this.updateTokensAndExpiration(d,null,h)}getToken(d,h=!1){var E=this;return(0,a.Z)(function*(){return h||!E.accessToken||E.isExpired?(Ge(E.refreshToken,d,"user-token-expired"),E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var E=this;return(0,a.Z)(function*(){const{accessToken:U,refreshToken:ce,expiresIn:at}=yield function ct(y,d){return fe.apply(this,arguments)}(d,h);E.updateTokensAndExpiration(U,ce,Number(at))})()}updateTokensAndExpiration(d,h,E){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,h){const{refreshToken:E,accessToken:U,expirationTime:ce}=h,at=new ve;return E&&(Ge("string"==typeof E,"internal-error",{appName:d}),at.refreshToken=E),U&&(Ge("string"==typeof U,"internal-error",{appName:d}),at.accessToken=U),ce&&(Ge("number"==typeof ce,"internal-error",{appName:d}),at.expirationTime=ce),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ve,this.toJSON())}_performRefresh(){return qt("not implemented")}}function wt(y,d){Ge("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class tn{constructor(d){var{uid:h,auth:E,stsTokenManager:U}=d,ce=(0,Ee._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=E,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new ur(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,a.Z)(function*(){const E=yield Fn(h,h.stsTokenManager.getToken(h.auth,d));return Ge(E,h.auth,"internal-error"),h.accessToken!==E&&(h.accessToken=E,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),E})()}getIdTokenResult(d){return function Ci(y){return sn.apply(this,arguments)}(this,d)}reload(){return function Ti(y){return Kr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ge(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new tn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var E=this;return(0,a.Z)(function*(){let U=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),U=!0),h&&(yield Dn(E)),yield E.auth._persistUserIfCurrent(E),U&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,a.Z)(function*(){if((0,se._isFirebaseServerApp)(d.auth.app))return Promise.reject(st(d.auth));const h=yield d.getIdToken();return yield Fn(d,function Hn(y,d){return zn.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var E,U,ce,at,Ft,hn,er,vr;const cr=null!==(E=h.displayName)&&void 0!==E?E:void 0,so=null!==(U=h.email)&&void 0!==U?U:void 0,Zo=null!==(ce=h.phoneNumber)&&void 0!==ce?ce:void 0,Wl=null!==(at=h.photoURL)&&void 0!==at?at:void 0,Eh=null!==(Ft=h.tenantId)&&void 0!==Ft?Ft:void 0,hd=null!==(hn=h._redirectEventId)&&void 0!==hn?hn:void 0,_g=null!==(er=h.createdAt)&&void 0!==er?er:void 0,kc=null!==(vr=h.lastLoginAt)&&void 0!==vr?vr:void 0,{uid:fd,emailVerified:pd,isAnonymous:gd,providerData:md,stsTokenManager:yd}=h;Ge(fd&&yd,d,"internal-error");const Yf=ve.fromJSON(this.name,yd);Ge("string"==typeof fd,d,"internal-error"),wt(cr,d.name),wt(so,d.name),Ge("boolean"==typeof pd,d,"internal-error"),Ge("boolean"==typeof gd,d,"internal-error"),wt(Zo,d.name),wt(Wl,d.name),wt(Eh,d.name),wt(hd,d.name),wt(_g,d.name),wt(kc,d.name);const Fc=new tn({uid:fd,auth:d,email:so,emailVerified:pd,displayName:cr,isAnonymous:gd,photoURL:Wl,phoneNumber:Zo,tenantId:Eh,stsTokenManager:Yf,createdAt:_g,lastLoginAt:kc});return md&&Array.isArray(md)&&(Fc.providerData=md.map(Yl=>Object.assign({},Yl))),hd&&(Fc._redirectEventId=hd),Fc}static _fromIdTokenResponse(d,h,E=!1){return(0,a.Z)(function*(){const U=new ve;U.updateFromServerResponse(h);const ce=new tn({uid:h.localId,auth:d,stsTokenManager:U,isAnonymous:E});return yield Dn(ce),ce})()}static _fromGetAccountInfoResponse(d,h,E){return(0,a.Z)(function*(){const U=h.users[0];Ge(void 0!==U.localId,"internal-error");const ce=void 0!==U.providerUserInfo?hi(U.providerUserInfo):[],at=!(U.email&&U.passwordHash||ce?.length),Ft=new ve;Ft.updateFromIdToken(E);const hn=new tn({uid:U.localId,auth:d,stsTokenManager:Ft,isAnonymous:at}),er={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:ce,metadata:new ur(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||ce?.length)};return Object.assign(hn,er),hn})()}}const kn=new Map;function xn(y){gn(y instanceof Function,"Expected a class definition");let d=kn.get(y);return d?(gn(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,kn.set(y,d),d)}const tt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(h,E){var U=this;return(0,a.Z)(function*(){U.storage[h]=E})()}_get(h){var E=this;return(0,a.Z)(function*(){const U=E.storage[h];return void 0===U?null:U})()}_remove(h){var E=this;return(0,a.Z)(function*(){delete E.storage[h]})()}_addListener(h,E){}_removeListener(h,E){}}return y.type="NONE",y})();function Qn(y,d,h){return`firebase:${y}:${d}:${h}`}class dr{constructor(d,h,E){this.persistence=d,this.auth=h,this.userKey=E;const{config:U,name:ce}=this.auth;this.fullUserKey=Qn(this.userKey,U.apiKey,ce),this.fullPersistenceKey=Qn("persistence",U.apiKey,ce),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,a.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?tn._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,a.Z)(function*(){if(h.persistence===d)return;const E=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,E?h.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,E="authUser"){return(0,a.Z)(function*(){if(!h.length)return new dr(xn(tt),d,E);const U=(yield Promise.all(h.map(function(){var er=(0,a.Z)(function*(vr){if(yield vr._isAvailable())return vr});return function(vr){return er.apply(this,arguments)}}()))).filter(er=>er);let ce=U[0]||xn(tt);const at=Qn(E,d.config.apiKey,d.name);let Ft=null;for(const er of h)try{const vr=yield er._get(at);if(vr){const cr=tn._fromJSON(d,vr);er!==ce&&(Ft=cr),ce=er;break}}catch{}const hn=U.filter(er=>er._shouldAllowMigration);return ce._shouldAllowMigration&&hn.length?(ce=hn[0],Ft&&(yield ce._set(at,Ft.toJSON())),yield Promise.all(h.map(function(){var er=(0,a.Z)(function*(vr){if(vr!==ce)try{yield vr._remove(at)}catch{}});return function(vr){return er.apply(this,arguments)}}())),new dr(ce,d,E)):new dr(ce,d,E)})()}}function Ct(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(En(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ot(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(On(d))return"Blackberry";if(Ar(d))return"Webos";if(ht(d))return"Safari";if((d.includes("chrome/")||Qt(d))&&!d.includes("edge/"))return"Chrome";if(wn(d))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function ot(y=(0,M.z$)()){return/firefox\//i.test(y)}function ht(y=(0,M.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Qt(y=(0,M.z$)()){return/crios\//i.test(y)}function En(y=(0,M.z$)()){return/iemobile/i.test(y)}function wn(y=(0,M.z$)()){return/android/i.test(y)}function On(y=(0,M.z$)()){return/blackberry/i.test(y)}function Ar(y=(0,M.z$)()){return/webos/i.test(y)}function Nn(y=(0,M.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function le(y=(0,M.z$)()){return Nn(y)||wn(y)||Ar(y)||On(y)||/windows phone/i.test(y)||En(y)}function Pe(y,d=[]){let h;switch(y){case"Browser":h=Ct((0,M.z$)());break;case"Worker":h=`${Ct((0,M.z$)())}-${y}`;break;default:h=y}const E=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${se.SDK_VERSION}/${E}`}class ft{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const E=ce=>new Promise((at,Ft)=>{try{at(d(ce))}catch(hn){Ft(hn)}});E.onAbort=h,this.queue.push(E);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,a.Z)(function*(){if(h.auth.currentUser===d)return;const E=[];try{for(const U of h.queue)yield U(d),U.onAbort&&E.push(U.onAbort)}catch(U){E.reverse();for(const ce of E)try{ce()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function In(){return(In=(0,a.Z)(function*(y,d={}){return Tt(y,"GET","/v2/passwordPolicy",Oe(y,d))})).apply(this,arguments)}class hr{constructor(d){var h,E,U,ce;const at=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=at.minPasswordLength)&&void 0!==h?h:6,at.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=at.maxPasswordLength),void 0!==at.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=at.containsLowercaseCharacter),void 0!==at.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=at.containsUppercaseCharacter),void 0!==at.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=at.containsNumericCharacter),void 0!==at.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=at.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(E=d.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(ce=d.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,E,U,ce,at,Ft;const hn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,hn),this.validatePasswordCharacterOptions(d,hn),hn.isValid&&(hn.isValid=null===(h=hn.meetsMinPasswordLength)||void 0===h||h),hn.isValid&&(hn.isValid=null===(E=hn.meetsMaxPasswordLength)||void 0===E||E),hn.isValid&&(hn.isValid=null===(U=hn.containsLowercaseLetter)||void 0===U||U),hn.isValid&&(hn.isValid=null===(ce=hn.containsUppercaseLetter)||void 0===ce||ce),hn.isValid&&(hn.isValid=null===(at=hn.containsNumericCharacter)||void 0===at||at),hn.isValid&&(hn.isValid=null===(Ft=hn.containsNonAlphanumericCharacter)||void 0===Ft||Ft),hn}validatePasswordLengthOptions(d,h){const E=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;E&&(h.meetsMinPasswordLength=d.length>=E),U&&(h.meetsMaxPasswordLength=d.length<=U)}validatePasswordCharacterOptions(d,h){let E;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let U=0;U<d.length;U++)E=d.charAt(U),this.updatePasswordCharacterOptionsStatuses(h,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(d,h,E,U,ce){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ce))}}class jr{constructor(d,h,E,U){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=E,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(d,h){var E=this;return h&&(this._popupRedirectResolver=xn(h)),this._initializationPromise=this.queue((0,a.Z)(function*(){var U,ce;if(!E._deleted&&(E.persistenceManager=yield dr.create(E,d),!E._deleted)){if(null!==(U=E._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(h),E.lastNotifiedUid=(null===(ce=E.currentUser)||void 0===ce?void 0:ce.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,a.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(d){var h=this;return(0,a.Z)(function*(){try{const E=yield Cr(h,{idToken:d}),U=yield tn._fromGetAccountInfoResponse(h,E,d);yield h.directlySetCurrentUser(U)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var h=this;return(0,a.Z)(function*(){var E;if((0,se._isFirebaseServerApp)(h.app)){const Ft=h.app.settings.authIdToken;return Ft?new Promise(hn=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(Ft).then(hn,hn))}):h.directlySetCurrentUser(null)}const U=yield h.assertedPersistence.getCurrentUser();let ce=U,at=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const Ft=null===(E=h.redirectUser)||void 0===E?void 0:E._redirectEventId,hn=ce?._redirectEventId,er=yield h.tryRedirectSignIn(d);(!Ft||Ft===hn)&&er?.user&&(ce=er.user,at=!0)}if(!ce)return h.directlySetCurrentUser(null);if(!ce._redirectEventId){if(at)try{yield h.beforeStateQueue.runMiddleware(ce)}catch(Ft){ce=U,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(Ft))}return ce?h.reloadAndSetCurrentUserOrClear(ce):h.directlySetCurrentUser(null)}return Ge(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===ce._redirectEventId?h.directlySetCurrentUser(ce):h.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(d){var h=this;return(0,a.Z)(function*(){let E=null;try{E=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,a.Z)(function*(){try{yield Dn(d)}catch(E){if("auth/network-request-failed"!==E?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,a.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,a.Z)(function*(){if((0,se._isFirebaseServerApp)(h.app))return Promise.reject(st(h));const E=d?(0,M.m9)(d):null;return E&&Ge(E.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(E&&E._clone(h))})()}_updateCurrentUser(d,h=!1){var E=this;return(0,a.Z)(function*(){if(!E._deleted)return d&&Ge(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),h||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,a.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,a.Z)(function*(){return(0,se._isFirebaseServerApp)(d.app)?Promise.reject(st(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var h=this;return(0,se._isFirebaseServerApp)(this.app)?Promise.reject(st(this)):this.queue((0,a.Z)(function*(){yield h.assertedPersistence.setPersistence(xn(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,a.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const E=h._getPasswordPolicyInternal();return E.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,a.Z)(function*(){const h=yield function $t(y){return In.apply(this,arguments)}(d),E=new hr(h);null===d.tenantId?d._projectPasswordPolicy=E:d._tenantPasswordPolicies[d.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new M.LL("auth","Firebase",d())}onAuthStateChanged(d,h,E){return this.registerStateListener(this.authStateSubscription,d,h,E)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,E){return this.registerStateListener(this.idTokenSubscription,d,h,E)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const E=this.onAuthStateChanged(()=>{E(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,a.Z)(function*(){if(h.currentUser){const E=yield h.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:E};null!=h.tenantId&&(U.tenantId=h.tenantId),yield function Ce(y,d){return ge.apply(this,arguments)}(h,U)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var E=this;return(0,a.Z)(function*(){const U=yield E.getOrInitRedirectPersistenceManager(h);return null===d?U.removeCurrentUser():U.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,a.Z)(function*(){if(!h.redirectPersistenceManager){const E=d&&xn(d)||h._popupRedirectResolver;Ge(E,h,"argument-error"),h.redirectPersistenceManager=yield dr.create(h,[xn(E._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,a.Z)(function*(){var E,U;return h._isInitialized&&(yield h.queue((0,a.Z)(function*(){}))),(null===(E=h._currentUser)||void 0===E?void 0:E._redirectEventId)===d?h._currentUser:(null===(U=h.redirectUser)||void 0===U?void 0:U._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,a.Z)(function*(){if(d===h.currentUser)return h.queue((0,a.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,E,U){if(this._deleted)return()=>{};const ce="function"==typeof h?h:h.next.bind(h);let at=!1;const Ft=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(Ft,this,"internal-error"),Ft.then(()=>{at||ce(this.currentUser)}),"function"==typeof h){const hn=d.addObserver(h,E,U);return()=>{at=!0,hn()}}{const hn=d.addObserver(h);return()=>{at=!0,hn()}}}directlySetCurrentUser(d){var h=this;return(0,a.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,a.Z)(function*(){var h;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const U=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();U&&(E["X-Firebase-Client"]=U);const ce=yield d._getAppCheckToken();return ce&&(E["X-Firebase-AppCheck"]=ce),E})()}_getAppCheckToken(){var d=this;return(0,a.Z)(function*(){var h;const E=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return E?.error&&function De(y,...d){Et.logLevel<=Ne.in.WARN&&Et.warn(`Auth (${se.SDK_VERSION}): ${y}`,...d)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function ar(y){return(0,M.m9)(y)}class we{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,M.ne)(h=>this.observer=h)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nt={loadJS:()=>(0,a.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function At(y){return nt.loadJS(y)}function _n(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Sn{constructor(d){this.type="recaptcha-enterprise",this.auth=ar(d)}verify(d="verify",h=!1){var E=this;return(0,a.Z)(function*(){function ce(){return ce=(0,a.Z)(function*(Ft){if(!h){if(null==Ft.tenantId&&null!=Ft._agentRecaptchaConfig)return Ft._agentRecaptchaConfig.siteKey;if(null!=Ft.tenantId&&void 0!==Ft._tenantRecaptchaConfigs[Ft.tenantId])return Ft._tenantRecaptchaConfigs[Ft.tenantId].siteKey}return new Promise(function(){var hn=(0,a.Z)(function*(er,vr){Ln(Ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cr=>{if(void 0!==cr.recaptchaKey){const so=new Ke(cr);return null==Ft.tenantId?Ft._agentRecaptchaConfig=so:Ft._tenantRecaptchaConfigs[Ft.tenantId]=so,er(so.siteKey)}vr(new Error("recaptcha Enterprise site key undefined"))}).catch(cr=>{vr(cr)})});return function(er,vr){return hn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function at(Ft,hn,er){const vr=window.grecaptcha;Wt(vr)?vr.enterprise.ready(()=>{vr.enterprise.execute(Ft,{action:d}).then(cr=>{hn(cr)}).catch(()=>{hn("NO_RECAPTCHA")})}):er(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ft,hn)=>{(function U(Ft){return ce.apply(this,arguments)})(E.auth).then(er=>{if(!h&&Wt(window.grecaptcha))at(er,Ft,hn);else{if(typeof window>"u")return void hn(new Error("RecaptchaVerifier is only supported in browser"));let vr=function vt(){return nt.recaptchaEnterpriseScript}();0!==vr.length&&(vr+=er),At(vr).then(()=>{at(er,Ft,hn)}).catch(cr=>{hn(cr)})}}).catch(er=>{hn(er)})})})()}}function or(y,d,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(y,d,h,E=!1){const U=new Sn(y);let ce;try{ce=yield U.verify(h)}catch{ce=yield U.verify(h,!0)}const at=Object.assign({},d);return Object.assign(at,E?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(at,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(at,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),at})).apply(this,arguments)}function qr(y,d,h,E){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,a.Z)(function*(y,d,h,E){var U;if(null!==(U=y._getRecaptchaConfig())&&void 0!==U&&U.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield or(y,d,h,"getOobCode"===h);return E(y,ce)}return E(y,d).catch(function(){var ce=(0,a.Z)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ft=yield or(y,d,h,"getOobCode"===h);return E(y,Ft)}return Promise.reject(at)});return function(at){return ce.apply(this,arguments)}}())}),Tr.apply(this,arguments)}function bi(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function Hr(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class go{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return qt("not implemented")}_getIdTokenResponse(d){return qt("not implemented")}_linkToIdToken(d,h){return qt("not implemented")}_getReauthenticationResolver(d){return qt("not implemented")}}function Pr(y,d){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:resetPassword",Oe(y,d))})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Or(y,d){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",Oe(y,d))})).apply(this,arguments)}function Q(y,d){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithPassword",Oe(y,d))})).apply(this,arguments)}function be(y,d){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:sendOobCode",Oe(y,d))})).apply(this,arguments)}function re(){return(re=(0,a.Z)(function*(y,d){return be(y,d)})).apply(this,arguments)}function Ye(y,d){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(y,d){return be(y,d)})).apply(this,arguments)}function bt(y,d){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(y,d){return be(y,d)})).apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(y,d){return be(y,d)})).apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithEmailLink",Oe(y,d))})).apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithEmailLink",Oe(y,d))})).apply(this,arguments)}class rr extends go{constructor(d,h,E,U=null){super("password",E),this._email=d,this._password=h,this._tenantId=U}static _fromEmailAndPassword(d,h){return new rr(d,h,"password")}static _fromEmailAndCode(d,h,E=null){return new rr(d,h,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,a.Z)(function*(){switch(h.signInMethod){case"password":return qr(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Q);case"emailLink":return function an(y,d){return Ht.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Re(d,"internal-error")}})()}_linkToIdToken(d,h){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return qr(d,{idToken:h,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Or);case"emailLink":return function Vn(y,d){return $n.apply(this,arguments)}(d,{idToken:h,email:E._email,oobCode:E._password});default:Re(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Bn(y,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithIdp",Oe(y,d))})).apply(this,arguments)}class kr extends go{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new kr(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Re("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:U}=h,ce=(0,Ee._T)(h,["providerId","signInMethod"]);if(!E||!U)return null;const at=new kr(E,U);return at.idToken=ce.idToken||void 0,at.accessToken=ce.accessToken||void 0,at.secret=ce.secret,at.nonce=ce.nonce,at.pendingToken=ce.pendingToken||null,at}_getIdTokenResponse(d){return Bn(d,this.buildRequest())}_linkToIdToken(d,h){const E=this.buildRequest();return E.idToken=h,Bn(d,E)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Bn(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,M.xO)(h)}return d}}function Si(){return(Si=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:sendVerificationCode",Oe(y,d))})).apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithPhoneNumber",Oe(y,d))})).apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(y,d){const h=yield Nt(y,"POST","/v1/accounts:signInWithPhoneNumber",Oe(y,d));if(h.temporaryProof)throw nn(y,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Zr={USER_NOT_FOUND:"user-not-found"};function ss(){return(ss=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithPhoneNumber",Oe(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Zr)})).apply(this,arguments)}class Xi extends go{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Xi({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Xi({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function Ui(y,d){return Ni.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function Mo(y,d){return yo.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function fs(y,d){return ss.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:E,verificationCode:U}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:E,code:U}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:E,phoneNumber:U,temporaryProof:ce}=d;return E||h||U||ce?new Xi({verificationId:h,verificationCode:E,phoneNumber:U,temporaryProof:ce}):null}}class Go{constructor(d){var h,E,U,ce,at,Ft;const hn=(0,M.zd)((0,M.pd)(d)),er=null!==(h=hn.apiKey)&&void 0!==h?h:null,vr=null!==(E=hn.oobCode)&&void 0!==E?E:null,cr=function Ao(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=hn.mode)&&void 0!==U?U:null);Ge(er&&vr&&cr,"argument-error"),this.apiKey=er,this.operation=cr,this.code=vr,this.continueUrl=null!==(ce=hn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(at=hn.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(Ft=hn.tenantId)&&void 0!==Ft?Ft:null}static parseLink(d){const h=function as(y){const d=(0,M.zd)((0,M.pd)(y)).link,h=d?(0,M.zd)((0,M.pd)(d)).deep_link_id:null,E=(0,M.zd)((0,M.pd)(y)).deep_link_id;return(E?(0,M.zd)((0,M.pd)(E)).link:null)||E||h||d||y}(d);try{return new Go(h)}catch{return null}}}let Ji=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(h,E){return rr._fromEmailAndPassword(h,E)}static credentialWithLink(h,E){const U=Go.parseLink(E);return Ge(U,"argument-error"),rr._fromEmailAndCode(h,U.code,U.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class li{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Di extends li{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ki extends Di{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return Ge("providerId"in h&&"signInMethod"in h,"argument-error"),kr._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ge(d.idToken||d.accessToken,"argument-error"),kr._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ki.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ki.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:E,oauthTokenSecret:U,pendingToken:ce,nonce:at,providerId:Ft}=d;if(!E&&!U&&!h&&!ce||!Ft)return null;try{return new Ki(Ft)._credential({idToken:h,accessToken:E,nonce:at,pendingToken:ce})}catch{return null}}}let Fs=(()=>{class y extends Di{constructor(){super("facebook.com")}static credential(h){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return y.credential(h.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ao=(()=>{class y extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(h,E){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:E})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:E,oauthAccessToken:U}=h;if(!E&&!U)return null;try{return y.credential(E,U)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ps=(()=>{class y extends Di{constructor(){super("github.com")}static credential(h){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return y.credential(h.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Wr extends go{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Bn(d,this.buildRequest())}_linkToIdToken(d,h){const E=this.buildRequest();return E.idToken=h,Bn(d,E)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Bn(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:U,pendingToken:ce}=h;return E&&U&&ce&&E===U?new Wr(E,ce):null}static _create(d,h){return new Wr(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wo extends li{constructor(d){Ge(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return wo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return wo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Wr.fromJSON(d);return Ge(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:E}=d;if(!h||!E)return null;try{return Wr._create(E,h)}catch{return null}}}let xa=(()=>{class y extends Di{constructor(){super("twitter.com")}static credential(h,E){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:E})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:E,oauthTokenSecret:U}=h;if(!E||!U)return null;try{return y.credential(E,U)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ia(y,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signUp",Oe(y,d))})).apply(this,arguments)}class Oo{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,E,U=!1){return(0,a.Z)(function*(){const ce=yield tn._fromIdTokenResponse(d,E,U),at=pa(E);return new Oo({user:ce,providerId:at,_tokenResponse:E,operationType:h})})()}static _forOperation(d,h,E){return(0,a.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const U=pa(E);return new Oo({user:d,providerId:U,_tokenResponse:E,operationType:h})})()}}function pa(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Hi(){return(Hi=(0,a.Z)(function*(y){var d;if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const h=ar(y);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new Oo({user:h.currentUser,providerId:null,operationType:"signIn"});const E=yield ia(h,{returnSecureToken:!0}),U=yield Oo._fromIdTokenResponse(h,"signIn",E,!0);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class ga extends M.ZR{constructor(d,h,E,U){var ce;super(h.code,h.message),this.operationType=E,this.user=U,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:d.name,tenantId:null!==(ce=d.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:h.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,h,E,U){return new ga(d,h,E,U)}}function Na(y,d,h,E){return("reauthenticate"===d?h._getReauthenticationResolver(y):h._getIdTokenResponse(y)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?ga._fromErrorAndOperation(y,ce,d,E):ce})}function K(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function O(){return O=(0,a.Z)(function*(y,d){const h=(0,M.m9)(y);yield Xn(!0,h,d);const{providerUserInfo:E}=yield function Gn(y,d){return Kn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),U=K(E||[]);return h.providerData=h.providerData.filter(ce=>U.has(ce.providerId)),U.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),O.apply(this,arguments)}function Ie(y,d){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(y,d,h=!1){const E=yield Fn(y,d._linkToIdToken(y.auth,yield y.getIdToken()),h);return Oo._forOperation(y,"link",E)})).apply(this,arguments)}function Xn(y,d,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(y,d,h){yield Dn(d);const U=!1===y?"provider-already-linked":"no-such-provider";Ge(K(d.providerData).has(h)===y,d.auth,U)})).apply(this,arguments)}function vo(y,d){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(y,d,h=!1){const{auth:E}=y;if((0,se._isFirebaseServerApp)(E.app))return Promise.reject(st(E));const U="reauthenticate";try{const ce=yield Fn(y,Na(E,U,d,y),h);Ge(ce.idToken,E,"internal-error");const at=Dr(ce.idToken);Ge(at,E,"internal-error");const{sub:Ft}=at;return Ge(y.uid===Ft,E,"user-mismatch"),Oo._forOperation(y,U,ce)}catch(ce){throw"auth/user-not-found"===ce?.code&&Re(E,"user-mismatch"),ce}})).apply(this,arguments)}function Uo(y,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,a.Z)(function*(y,d,h=!1){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const E="signIn",U=yield Na(y,E,d),ce=yield Oo._fromIdTokenResponse(y,E,U);return h||(yield y._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function no(y,d){return xo.apply(this,arguments)}function xo(){return(xo=(0,a.Z)(function*(y,d){return Uo(ar(y),d)})).apply(this,arguments)}function cs(y,d){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(y,d){const h=(0,M.m9)(y);return yield Xn(!1,h,d.providerId),Ie(h,d)})).apply(this,arguments)}function zi(y,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(y,d){return vo((0,M.m9)(y),d)})).apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(y,d){return Nt(y,"POST","/v1/accounts:signInWithCustomToken",Oe(y,d))})).apply(this,arguments)}function eo(){return eo=(0,a.Z)(function*(y,d){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const h=ar(y),E=yield function lo(y,d){return oa.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),U=yield Oo._fromIdTokenResponse(h,"signIn",E);return yield h._updateCurrentUser(U.user),U}),eo.apply(this,arguments)}class As{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?ws._fromServerResponse(d,h):"totpInfo"in h?gs._fromServerResponse(d,h):Re(d,"internal-error")}}class ws extends As{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new ws(h)}}class gs extends As{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new gs(h)}}function Ss(y,d,h){var E;Ge((null===(E=h.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Ge(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Ge(h.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(Ge(h.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Rs(y){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(y){const d=ar(y);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function es(){return(es=(0,a.Z)(function*(y,d,h){const E=ar(y),U={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&Ss(E,U,h),yield qr(E,U,"getOobCode",Ye)})).apply(this,arguments)}function Ps(){return Ps=(0,a.Z)(function*(y,d,h){yield Pr((0,M.m9)(y),{oobCode:d,newPassword:h}).catch(function(){var E=(0,a.Z)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Rs(y),U});return function(U){return E.apply(this,arguments)}}())}),Ps.apply(this,arguments)}function Wo(){return Wo=(0,a.Z)(function*(y,d){yield function q(y,d){return fr.apply(this,arguments)}((0,M.m9)(y),{oobCode:d})}),Wo.apply(this,arguments)}function il(y,d){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(y,d){const h=(0,M.m9)(y),E=yield Pr(h,{oobCode:d}),U=E.requestType;switch(Ge(U,h,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ge(E.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ge(E.mfaInfo,h,"internal-error");default:Ge(E.email,h,"internal-error")}let ce=null;return E.mfaInfo&&(ce=As._fromServerResponse(ar(h),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ce},operation:U}})).apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(y,d){const{data:h}=yield il((0,M.m9)(y),d);return h.email})).apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(y,d,h){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const E=ar(y),at=yield qr(E,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ia).catch(hn=>{throw"auth/password-does-not-meet-requirements"===hn.code&&Rs(y),hn}),Ft=yield Oo._fromIdTokenResponse(E,"signIn",at);return yield E._updateCurrentUser(Ft.user),Ft})).apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(y,d,h){const E=ar(y),U={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function ce(at,Ft){Ge(Ft.handleCodeInApp,E,"argument-error"),Ft&&Ss(E,at,Ft)})(U,h),yield qr(E,U,"getOobCode",bt)})).apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(y,d,h){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const E=(0,M.m9)(y),U=Ji.credentialWithLink(d,h||It());return Ge(U._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),no(E,U)})).apply(this,arguments)}function w(){return(w=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:createAuthUri",Oe(y,d))})).apply(this,arguments)}function L(){return L=(0,a.Z)(function*(y,d){const E={identifier:d,continueUri:it()?It():"http://localhost"},{signinMethods:U}=yield function la(y,d){return w.apply(this,arguments)}((0,M.m9)(y),E);return U||[]}),L.apply(this,arguments)}function et(){return et=(0,a.Z)(function*(y,d){const h=(0,M.m9)(y),U={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&Ss(h.auth,U,d);const{email:ce}=yield function B(y,d){return re.apply(this,arguments)}(h.auth,U);ce!==y.email&&(yield y.reload())}),et.apply(this,arguments)}function pn(){return pn=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};h&&Ss(E.auth,ce,h);const{email:at}=yield function Kt(y,d){return rn.apply(this,arguments)}(E.auth,ce);at!==y.email&&(yield y.reload())}),pn.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(y,d){return Tt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ii(){return ii=(0,a.Z)(function*(y,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const E=(0,M.m9)(y),ce={idToken:yield E.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},at=yield Fn(E,function sr(y,d){return si.apply(this,arguments)}(E.auth,ce));E.displayName=at.displayName||null,E.photoURL=at.photoUrl||null;const Ft=E.providerData.find(({providerId:hn})=>"password"===hn);Ft&&(Ft.displayName=E.displayName,Ft.photoURL=E.photoURL),yield E._updateTokensIfNecessary(at)}),ii.apply(this,arguments)}function Ri(y,d,h){return ro.apply(this,arguments)}function ro(){return ro=(0,a.Z)(function*(y,d,h){const{auth:E}=y,ce={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(ce.email=d),h&&(ce.password=h);const at=yield Fn(y,function $i(y,d){return wi.apply(this,arguments)}(E,ce));yield y._updateTokensIfNecessary(at,!0)}),ro.apply(this,arguments)}class co{constructor(d,h,E={}){this.isNewUser=d,this.providerId=h,this.profile=E}}class Ms extends co{constructor(d,h,E,U){super(d,h,E),this.username=U}}class V extends co{constructor(d,h){super(d,"facebook.com",h)}}class _ extends Ms{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class I extends co{constructor(d,h){super(d,"google.com",h)}}class x extends Ms{constructor(d,h,E){super(d,"twitter.com",h,E)}}function te(y){const{user:d,_tokenResponse:h}=y;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function $o(y){var d,h;if(!y)return null;const{providerId:E}=y,U=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ce=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&y?.idToken){const at=null===(h=null===(d=Dr(y.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(at)return new co(ce,"anonymous"!==at&&"custom"!==at?at:null)}if(!E)return null;switch(E){case"facebook.com":return new V(ce,U);case"github.com":return new _(ce,U);case"google.com":return new I(ce,U);case"twitter.com":return new x(ce,U,y.screenName||null);case"custom":case"anonymous":return new co(ce,null);default:return new co(ce,E,U)}}(h)}class Pi{constructor(d,h,E){this.type=d,this.credential=h,this.user=E}static _fromIdtoken(d,h){return new Pi("enroll",d,h)}static _fromMfaPendingCredential(d){return new Pi("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,E;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Pi._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(E=d.multiFactorSession)&&void 0!==E&&E.idToken)return Pi._fromIdtoken(d.multiFactorSession.idToken)}return null}}class So{constructor(d,h,E){this.session=d,this.hints=h,this.signInResolver=E}static _fromError(d,h){const E=ar(d),U=h.customData._serverResponse,ce=(U.mfaInfo||[]).map(Ft=>As._fromServerResponse(E,Ft));Ge(U.mfaPendingCredential,E,"internal-error");const at=Pi._fromMfaPendingCredential(U.mfaPendingCredential);return new So(at,ce,function(){var Ft=(0,a.Z)(function*(hn){const er=yield hn._process(E,at);delete U.mfaInfo,delete U.mfaPendingCredential;const vr=Object.assign(Object.assign({},U),{idToken:er.idToken,refreshToken:er.refreshToken});switch(h.operationType){case"signIn":const cr=yield Oo._fromIdTokenResponse(E,h.operationType,vr);return yield E._updateCurrentUser(cr.user),cr;case"reauthenticate":return Ge(h.user,E,"internal-error"),Oo._forOperation(h.user,h.operationType,vr);default:Re(E,"internal-error")}});return function(hn){return Ft.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,a.Z)(function*(){return h.signInResolver(d)})()}}class ys{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(E=>As._fromServerResponse(d.auth,E)))})}static _fromUser(d){return new ys(d)}getSession(){var d=this;return(0,a.Z)(function*(){return Pi._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var E=this;return(0,a.Z)(function*(){const U=d,ce=yield E.getSession(),at=yield Fn(E.user,U._process(E.user.auth,ce,h));return yield E.user._updateTokensIfNecessary(at),E.user.reload()})()}unenroll(d){var h=this;return(0,a.Z)(function*(){const E="string"==typeof d?d:d.uid,U=yield h.user.getIdToken();try{const ce=yield Fn(h.user,function ms(y,d){return Tt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(y,d))}(h.user.auth,{idToken:U,mfaEnrollmentId:E}));h.enrolledFactors=h.enrolledFactors.filter(({uid:at})=>at!==E),yield h.user._updateTokensIfNecessary(ce),yield h.user.reload()}catch(ce){throw ce}})()}}const Fa=new WeakMap,Ko="__sak";class us{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const vi=(()=>{class y extends us{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,E)=>this.onStorageEvent(h,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Va(){const y=(0,M.z$)();return ht(y)||Nn(y)}()&&function Qe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=le(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const E of Object.keys(this.listeners)){const U=this.storage.getItem(E),ce=this.localCache[E];U!==ce&&h(E,ce,U)}}onStorageEvent(h,E=!1){if(!h.key)return void this.forAllChangedKeys((Ft,hn,er)=>{this.notifyListeners(Ft,er)});const U=h.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ft=this.storage.getItem(U);if(h.newValue!==Ft)null!==h.newValue?this.storage.setItem(U,h.newValue):this.storage.removeItem(U);else if(this.localCache[U]===h.newValue&&!E)return}const ce=()=>{const Ft=this.storage.getItem(U);!E&&this.localCache[U]===Ft||this.notifyListeners(U,Ft)},at=this.storage.getItem(U);!function j(){return(0,M.w1)()&&10===document.documentMode}()||at===h.newValue||h.newValue===h.oldValue?ce():setTimeout(ce,10)}notifyListeners(h,E){this.localCache[h]=E;const U=this.listeners[h];if(U)for(const ce of Array.from(U))ce(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,E,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:E,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,E){var U=()=>super._set,ce=this;return(0,a.Z)(function*(){yield U().call(ce,h,E),ce.localCache[h]=JSON.stringify(E)})()}_get(h){var E=()=>super._get,U=this;return(0,a.Z)(function*(){const ce=yield E().call(U,h);return U.localCache[h]=JSON.stringify(ce),ce})()}_remove(h){var E=()=>super._remove,U=this;return(0,a.Z)(function*(){yield E().call(U,h),delete U.localCache[h]})()}}return y.type="LOCAL",y})(),Br=(()=>{class y extends us{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,E){}_removeListener(h,E){}}return y.type="SESSION",y})();let xs=(()=>{class y{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const E=this.receivers.find(ce=>ce.isListeningto(h));if(E)return E;const U=new y(h);return this.receivers.push(U),U}isListeningto(h){return this.eventTarget===h}handleEvent(h){var E=this;return(0,a.Z)(function*(){const U=h,{eventId:ce,eventType:at,data:Ft}=U.data,hn=E.handlersMap[at];if(!hn?.size)return;U.ports[0].postMessage({status:"ack",eventId:ce,eventType:at});const er=Array.from(hn).map(function(){var cr=(0,a.Z)(function*(so){return so(U.origin,Ft)});return function(so){return cr.apply(this,arguments)}}()),vr=yield function jo(y){return Promise.all(y.map(function(){var d=(0,a.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(E){return{fulfilled:!1,reason:E}}});return function(h){return d.apply(this,arguments)}}()))}(er);U.ports[0].postMessage({status:"done",eventId:ce,eventType:at,response:vr})})()}_subscribe(h,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(E)}_unsubscribe(h,E){this.handlersMap[h]&&E&&this.handlersMap[h].delete(E),(!E||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Xr(y="",d=10){let h="";for(let E=0;E<d;E++)h+=Math.floor(10*Math.random());return y+h}class wl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,E=50){var U=this;return(0,a.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let at,Ft;return new Promise((hn,er)=>{const vr=Xr("",20);ce.port1.start();const cr=setTimeout(()=>{er(new Error("unsupported_event"))},E);Ft={messageChannel:ce,onMessage(so){const Zo=so;if(Zo.data.eventId===vr)switch(Zo.data.status){case"ack":clearTimeout(cr),at=setTimeout(()=>{er(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),hn(Zo.data.response);break;default:clearTimeout(cr),clearTimeout(at),er(new Error("invalid_response"))}}},U.handlers.add(Ft),ce.port1.addEventListener("message",Ft.onMessage),U.target.postMessage({eventType:d,eventId:vr,data:h},[ce.port2])}).finally(()=>{Ft&&U.removeMessageHandler(Ft)})})()}}function to(){return window}function ns(){return typeof to().WorkerGlobalScope<"u"&&"function"==typeof to().importScripts}function ca(){return(ca=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ho="firebaseLocalStorageDb",Sl="firebaseLocalStorage",Ys="fbase_key";class b{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function R(y,d){return y.transaction([Sl],d?"readwrite":"readonly").objectStore(Sl)}function P(){const y=indexedDB.open(Ho,1);return new Promise((d,h)=>{y.addEventListener("error",()=>{h(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Sl,{keyPath:Ys})}catch(U){h(U)}}),y.addEventListener("success",(0,a.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Sl)?d(E):(E.close(),yield function T(){const y=indexedDB.deleteDatabase(Ho);return new b(y).toPromise()}(),d(yield P()))}))})}function z(y,d,h){return _e.apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(y,d,h){const E=R(y,!0).put({[Ys]:d,value:h});return new b(E).toPromise()})).apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(y,d){const h=R(y,!1).get(d),E=yield new b(h).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Zt(y,d){const h=R(y,!0).delete(d);return new b(h).toPromise()}const pi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,a.Z)(function*(){return h.db||(h.db=yield P()),h.db})()}_withRetries(h){var E=this;return(0,a.Z)(function*(){let U=0;for(;;)try{const ce=yield E._openDb();return yield h(ce)}catch(ce){if(U++>3)throw ce;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,a.Z)(function*(){return ns()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,a.Z)(function*(){h.receiver=xs._getInstance(function Co(){return ns()?self:null}()),h.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(U,ce){return{keyProcessed:(yield h._poll()).includes(ce.key)}});return function(U,ce){return E.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(U,ce){return["keyChanged"]});return function(U,ce){return E.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,a.Z)(function*(){var E,U;if(h.activeServiceWorker=yield function _o(){return ca.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new wl(h.activeServiceWorker);const ce=yield h.sender._send("ping",{},800);ce&&null!==(E=ce[0])&&void 0!==E&&E.fulfilled&&null!==(U=ce[0])&&void 0!==U&&U.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function eu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:h},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const h=yield P();return yield z(h,Ko,"1"),yield Zt(h,Ko),!0}catch{}return!1})()}_withPendingWrite(h){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield h()}finally{E.pendingWrites--}})()}_set(h,E){var U=this;return(0,a.Z)(function*(){return U._withPendingWrite((0,a.Z)(function*(){return yield U._withRetries(ce=>z(ce,h,E)),U.localCache[h]=E,U.notifyServiceWorker(h)}))})()}_get(h){var E=this;return(0,a.Z)(function*(){const U=yield E._withRetries(ce=>function Xe(y,d){return en.apply(this,arguments)}(ce,h));return E.localCache[h]=U,U})()}_remove(h){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(U=>Zt(U,h)),delete E.localCache[h],E.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,a.Z)(function*(){const E=yield h._withRetries(at=>{const Ft=R(at,!1).getAll();return new b(Ft).toPromise()});if(!E)return[];if(0!==h.pendingWrites)return[];const U=[],ce=new Set;if(0!==E.length)for(const{fbase_key:at,value:Ft}of E)ce.add(at),JSON.stringify(h.localCache[at])!==JSON.stringify(Ft)&&(h.notifyListeners(at,Ft),U.push(at));for(const at of Object.keys(h.localCache))h.localCache[at]&&!ce.has(at)&&(h.notifyListeners(at,null),U.push(at));return U})()}notifyListeners(h,E){this.localCache[h]=E;const U=this.listeners[h];if(U)for(const ce of Array.from(U))ce(E)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),pc=1e12;class _s{constructor(d){this.auth=d,this.counter=pc,this._widgets=new Map}render(d,h){const E=this.counter;return this._widgets.set(E,new Pl(d,this.auth.name,h||{})),this.counter++,E}reset(d){var h;const E=d||pc;null===(h=this._widgets.get(E))||void 0===h||h.delete(),this._widgets.delete(E)}getResponse(d){var h;return(null===(h=this._widgets.get(d||pc))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,a.Z)(function*(){var E;return null===(E=h._widgets.get(d||pc))||void 0===E||E.execute(),""})()}}class Pl{constructor(d,h,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof d?document.getElementById(d):d;Ge(U,"argument-error",{appName:h}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wi(y){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cl=_n("rcb"),Df=new G(3e4,6e4);class ag{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=to().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return Ge(function Af(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&xr(to().grecaptcha)?Promise.resolve(to().grecaptcha):new Promise((E,U)=>{const ce=to().setTimeout(()=>{U(he(d,"network-request-failed"))},Df.get());to()[cl]=()=>{to().clearTimeout(ce),delete to()[cl];const Ft=to().grecaptcha;if(!Ft||!xr(Ft))return void U(he(d,"internal-error"));const hn=Ft.render;Ft.render=(er,vr)=>{const cr=hn(er,vr);return this.counter++,cr},this.hostLanguage=h,E(Ft)},At(`${function Ot(){return nt.recaptchaV2Script}()}?${(0,M.xO)({onload:cl,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(ce),U(he(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=to().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ya{load(d){return(0,a.Z)(function*(){return new _s(d)})()}clearedOneInstance(){}}const Gu="recaptcha",Wu={theme:"light",type:"image"};class ja{constructor(d,h,E=Object.assign({},Wu)){this.parameters=E,this.type=Gu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(d),this.isInvisible="invisible"===this.parameters.size,Ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof h?document.getElementById(h):h;Ge(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ya:new ag,this.validateStartingState()}verify(){var d=this;return(0,a.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),E=d.getAssertedRecaptcha();return E.getResponse(h)||new Promise(ce=>{const at=Ft=>{Ft&&(d.tokenChangeListeners.delete(at),ce(Ft))};d.tokenChangeListeners.add(at),d.isInvisible&&E.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ge(!this.parameters.sitekey,this.auth,"argument-error"),Ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(E=>E(h)),"function"==typeof d)d(h);else if("string"==typeof d){const E=to()[d];"function"==typeof E&&E(h)}}}assertNotDestroyed(){Ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,a.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const E=document.createElement("div");h.appendChild(E),h=E}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,a.Z)(function*(){Ge(it()&&!ns(),d.auth,"internal-error"),yield function Yu(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function We(y){return Ut.apply(this,arguments)}(d.auth);Ge(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return Ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ks{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Xi._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function qs(){return(qs=(0,a.Z)(function*(y,d,h){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const E=ar(y),U=yield _a(E,d,(0,M.m9)(h));return new Ks(U,ce=>no(E,ce))})).apply(this,arguments)}function tu(){return(tu=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y);yield Xn(!1,E,"phone");const U=yield _a(E.auth,d,(0,M.m9)(h));return new Ks(U,ce=>cs(E,ce))})).apply(this,arguments)}function nu(){return(nu=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y);if((0,se._isFirebaseServerApp)(E.auth.app))return Promise.reject(st(E.auth));const U=yield _a(E.auth,d,(0,M.m9)(h));return new Ks(U,ce=>zi(E,ce))})).apply(this,arguments)}function _a(y,d,h){return ul.apply(this,arguments)}function ul(){return ul=(0,a.Z)(function*(y,d,h){var E;const U=yield h.verify();try{let ce;if(Ge("string"==typeof U,y,"argument-error"),Ge(h.type===Gu,y,"argument-error"),ce="string"==typeof d?{phoneNumber:d}:d,"session"in ce){const at=ce.session;if("phoneNumber"in ce)return Ge("enroll"===at.type,y,"internal-error"),(yield function ci(y,d){return Tt(y,"POST","/v2/accounts/mfaEnrollment:start",Oe(y,d))}(y,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Ge("signin"===at.type,y,"internal-error");const Ft=(null===(E=ce.multiFactorHint)||void 0===E?void 0:E.uid)||ce.multiFactorUid;return Ge(Ft,y,"missing-multi-factor-info"),(yield function vs(y,d){return Tt(y,"POST","/v2/accounts/mfaSignIn:start",Oe(y,d))}(y,{mfaPendingCredential:at.credential,mfaEnrollmentId:Ft,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield function Qi(y,d){return Si.apply(this,arguments)}(y,{phoneNumber:ce.phoneNumber,recaptchaToken:U});return at}}finally{h._reset()}}),ul.apply(this,arguments)}function Kd(){return(Kd=(0,a.Z)(function*(y,d){const h=(0,M.m9)(y);if((0,se._isFirebaseServerApp)(h.auth.app))return Promise.reject(st(h.auth));yield Ie(h,d)})).apply(this,arguments)}let dl=(()=>{class y{constructor(h){this.providerId=y.PROVIDER_ID,this.auth=ar(h)}verifyPhoneNumber(h,E){return _a(this.auth,h,(0,M.m9)(E))}static credential(h,E){return Xi._fromVerification(h,E)}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:E,temporaryProof:U}=h;return E&&U?Xi._fromTokenResponse(E,U):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ha(y,d){return d?xn(d):(Ge(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ol extends go{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Bn(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Bn(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Bn(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function xl(y){return Uo(y.auth,new Ol(y),y.bypassAuthState)}function ry(y){const{auth:d,user:h}=y;return Ge(h,d,"internal-error"),vo(h,new Ol(y),y.bypassAuthState)}function cg(y){return ru.apply(this,arguments)}function ru(){return(ru=(0,a.Z)(function*(y){const{auth:d,user:h}=y;return Ge(h,d,"internal-error"),Ie(h,new Ol(y),y.bypassAuthState)})).apply(this,arguments)}class gc{constructor(d,h,E,U,ce=!1){this.auth=d,this.resolver=E,this.user=U,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,a.Z)(function*(E,U){d.pendingPromise={resolve:E,reject:U};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ce){d.reject(ce)}});return function(E,U){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:U,postBody:ce,tenantId:at,error:Ft,type:hn}=d;if(Ft)return void h.reject(Ft);const er={auth:h.auth,requestUri:E,sessionId:U,tenantId:at||void 0,postBody:ce||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(hn)(er))}catch(vr){h.reject(vr)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return cg;case"reauthViaPopup":case"reauthViaRedirect":return ry;default:Re(this.auth,"internal-error")}}resolve(d){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ug=new G(2e3,1e4);function ua(){return(ua=(0,a.Z)(function*(y,d,h){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(he(y,"operation-not-supported-in-this-environment"));const E=ar(y);Ze(y,d,li);const U=Ha(E,h);return new Qd(E,"signInViaPopup",d,U).executeNotNull()})).apply(this,arguments)}function qd(){return(qd=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y);if((0,se._isFirebaseServerApp)(E.auth.app))return Promise.reject(he(E.auth,"operation-not-supported-in-this-environment"));Ze(E.auth,d,li);const U=Ha(E.auth,h);return new Qd(E.auth,"reauthViaPopup",d,U,E).executeNotNull()})).apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y);Ze(E.auth,d,li);const U=Ha(E.auth,h);return new Qd(E.auth,"linkViaPopup",d,U,E).executeNotNull()})).apply(this,arguments)}let Qd=(()=>{class y extends gc{constructor(h,E,U,ce,at){super(h,E,ce,at),this.provider=U,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var h=this;return(0,a.Z)(function*(){const E=yield h.execute();return Ge(E,h.auth,"internal-error"),E})()}onExecution(){var h=this;return(0,a.Z)(function*(){gn(1===h.filter.length,"Popup operations only handle one event");const E=Xr();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],E),h.authWindow.associatedEvent=E,h.resolver._originValidation(h.auth).catch(U=>{h.reject(U)}),h.resolver._isIframeWebStorageSupported(h.auth,U=>{U||h.reject(he(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const h=()=>{var E,U;this.pollId=null!==(U=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,ug.get())};h()}}return y.currentPopupAction=null,y})();const Zs="pendingRedirect",Nl=new Map;class ou extends gc{constructor(d,h,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,a.Z)(function*(){let E=Nl.get(h.auth._key());if(!E){try{const ce=(yield function su(y,d){return mc.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;E=()=>Promise.resolve(ce)}catch(U){E=()=>Promise.reject(U)}Nl.set(h.auth._key(),E)}return h.bypassAuthState||Nl.set(h.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(E,d);if("unknown"!==d.type){if(d.eventId){const U=yield E.auth._redirectUserForId(d.eventId);if(U)return E.user=U,h().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function mc(){return(mc=(0,a.Z)(function*(y,d){const h=Xd(d),E=vc(y);if(!(yield E._isAvailable()))return!1;const U="true"===(yield E._get(h));return yield E._remove(h),U})).apply(this,arguments)}function kl(y,d){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(y,d){return vc(y)._set(Xd(d),"true")})).apply(this,arguments)}function yc(y,d){Nl.set(y._key(),d)}function vc(y){return xn(y._redirectPersistence)}function Xd(y){return Qn(Zs,y.config.apiKey,y.name)}function Jd(y,d,h){return function _c(y,d,h){return Ea.apply(this,arguments)}(y,d,h)}function Ea(){return(Ea=(0,a.Z)(function*(y,d,h){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const E=ar(y);Ze(y,d,li),yield E._initializationPromise;const U=Ha(E,h);return yield kl(U,E),U._openRedirect(E,d,"signInViaRedirect")})).apply(this,arguments)}function Qs(y,d,h){return function wf(y,d,h){return au.apply(this,arguments)}(y,d,h)}function au(){return(au=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y);if(Ze(E.auth,d,li),(0,se._isFirebaseServerApp)(E.auth.app))return Promise.reject(st(E.auth));yield E.auth._initializationPromise;const U=Ha(E.auth,h);yield kl(U,E.auth);const ce=yield eh(E);return U._openRedirect(E.auth,d,"reauthViaRedirect",ce)})).apply(this,arguments)}function rs(y,d,h){return function Ec(y,d,h){return Ic.apply(this,arguments)}(y,d,h)}function Ic(){return(Ic=(0,a.Z)(function*(y,d,h){const E=(0,M.m9)(y);Ze(E.auth,d,li),yield E.auth._initializationPromise;const U=Ha(E.auth,h);yield Xn(!1,E,d.providerId),yield kl(U,E.auth);const ce=yield eh(E);return U._openRedirect(E.auth,d,"linkViaRedirect",ce)})).apply(this,arguments)}function qu(){return(qu=(0,a.Z)(function*(y,d){return yield ar(y)._initializationPromise,Xs(y,d,!1)})).apply(this,arguments)}function Xs(y,d){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(y,d,h=!1){if((0,se._isFirebaseServerApp)(y.app))return Promise.reject(st(y));const E=ar(y),U=Ha(E,d),at=yield new ou(E,U,h).execute();return at&&!h&&(delete at.user._redirectEventId,yield E._persistUserIfCurrent(at.user),yield E._setRedirectUser(null,d)),at})).apply(this,arguments)}function eh(y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(y){const d=Xr(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class Js{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(h=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function nh(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ns(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var E;if(d.error&&!Ns(d)){const U=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";h.onError(he(this.auth,U))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const E=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(d))}saveEventToCache(d){this.cachedEventUids.add(fl(d)),this.lastProcessedEventTime=Date.now()}}function fl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function Ns({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===d?.code}function Zu(y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(y,d={}){return Tt(y,"GET","/v1/projects",d)})).apply(this,arguments)}const iy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sf=/^https?/;function lu(){return(lu=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield Zu(y);for(const h of d)try{if(hg(h))return}catch{}Re(y,"unauthorized-domain")})).apply(this,arguments)}function hg(y){const d=It(),{protocol:h,hostname:E}=new URL(d);if(y.startsWith("chrome-extension://")){const at=new URL(y);return""===at.hostname&&""===E?"chrome-extension:"===h&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&at.hostname===E}if(!Sf.test(h))return!1;if(iy.test(y))return E===y;const U=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(E)}const sy=new G(3e4,6e4);function Rf(){const y=to().___jsl;if(y?.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let h=0;h<y.CP.length;h++)y.CP[h]=null}let Ca=null;const cu=new G(5e3,15e3),Fo="__/auth/iframe",Pf="emulator/auth/iframe",uu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ea(y){const d=y.config;Ge(d.authDomain,y,"auth-domain-config-required");const h=d.emulator?W(d,Pf):`https://${y.config.authDomain}/${Fo}`,E={apiKey:d.apiKey,appName:y.name,v:se.SDK_VERSION},U=Mf.get(y.config.apiHost);U&&(E.eid=U);const ce=y._getFrameworks();return ce.length&&(E.fw=ce.join(",")),`${h}?${(0,M.xO)(E).slice(1)}`}function Cc(){return Cc=(0,a.Z)(function*(y){const d=yield function Fl(y){return Ca=Ca||function ay(y){return new Promise((d,h)=>{var E,U,ce;function at(){Rf(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Rf(),h(he(y,"network-request-failed"))},timeout:sy.get()})}if(null!==(U=null===(E=to().gapi)||void 0===E?void 0:E.iframes)&&void 0!==U&&U.Iframe)d(gapi.iframes.getContext());else{if(null===(ce=to().gapi)||void 0===ce||!ce.load){const Ft=_n("iframefcb");return to()[Ft]=()=>{gapi.load?at():h(he(y,"network-request-failed"))},At(`${function un(){return nt.gapiScript}()}?onload=${Ft}`).catch(hn=>h(hn))}at()}}).catch(d=>{throw Ca=null,d})}(y),Ca}(y),h=to().gapi;return Ge(h,y,"internal-error"),d.open({where:document.body,url:ea(y),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uu,dontclear:!0},E=>new Promise(function(){var U=(0,a.Z)(function*(ce,at){yield E.restyle({setHideOnLeave:!1});const Ft=he(y,"network-request-failed"),hn=to().setTimeout(()=>{at(Ft)},cu.get());function er(){to().clearTimeout(hn),ce(E)}E.ping(er).then(er,()=>{at(Ft)})});return function(ce,at){return U.apply(this,arguments)}}()))}),Cc.apply(this,arguments)}const No={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rh{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wa="__/auth/handler",cy="emulator/auth/handler",ih=encodeURIComponent("fac");function hu(y,d,h,E,U,ce){return fu.apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(y,d,h,E,U,ce){Ge(y.config.authDomain,y,"auth-domain-config-required"),Ge(y.config.apiKey,y,"invalid-api-key");const at={apiKey:y.config.apiKey,appName:y.name,authType:h,redirectUrl:E,v:se.SDK_VERSION,eventId:U};if(d instanceof li){d.setDefaultLanguage(y.languageCode),at.providerId=d.providerId||"",(0,M.xb)(d.getCustomParameters())||(at.customParameters=JSON.stringify(d.getCustomParameters()));for(const[vr,cr]of Object.entries(ce||{}))at[vr]=cr}if(d instanceof Di){const vr=d.getScopes().filter(cr=>""!==cr);vr.length>0&&(at.scopes=vr.join(","))}y.tenantId&&(at.tid=y.tenantId);const Ft=at;for(const vr of Object.keys(Ft))void 0===Ft[vr]&&delete Ft[vr];const hn=yield y._getAppCheckToken(),er=hn?`#${ih}=${encodeURIComponent(hn)}`:"";return`${function pu({config:y}){return y.emulator?W(y,cy):`https://${y.authDomain}/${Wa}`}(y)}?${(0,M.xO)(Ft).slice(1)}${er}`})).apply(this,arguments)}const Dc="webStorageSupport",Qu=class oh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Br,this._completeRedirectFn=Xs,this._overrideRedirectResult=yc}_openPopup(d,h,E,U){var ce=this;return(0,a.Z)(function*(){var at;gn(null===(at=ce.eventManagers[d._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const Ft=yield hu(d,h,E,It(),U);return function Ls(y,d,h,E=500,U=600){const ce=Math.max((window.screen.availHeight-U)/2,0).toString(),at=Math.max((window.screen.availWidth-E)/2,0).toString();let Ft="";const hn=Object.assign(Object.assign({},No),{width:E.toString(),height:U.toString(),top:ce,left:at}),er=(0,M.z$)().toLowerCase();h&&(Ft=Qt(er)?"_blank":h),ot(er)&&(d=d||"http://localhost",hn.scrollbars="yes");const vr=Object.entries(hn).reduce((so,[Zo,Wl])=>`${so}${Zo}=${Wl},`,"");if(function ee(y=(0,M.z$)()){var d;return Nn(y)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(er)&&"_self"!==Ft)return function bc(y,d){const h=document.createElement("a");h.href=y,h.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(E)}(d||"",Ft),new rh(null);const cr=window.open(d||"",Ft,vr);Ge(cr,y,"popup-blocked");try{cr.focus()}catch{}return new rh(cr)}(d,Ft,Xr())})()}_openRedirect(d,h,E,U){var ce=this;return(0,a.Z)(function*(){return yield ce._originValidation(d),function Zi(y){to().location.href=y}(yield hu(d,h,E,It(),U)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:U,promise:ce}=this.eventManagers[h];return U?Promise.resolve(U):(gn(ce,"If manager is not set, promise should be"),ce)}const E=this.initAndGetManager(d);return this.eventManagers[h]={promise:E},E.catch(()=>{delete this.eventManagers[h]}),E}initAndGetManager(d){var h=this;return(0,a.Z)(function*(){const E=yield function Tc(y){return Cc.apply(this,arguments)}(d),U=new Js(d);return E.register("authEvent",ce=>(Ge(ce?.authEvent,d,"invalid-auth-event"),{status:U.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:U},h.iframes[d._key()]=E,U})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Dc,{type:Dc},U=>{var ce;const at=null===(ce=U?.[0])||void 0===ce?void 0:ce[Dc];void 0!==at&&h(!!at),Re(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function oy(y){return lu.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return le()||ht()||Nn()}};class sh{constructor(d){this.factorId=d}_process(d,h,E){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,E);case"signin":return this._finalizeSignIn(d,h.credential);default:return qt("unexpected MultiFactorSessionType")}}}class Ll extends sh{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ll(d)}_finalizeEnroll(d,h,E){return function Os(y,d){return Tt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(y,d))}(d,{idToken:h,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function Ba(y,d){return Tt(y,"POST","/v2/accounts/mfaSignIn:finalize",Oe(y,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gg=(()=>{class y{constructor(){}static assertion(h){return Ll._fromCredential(h)}}return y.FACTOR_ID="phone",y})();var td="@firebase/auth";class gu{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,a.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(E=>{d(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bl(){return window}(0,M.Pz)("authIdTokenMaxAge"),function $e(y){nt=y}({loadJS:y=>new Promise((d,h)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=d,E.onerror=U=>{const ce=he("internal-error");ce.customData=U,h(ce)},E.type="text/javascript",E.charset="UTF-8",function ah(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ac(y){(0,se._registerComponent)(new pe.wA("auth",(d,{options:h})=>{const E=d.getProvider("app").getImmediate(),U=d.getProvider("heartbeat"),ce=d.getProvider("app-check-internal"),{apiKey:at,authDomain:Ft}=E.options;Ge(at&&!at.includes(":"),"invalid-api-key",{appName:E.name});const hn={apiKey:at,authDomain:Ft,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pe(y)},er=new jr(E,U,ce,hn);return function bo(y,d){const h=d?.persistence||[],E=(Array.isArray(h)?h:[h]).map(xn);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(E,d?.popupRedirectResolver)}(er,h),er},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,E)=>{d.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new pe.wA("auth-internal",d=>{const h=ar(d.getProvider("auth").getImmediate());return new gu(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(td,"1.7.4",function Of(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,se.registerVersion)(td,"1.7.4","esm2017")}("Browser");function mu(){return mu=(0,a.Z)(function*(y,d,h){var E;const{BuildInfo:U}=Bl();gn(d.sessionId,"AuthEvent did not contain a session ID");const ce=yield function od(y){return sd.apply(this,arguments)}(d.sessionId),at={};return Nn()?at.ibi=U.packageName:wn()?at.apn=U.packageName:Re(y,"operation-not-supported-in-this-environment"),U.displayName&&(at.appDisplayName=U.displayName),at.sessionId=ce,hu(y,h,d.type,void 0,null!==(E=d.eventId)&&void 0!==E?E:void 0,at)}),mu.apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(y){const{BuildInfo:d}=Bl(),h={};Nn()?h.iosBundleId=d.packageName:wn()?h.androidPackageName=d.packageName:Re(y,"operation-not-supported-in-this-environment"),yield Zu(y,h)})).apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(y,d,h){const{cordova:E}=Bl();let U=()=>{};try{yield new Promise((ce,at)=>{let Ft=null;function hn(){var cr;ce();const so=null===(cr=E.plugins.browsertab)||void 0===cr?void 0:cr.close;"function"==typeof so&&so(),"function"==typeof h?.close&&h.close()}function er(){Ft||(Ft=window.setTimeout(()=>{at(he(y,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===document?.visibilityState&&er()}d.addPassiveListener(hn),document.addEventListener("resume",er,!1),wn()&&document.addEventListener("visibilitychange",vr,!1),U=()=>{d.removePassiveListener(hn),document.removeEventListener("resume",er,!1),document.removeEventListener("visibilitychange",vr,!1),Ft&&window.clearTimeout(Ft)}})}finally{U()}})).apply(this,arguments)}function sd(){return(sd=(0,a.Z)(function*(y){const d=function ch(y){if(gn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),h=new Uint8Array(d);for(let E=0;E<y.length;E++)h[E]=y.charCodeAt(E);return h}(y),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class uh extends Js{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,a.Z)(function*(){yield d.initPromise})()}}function Sc(y){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,a.Z)(function*(y){const d=yield Vf()._get(hh(y));return d&&(yield Vf()._remove(hh(y))),d})).apply(this,arguments)}function Es(){const y=[];for(let h=0;h<20;h++){const E=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return y.join("")}function Vf(){return xn(vi)}function hh(y){return Qn("authEvent",y.config.apiKey,y.name)}function Ka(y){if(!y?.includes("?"))return{};const[d,...h]=y.split("?");return(0,M.zd)(h.join("?"))}const Uf=class Bf{constructor(){this._redirectPersistence=Br,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xs,this._overrideRedirectResult=yc}_initialize(d){var h=this;return(0,a.Z)(function*(){const E=d._key();let U=h.eventManagers.get(E);return U||(U=new uh(d),h.eventManagers.set(E,U),h.attachCallbackListeners(d,U)),U})()}_openPopup(d){Re(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,E,U){var ce=this;return(0,a.Z)(function*(){!function lh(y){var d,h,E,U,ce,at,Ft,hn,er,vr;const cr=Bl();Ge("function"==typeof(null===(d=cr?.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ge(typeof(null===(h=cr?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ge("function"==typeof(null===(ce=null===(U=null===(E=cr?.cordova)||void 0===E?void 0:E.plugins)||void 0===U?void 0:U.browsertab)||void 0===ce?void 0:ce.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ge("function"==typeof(null===(hn=null===(Ft=null===(at=cr?.cordova)||void 0===at?void 0:at.plugins)||void 0===Ft?void 0:Ft.browsertab)||void 0===hn?void 0:hn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ge("function"==typeof(null===(vr=null===(er=cr?.cordova)||void 0===er?void 0:er.InAppBrowser)||void 0===vr?void 0:vr.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const at=yield ce._initialize(d);yield at.initialized(),at.resetRedirect(),function dg(){Nl.clear()}(),yield ce._originValidation(d);const Ft=function yg(y,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:Es(),postBody:null,tenantId:y.tenantId,error:he(y,"no-auth-event")}}(d,E,U);yield function dh(y,d){return Vf()._set(hh(y),d)}(d,Ft);const hn=yield function mg(y,d,h){return mu.apply(this,arguments)}(d,Ft,h),er=yield function rd(y){const{cordova:d}=Bl();return new Promise(h=>{d.plugins.browsertab.isAvailable(E=>{let U=null;E?d.plugins.browsertab.openUrl(y):U=d.InAppBrowser.open(y,function oe(y=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),h(U)})})}(hn);return function id(y,d,h){return gl.apply(this,arguments)}(d,at,er)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function kf(y){return Ul.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:E,handleOpenURL:U,BuildInfo:ce}=Bl(),at=setTimeout((0,a.Z)(function*(){yield Sc(d),h.onEvent($l())}),500),Ft=function(){var vr=(0,a.Z)(function*(cr){clearTimeout(at);const so=yield Sc(d);let Zo=null;so&&cr?.url&&(Zo=function dy(y,d){var h,E;const U=function ml(y){const d=Ka(y),h=d.link?decodeURIComponent(d.link):void 0,E=Ka(h).link,U=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ka(U).link||U||E||h||y}(d);if(U.includes("/__/auth/callback")){const ce=Ka(U),at=ce.firebaseError?function ad(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(ce.firebaseError)):null,Ft=null===(E=null===(h=at?.code)||void 0===h?void 0:h.split("auth/"))||void 0===E?void 0:E[1],hn=Ft?he(Ft):null;return hn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:hn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:U,postBody:null}}return null}(so,cr.url)),h.onEvent(Zo||$l())});return function(so){return vr.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,Ft);const hn=U,er=`${ce.packageName.toLowerCase()}://`;Bl().handleOpenURL=function(){var vr=(0,a.Z)(function*(cr){if(cr.toLowerCase().startsWith(er)&&Ft({url:cr}),"function"==typeof hn)try{hn(cr)}catch(so){console.error(so)}});return function(cr){return vr.apply(this,arguments)}}()}};function $l(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}function Vs(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function yu(y=(0,M.z$)()){return!("file:"!==Vs()&&"ionic:"!==Vs()&&"capacitor:"!==Vs()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ud(){try{const y=self.localStorage,d=Xr();if(y)return y.setItem(d,"1"),y.removeItem(d),!function gh(y=(0,M.z$)()){return function ld(){return(0,M.w1)()&&11===document?.documentMode}()||function cd(y=(0,M.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,M.hl)()}catch{return ba()&&(0,M.hl)()}return!1}function ba(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vu(){return(function ph(){return"http:"===Vs()||"https:"===Vs()}()||(0,M.ru)()||yu())&&!function Pc(){return(0,M.b$)()||(0,M.UG)()}()&&ud()&&!ba()}function Hf(){return yu()&&typeof document<"u"}function ds(){return(ds=(0,a.Z)(function*(){return!!Hf()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const ks={LOCAL:"local",NONE:"none",SESSION:"session"},qa=Ge,is="persistence";function Hl(y){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(y){yield y._initializationPromise;const d=vl(),h=Qn(is,y.config.apiKey,y.name);d&&d.setItem(h,y._getPersistence())})).apply(this,arguments)}function vl(){var y;try{return(null===(y=function _u(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const yh=Ge;class Za{constructor(){this.browserResolver=xn(Qu),this.cordovaResolver=xn(Uf),this.underlyingResolver=null,this._redirectPersistence=Br,this._completeRedirectFn=Xs,this._overrideRedirectResult=yc}_initialize(d){var h=this;return(0,a.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,E,U){var ce=this;return(0,a.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(d,h,E,U)})()}_openRedirect(d,h,E,U){var ce=this;return(0,a.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(d,h,E,U)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Hf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,a.Z)(function*(){if(d.underlyingResolver)return;const h=yield function mh(){return ds.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function Gf(y){return y.unwrap()}function Wf(y){return Oc(y)}function Oc(y){const{_tokenResponse:d}=y instanceof M.ZR?y.customData:y;if(!d)return null;if(!(y instanceof M.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return dl.credentialFromResult(y);const h=d.providerId;if(!h||h===je.PASSWORD)return null;let E;switch(h){case je.GOOGLE:E=ao;break;case je.FACEBOOK:E=Fs;break;case je.GITHUB:E=ps;break;case je.TWITTER:E=xa;break;default:const{oauthIdToken:U,oauthAccessToken:ce,oauthTokenSecret:at,pendingToken:Ft,nonce:hn}=d;return ce||at||U||Ft?Ft?h.startsWith("saml.")?Wr._create(h,Ft):kr._fromParams({providerId:h,signInMethod:h,pendingToken:Ft,idToken:U,accessToken:ce}):new Ki(h).credential({idToken:U,accessToken:ce,rawNonce:hn}):null}return y instanceof M.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function hs(y,d){return d.catch(h=>{throw h instanceof M.ZR&&function vg(y,d){var h;const E=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new _h(y,function yi(y,d){var h;const E=(0,M.m9)(y),U=d;return Ge(d.customData.operationType,E,"argument-error"),Ge(null===(h=U.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,E,"argument-error"),So._fromError(E,U)}(y,d));else if(E){const U=Oc(d),ce=d;U&&(ce.credential=U,ce.tenantId=E.tenantId||void 0,ce.email=E.email||void 0,ce.phoneNumber=E.phoneNumber||void 0)}}(y,h),h}).then(h=>{const U=h.user;return{operationType:h.operationType,credential:Wf(h),additionalUserInfo:te(h),user:Qa.getOrCreate(U)}})}function Eu(y,d){return zl.apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(y,d){const h=yield d;return{verificationId:h.verificationId,confirm:E=>hs(y,h.confirm(E))}})).apply(this,arguments)}class _h{constructor(d,h){this.resolver=h,this.auth=function vh(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return hs(Gf(this.auth),this.resolver.resolveSignIn(d))}}class Qa{constructor(d){this._delegate=d,this.multiFactor=function La(y){const d=(0,M.m9)(y);return Fa.has(d)||Fa.set(d,ys._fromUser(d)),Fa.get(d)}(d)}static getOrCreate(d){return Qa.USER_MAP.has(d)||Qa.USER_MAP.set(d,new Qa(d)),Qa.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,a.Z)(function*(){return hs(h.auth,cs(h._delegate,d))})()}linkWithPhoneNumber(d,h){var E=this;return(0,a.Z)(function*(){return Eu(E.auth,function Ml(y,d,h){return tu.apply(this,arguments)}(E._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,a.Z)(function*(){return hs(h.auth,function Zd(y,d,h){return iu.apply(this,arguments)}(h._delegate,d,Za))})()}linkWithRedirect(d){var h=this;return(0,a.Z)(function*(){return yield Hl(ar(h.auth)),rs(h._delegate,d,Za)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,a.Z)(function*(){return hs(h.auth,zi(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return Eu(this.auth,function Ku(y,d,h){return nu.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return hs(this.auth,function da(y,d,h){return qd.apply(this,arguments)}(this._delegate,d,Za))}reauthenticateWithRedirect(d){var h=this;return(0,a.Z)(function*(){return yield Hl(ar(h.auth)),Qs(h._delegate,d,Za)})()}sendEmailVerification(d){return function J(y,d){return et.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,a.Z)(function*(){return yield function X(y,d){return O.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function Qr(y,d){const h=(0,M.m9)(y);return(0,se._isFirebaseServerApp)(h.auth.app)?Promise.reject(st(h.auth)):Ri(h,d,null)}(this._delegate,d)}updatePassword(d){return function Bi(y,d){return Ri((0,M.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function lg(y,d){return Kd.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Vi(y,d){return ii.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function Jt(y,d,h){return pn.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qa.USER_MAP=new WeakMap;const _l=Ge;let dd=(()=>{class y{constructor(h,E){if(this.app=h,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=h.options;_l(U,"invalid-api-key",{appName:h.name}),_l(U,"invalid-api-key",{appName:h.name});const ce=typeof window<"u"?Za:void 0;this._delegate=E.initialize({options:{persistence:El(U,h.name),popupRedirectResolver:ce}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,E){!function Do(y,d,h){const E=ar(y);Ge(E._canInitEmulator,E,"emulator-config-failed"),Ge(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const U=!!h?.disableWarnings,ce=bi(d),{host:at,port:Ft}=function $r(y){const d=bi(y),h=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!h)return{host:"",port:null};const E=h[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(E);if(U){const ce=U[1];return{host:ce,port:Hr(E.substr(ce.length+1))}}{const[ce,at]=E.split(":");return{host:ce,port:Hr(at)}}}(d);E.config.emulator={url:`${ce}//${at}${null===Ft?"":`:${Ft}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:at,port:Ft,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function po(){function y(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,h,E)}applyActionCode(h){return function sa(y,d){return Wo.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return il(this._delegate,h)}confirmPasswordReset(h,E){return function ma(y,d,h){return Ps.apply(this,arguments)}(this._delegate,h,E)}createUserWithEmailAndPassword(h,E){var U=this;return(0,a.Z)(function*(){return hs(U._delegate,function ka(y,d,h){return ts.apply(this,arguments)}(U._delegate,h,E))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function ae(y,d){return L.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function ll(y,d){const h=Go.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}(0,h)}getRedirectResult(){var h=this;return(0,a.Z)(function*(){_l(vu(),h._delegate,"operation-not-supported-in-this-environment");const E=yield function qo(y,d){return qu.apply(this,arguments)}(h._delegate,Za);return E?hs(h._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function $f(y,d){ar(y)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,E,U){const{next:ce,error:at,complete:Ft}=Iu(h,E,U);return this._delegate.onAuthStateChanged(ce,at,Ft)}onIdTokenChanged(h,E,U){const{next:ce,error:at,complete:Ft}=Iu(h,E,U);return this._delegate.onIdTokenChanged(ce,at,Ft)}sendSignInLinkToEmail(h,E){return function zs(y,d,h){return al.apply(this,arguments)}(this._delegate,h,E)}sendPasswordResetEmail(h,E){return function Hs(y,d,h){return es.apply(this,arguments)}(this._delegate,h,E||void 0)}setPersistence(h){var E=this;return(0,a.Z)(function*(){let U;switch(function jl(y,d){qa(Object.values(ks).includes(d),y,"invalid-persistence-type"),(0,M.b$)()?qa(d!==ks.SESSION,y,"unsupported-persistence-type"):(0,M.UG)()?qa(d===ks.NONE,y,"unsupported-persistence-type"):ba()?qa(d===ks.NONE||d===ks.LOCAL&&(0,M.hl)(),y,"unsupported-persistence-type"):qa(d===ks.NONE||ud(),y,"unsupported-persistence-type")}(E._delegate,h),h){case ks.SESSION:U=Br;break;case ks.LOCAL:U=(yield xn(pi)._isAvailable())?pi:vi;break;case ks.NONE:U=tt;break;default:return Re("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return hs(this._delegate,function Al(y){return Hi.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return hs(this._delegate,no(this._delegate,h))}signInWithCustomToken(h){return hs(this._delegate,function $s(y,d){return eo.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,E){return hs(this._delegate,function sl(y,d,h){return(0,se._isFirebaseServerApp)(y.app)?Promise.reject(st(y)):no((0,M.m9)(y),Ji.credential(d,h)).catch(function(){var E=(0,a.Z)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Rs(y),U});return function(U){return E.apply(this,arguments)}}())}(this._delegate,h,E))}signInWithEmailLink(h,E){return hs(this._delegate,function ti(y,d,h){return Gs.apply(this,arguments)}(this._delegate,h,E))}signInWithPhoneNumber(h,E){return Eu(this._delegate,function va(y,d,h){return qs.apply(this,arguments)}(this._delegate,h,E))}signInWithPopup(h){var E=this;return(0,a.Z)(function*(){return _l(vu(),E._delegate,"operation-not-supported-in-this-environment"),hs(E._delegate,function za(y,d,h){return ua.apply(this,arguments)}(E._delegate,h,Za))})()}signInWithRedirect(h){var E=this;return(0,a.Z)(function*(){return _l(vu(),E._delegate,"operation-not-supported-in-this-environment"),yield Hl(E._delegate),Jd(E._delegate,h,Za)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function ol(y,d){return aa.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ks,y})();function Iu(y,d,h){let E=y;"function"!=typeof y&&({next:E,error:d,complete:h}=y);const U=E;return{next:at=>U(at&&Qa.getOrCreate(at)),error:d,complete:h}}function El(y,d){const h=function zf(y,d){const h=vl();if(!h)return[];const E=Qn(is,y,d);switch(h.getItem(E)){case ks.NONE:return[tt];case ks.LOCAL:return[pi,Br];case ks.SESSION:return[Br];default:return[]}}(y,d);if(typeof self<"u"&&!h.includes(pi)&&h.push(pi),typeof window<"u")for(const E of[vi,Br])h.includes(E)||h.push(E);return h.includes(tt)||h.push(tt),h}class Il{constructor(){this.providerId="phone",this._delegate=new dl(Gf($.Z.auth()))}static credential(d,h){return dl.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}Il.PHONE_SIGN_IN_METHOD=dl.PHONE_SIGN_IN_METHOD,Il.PROVIDER_ID=dl.PROVIDER_ID;const Gl=Ge;class Da{constructor(d,h,E=$.Z.app()){var U;Gl(null===(U=E.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new ja(E.auth(),d,h),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Nc(y){y.INTERNAL.registerComponent(new pe.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),E=d.getProvider("auth");return new dd(h,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ji,FacebookAuthProvider:Fs,GithubAuthProvider:ps,GoogleAuthProvider:ao,OAuthProvider:Ki,SAMLAuthProvider:wo,PhoneAuthProvider:Il,PhoneMultiFactorGenerator:gg,RecaptchaVerifier:Da,TwitterAuthProvider:xa,Auth:dd,AuthCredential:go,Error:M.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.9")}($.Z)},5861:(bn,gt,A)=>{"use strict";function a(se,M,Ne,Ee,pe,Le,je){try{var ye=se[Le](je),ne=ye.value}catch(Me){return void Ne(Me)}ye.done?M(ne):Promise.resolve(ne).then(Ee,pe)}function $(se){return function(){var M=this,Ne=arguments;return new Promise(function(Ee,pe){var Le=se.apply(M,Ne);function je(ne){a(Le,Ee,pe,je,ye,"next",ne)}function ye(ne){a(Le,Ee,pe,je,ye,"throw",ne)}je(void 0)})}}A.d(gt,{Z:()=>$})},7582:(bn,gt,A)=>{"use strict";A.d(gt,{FC:()=>Re,KL:()=>Fe,ZT:()=>$,_T:()=>M,gn:()=>Ne,mG:()=>Me,qq:()=>Te});var a=function(G,W){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,Ae){ie.__proto__=Ae}||function(ie,Ae){for(var ut in Ae)Object.prototype.hasOwnProperty.call(Ae,ut)&&(ie[ut]=Ae[ut])})(G,W)};function $(G,W){if("function"!=typeof W&&null!==W)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function ie(){this.constructor=G}a(G,W),G.prototype=null===W?Object.create(W):(ie.prototype=W.prototype,new ie)}function M(G,W){var ie={};for(var Ae in G)Object.prototype.hasOwnProperty.call(G,Ae)&&W.indexOf(Ae)<0&&(ie[Ae]=G[Ae]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Ae=Object.getOwnPropertySymbols(G);ut<Ae.length;ut++)W.indexOf(Ae[ut])<0&&Object.prototype.propertyIsEnumerable.call(G,Ae[ut])&&(ie[Ae[ut]]=G[Ae[ut]])}return ie}function Ne(G,W,ie,Ae){var Tt,ut=arguments.length,Oe=ut<3?W:null===Ae?Ae=Object.getOwnPropertyDescriptor(W,ie):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Oe=Reflect.decorate(G,W,ie,Ae);else for(var xt=G.length-1;xt>=0;xt--)(Tt=G[xt])&&(Oe=(ut<3?Tt(Oe):ut>3?Tt(W,ie,Oe):Tt(W,ie))||Oe);return ut>3&&Oe&&Object.defineProperty(W,ie,Oe),Oe}function Me(G,W,ie,Ae){return new(ie||(ie=Promise))(function(Oe,Tt){function xt(Nt){try{Rn(Ae.next(Nt))}catch(vn){Tt(vn)}}function fn(Nt){try{Rn(Ae.throw(Nt))}catch(vn){Tt(vn)}}function Rn(Nt){Nt.done?Oe(Nt.value):function ut(Oe){return Oe instanceof ie?Oe:new ie(function(Tt){Tt(Oe)})}(Nt.value).then(xt,fn)}Rn((Ae=Ae.apply(G,W||[])).next())})}function Te(G){return this instanceof Te?(this.v=G,this):new Te(G)}function Re(G,W,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Ae=ie.apply(G,W||[]),Oe=[];return ut={},Tt("next"),Tt("throw"),Tt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Tt(Yn){Ae[Yn]&&(ut[Yn]=function(Ir){return new Promise(function(on,nn){Oe.push([Yn,Ir,on,nn])>1||xt(Yn,Ir)})})}function xt(Yn,Ir){try{!function fn(Yn){Yn.value instanceof Te?Promise.resolve(Yn.value.v).then(Rn,Nt):vn(Oe[0][2],Yn)}(Ae[Yn](Ir))}catch(on){vn(Oe[0][3],on)}}function Rn(Yn){xt("next",Yn)}function Nt(Yn){xt("throw",Yn)}function vn(Yn,Ir){Yn(Ir),Oe.shift(),Oe.length&&xt(Oe[0][0],Oe[0][1])}}function Fe(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,W=G[Symbol.asyncIterator];return W?W.call(G):(G=function He(G){var W="function"==typeof Symbol&&Symbol.iterator,ie=W&&G[W],Ae=0;if(ie)return ie.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&Ae>=G.length&&(G=void 0),{value:G&&G[Ae++],done:!G}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),ie={},Ae("next"),Ae("throw"),Ae("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function Ae(Oe){ie[Oe]=G[Oe]&&function(Tt){return new Promise(function(xt,fn){!function ut(Oe,Tt,xt,fn){Promise.resolve(fn).then(function(Rn){Oe({value:Rn,done:xt})},Tt)}(xt,fn,(Tt=G[Oe](Tt)).done,Tt.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},bn=>{bn(bn.s=1115)}]);